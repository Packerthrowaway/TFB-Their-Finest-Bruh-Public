focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
		}
	}
	
	default = no
	
	continuous_focus_position = { x = 400 y = 1550 }


#	focus = {
#		id = SOV_example1
#		icon = GFX_focus_generic_soviet_politics_1
#		x = 30
#		y = 20
#		relative_position_id = SOV_defense1
#		cost = 1
#		ai_will_do = {
#			factor = 5
#		}

#		available_if_capitulated = yes
#
#		bypass = {
#		}

#		completion_reward = {
#			custom_effect_tooltip = SOV_generic_modify_command_economy_tt

#			custom_effect_tooltip = SOV_daily_political_power_gain_015_tt
#			add_to_variable = { SOV_command_economy_political_power_gain_var = 0.15 }
#			custom_effect_tooltip = SOV_political_power_gain_15_tt
#			add_political_power = 15
#			custom_effect_tooltip = SOV_weekly_stability_01_tt
#			add_to_variable = { SOV_command_economy_stability_gain_factor_var = 0.001 }
#			custom_effect_tooltip = SOV_stability_5_tt
#			add_to_variable = { SOV_command_economy_stability_factor_var = 0.05 }
			
#			custom_effect_tooltip = SOV_resource_gain_efficiency_10_tt
#			add_to_variable = { SOV_command_economy_local_resources_factor_var = 0.10 }
			
#			custom_effect_tooltip = SOV_research_speed_5_tt
#			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_dispersed_industry_research_5_tt
#			add_to_variable = { SOV_command_economy_dispersed_industry_category_var = 0.05 }
			
#			custom_effect_tooltip = SOV_consumer_good_factor_5_tt
#			add_to_variable = { SOV_command_economy_consumer_goods_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_expected_consumer_goods_5_tt
#			add_to_variable = { SOV_command_economy_consumer_goods_expected_value_var = 0.05 }
			
#			custom_effect_tooltip = SOV_construction_speed_5_tt
#			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_construction_speed_infra_5_tt
#			add_to_variable = { SOV_command_economy_production_speed_infrastructure_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_construction_speed_mil_5_tt
#			add_to_variable = { SOV_command_economy_production_speed_arms_factory_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_construction_speed_civ_5_tt
#			add_to_variable = { SOV_command_economy_production_speed_industrial_complex_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_construction_speed_dock_5_tt
#			add_to_variable = { SOV_command_economy_production_speed_dockyard_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_rubber_build_speed_25_tt
#			add_to_variable = { SOV_command_economy_production_speed_synthetic_rubber_refinery_factor_var = 0.25 }
			
#			custom_effect_tooltip = SOV_factories_in_state_factor_5_tt
#			add_to_variable = { SOV_command_economy_global_building_slots_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_factories_in_state_5_tt
#			add_to_variable = { SOV_command_economy_global_building_slots_var = 5 }
			
#			custom_effect_tooltip = SOV_factory_output_5_tt
#			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.05 }
#			custom_effect_tooltip = SOV_dockyard_output_-5_tt
#			add_to_variable = { SOV_command_economy_industrial_capacity_dockyard_var = -0.05 }
			
#			custom_effect_tooltip = SOV_efficiency_growth_5_tt
#			add_to_variable = { SOV_command_economy_production_factory_efficiency_gain_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_efficiency_cap_5_tt
#			add_to_variable = { SOV_command_economy_production_factory_max_efficiency_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_efficiency_base_5_tt
#			add_to_variable = { SOV_command_economy_production_factory_start_efficiency_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_efficiency_retention_5_tt
#			add_to_variable = { SOV_command_economy_line_change_production_efficiency_factor_var = 0.05 }
			
#			custom_effect_tooltip = SOV_civ_to_mil_conversion_20_tt
#			add_to_variable = { SOV_command_economy_conversion_cost_civ_to_mil_factor_var = -0.20 }
#			custom_effect_tooltip = SOV_mil_to_civ_conversion_20_tt
#			add_to_variable = { SOV_command_economy_conversion_cost_mil_to_civ_factor_var = -0.20 }
			
#			custom_effect_tooltip = SOV_construction_speed_land_facility_5_tt
#			add_to_variable = { SOV_command_economy_production_speed_land_facility_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_construction_speed_air_facility_5_tt
#			add_to_variable = { SOV_command_economy_production_speed_air_facility_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_construction_speed_nuclear_facility_5_tt
#			add_to_variable = { SOV_command_economy_production_speed_nuclear_facility_factor_var = 0.05 }
#		}
#	}


	focus = {
		id = SOV_pol_general1
		icon = GFX_focus_fra_loyalty_stalin
		x = 0
		y = 0
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER }

		completion_reward = {
			SOV_paranoia_increase_purge_counter_great = yes
			add_power_balance_value = {
				id = SOV_purge_bop
				value = 0.05
			}
			add_political_power = 25
		}
	}











	
	focus = {
		id = SOV_pol_purge1
		prerequisite = { focus = SOV_pol_general1 }
		icon = GFX_SOV_rework7
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_POLITICAL  FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_general1
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_power_balance_value = {
				id = SOV_purge_bop
				value = 0.05
			}
			add_political_power = 10
			add_stability = 0.05
		}
	}

	focus = {
		id = SOV_pol_purge3
		prerequisite = { focus = SOV_pol_purge1 }
		icon = GFX_SOV_rework5
		x = -2
		y = 1

		search_filters = { FOCUS_FILTER_POLITICAL  FOCUS_FILTER_STABILITY }

		relative_position_id = SOV_pol_purge1
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			has_country_flag = {
				flag = SOV_PURGE1_flag
				days > 180
			}
			custom_trigger_tooltip = {
				tooltip = SOV_PURGE1_flag_tt
				has_country_flag = {
					flag = SOV_PURGE1_flag
					days > 180
				}
			}
		}

		bypass = {
		}

		completion_reward = {
			add_political_power = 25
			add_stability = -0.05
		}
	}

	


	focus = {
		id = SOV_pol_purge4
		prerequisite = { focus = SOV_pol_purge1 }
		icon = GFX_SOV_rework2
		x = 2
		y = 1

		search_filters = { FOCUS_FILTER_POLITICAL  FOCUS_FILTER_PROPAGANDA }

		relative_position_id = SOV_pol_purge1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available = {
        has_political_power > 100
    }

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_political_power = -100
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}

			hidden_effect = {
				SOV_unlock_propaganda_campaign_slot_effect = yes
			}
			unlock_decision_category_tooltip = SOV_propaganda_campaigns
		}
	}

	focus = {
		id = SOV_pol_purge5
		prerequisite = { focus = SOV_pol_purge4 }
		icon = GFX_goal_opium
		mutually_exclusive = {focus = SOV_pol_purge6}
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_POLITICAL FOCUS_FILTER_MEX_CHURCH_AUTHORITY  FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_purge4
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_political_power = 100 
			add_stability = 0.05
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.2
			}
		}
	}

	focus = {
		id = SOV_pol_purge6
		prerequisite = { focus = SOV_pol_purge4 }
		icon = GFX_SOV_patriarch_of_all_russia_ccp_2d_sov_compatibility
		mutually_exclusive = {focus =  SOV_pol_purge5}
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL FOCUS_FILTER_MEX_CHURCH_AUTHORITY }

		relative_position_id = SOV_pol_purge4
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		available = {
        has_political_power > 50
    	}

		completion_reward = {
			add_political_power = -50
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_patriarch_sergy
			show_ideas_tooltip = SOV_metropolitan_anastasy
			show_ideas_tooltip = SOV_metropolitan_nikolay
			show_ideas_tooltip = SOV_metropolitan_aleksy
		}
	}

	focus = {
		id = SOV_pol_purge7
		prerequisite = { focus = SOV_pol_purge3 }
		icon = GFX_SOV_rework6
		mutually_exclusive = {focus = SOV_pol_purge8}
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_STABILITY }

		relative_position_id = SOV_pol_purge3
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available = {
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_stability = 0.05
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.1
			}
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = SOV_grigory_semyonov
				ROLE = political_advisor
			}
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = SOV_lev_kamenev
				ROLE = political_advisor
			}
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = SOV_ivar_smilga
				ROLE = political_advisor
			}
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = SOV_mikhail_tomsky
				ROLE = political_advisor
			}
		}
	}

	focus = {
		id = SOV_pol_purge8
		prerequisite = { focus = SOV_pol_purge3 }
		icon = GFX_focus_SOV_zinovyevists
		mutually_exclusive = {focus =  SOV_pol_purge7}
		x = 1
		y = 1
		relative_position_id = SOV_pol_purge3
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available = {
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL  FOCUS_FILTER_BALANCE_OF_POWER }

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.05
			}
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = SOV_grigory_semyonov
				ROLE = political_advisor
			}
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = SOV_lev_kamenev
				ROLE = political_advisor
			}
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = SOV_mikhail_tomsky
				ROLE = political_advisor
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_ivan_smirnov
		}
	}

	focus = {
		id = SOV_pol_purge9
		prerequisite = { focus = SOV_pol_purge8 focus =  SOV_pol_purge7}
		icon = GFX_SOV_rework8
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_PROPAGANDA }

		relative_position_id = SOV_pol_purge8
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available = {
				has_completed_focus = SOV_pol_purge4
        has_political_power > 100
					
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_political_power = -100
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_peace
			unlock_decision_tooltip = SOV_propaganda_knowledge
			unlock_decision_tooltip = SOV_propaganda_builders_of_communism
			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}

	focus = {
		id = SOV_pol_PURGE1
		prerequisite = { focus = SOV_pol_purge1 }
		icon = GFX_focus_SOV_purge_zinovyevists
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL  FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_purge1
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			set_country_flag = SOV_PURGE1_flag
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.25
			}
			add_political_power = 25
			custom_effect_tooltip = SOV_big_purge_1_tt
		}
	}

	focus = {
		id = SOV_pol_PURGE2
		prerequisite = { focus = SOV_pol_purge7 focus = SOV_pol_purge8}
		prerequisite = { focus = SOV_pol_PURGE1 }
		icon = GFX_focus_SOV_purge_trotskyists
		x = 0
		y = 3

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_PURGE1
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			
		}

		bypass = {
		}

		completion_reward = {
			set_country_flag =  SOV_PURGE2_flag
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.25
			}
			add_political_power = 25
			custom_effect_tooltip = SOV_big_purge_2_tt
		}
	}

	focus = {
		id = SOV_pol_PURGE3
		prerequisite = { focus = SOV_pol_PURGE2 }
		icon = GFX_focus_SOV_military_purge
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_XP FOCUS_FILTER_BALANCE_OF_POWER}

		relative_position_id = SOV_pol_PURGE2
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available = {
			has_country_flag = {
				flag = SOV_PURGE2_flag
				days > 180
			}
			custom_trigger_tooltip = {
				tooltip = SOV_PURGE2_flag_tt
				has_country_flag = {
					flag = SOV_PURGE2_flag
					days > 180
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			set_country_flag = SOV_PURGE3_flag
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.25
			}
			add_political_power = 25
			custom_effect_tooltip = SOV_big_purge_3_tt
			add_timed_idea = {
				idea = generals_purged
				days = 1825
			}

			every_army_leader = {
				add_unit_leader_trait = trait_SOV_cowed_by_stalin_army
				add_attack = -1
				add_defense = -1
				add_planning = -1
				add_logistics = -1
			}

		}
	}

	focus = {
		id = SOV_pol_PURGE4
		prerequisite = { focus = SOV_pol_purge12 focus = SOV_pol_purge13}
		icon = GFX_focus_SOV_purge_bukharinists
		x = 0
		y = 2

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_PURGE3
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available = {
			has_country_flag = {
				flag = SOV_PURGE3_flag
				days > 180
			}
			custom_trigger_tooltip = {
				tooltip = SOV_PURGE3_flag_tt
				has_country_flag = {
					flag = SOV_PURGE3_flag
					days > 180
				}
			}
			
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_political_power = 25
			custom_effect_tooltip = SOV_big_purge_4_tt
			set_country_flag = SOV_big_purge_decision4_flag
			remove_power_balance = {
    		id = SOV_purge_bop 
		}
		}
	}

	focus = {
		id = SOV_pol_purge14
		prerequisite = { focus = SOV_pol_PURGE4 }
		icon = GFX_SOV_rework4
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_PROPAGANDA  FOCUS_FILTER_POLITICAL }

		available = {
			has_political_power > 25
		}

		relative_position_id = SOV_pol_PURGE4
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			has_country_flag = SOV_big_purge_decision4_flag
		}

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_fon_tt
			add_political_power = -25
		}
	}

	focus = {
		id = SOV_pol_purge10
		prerequisite = { focus = SOV_pol_PURGE2 }
		icon = GFX_SOV_rework11
		x = -2
		y = 3

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_PURGE2
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			NOT = {has_completed_focus = SOV_pol_PURGE4}
		}

		bypass = {
		}

		completion_reward = {
			add_power_balance_value = {
				id = SOV_purge_bop
				value = 0.15
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_ivar_smilga
			show_ideas_tooltip = SOV_aleksandr_shlyapnikov
		}
	}

	


	focus = {
		id = SOV_pol_purge11
		prerequisite = { focus = SOV_pol_PURGE2 }
		icon = GFX_focus_por_workers_of_iberia
		x = 2
		y = 3

		search_filters = { FOCUS_FILTER_PROPAGANDA  FOCUS_FILTER_POLITICAL }

		relative_position_id = SOV_pol_PURGE2
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available = {
			has_completed_focus = SOV_pol_purge9
			has_political_power > 50
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_political_power = -50
			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_happy_life
			unlock_decision_tooltip = SOV_propaganda_for_the_motherland
			unlock_decision_tooltip = SOV_propaganda_heroes_forward
			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}

	focus = {
		id = SOV_pol_purge12
		prerequisite = { focus = SOV_pol_PURGE3 }
		icon = GFX_SOV_rework81
		mutually_exclusive =  {focus = SOV_pol_purge13}
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER  FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER }


		relative_position_id = SOV_pol_PURGE3
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
IF = {
				LIMIT = {NOT = {has_country_flag = SOV_big_purge_decision4_flag}}
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.1
				}
			custom_effect_tooltip = SOV_purge_purge12_tt
			hidden_effect = {
			


				if = {
                limit = {
                    has_character = SOV_vasily_blyukher
                }
                SOV_vasily_blyukher = {
                    SOV_purge_character_effect = yes	
                }
            }


			if = {
                limit = {
                    has_character = SOV_mikhail_tukhachevsky
                }
                SOV_mikhail_tukhachevsky = {
                    SOV_purge_character_effect = yes	
                }
            }

			if = {
                limit = {
                    has_character = SOV_aleksandr_yegorov
                }
                SOV_aleksandr_yegorov = {
                    SOV_purge_character_effect = yes	
                }
            }

			if = {
                limit = {
                    has_character = SOV_vitaly_primakov
                }
                SOV_vitaly_primakov = {
                    SOV_purge_character_effect = yes	
                }
            }

			}
			}





	
	}
	}

focus = {
		id = SOV_pol_purge13
		prerequisite = { focus = SOV_pol_PURGE3 }
		icon = GFX_SOV_rework103
		mutually_exclusive =  {focus = SOV_pol_purge12}
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_MILITARY_CHARACTER  FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_PURGE3
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes
		continue_if_invalid = yes

		bypass = {
		}

		available = {
			power_balance_value = {
    id = SOV_purge_bop
    value < -0.7
}
		}

		

		completion_reward = {
			IF = {
				LIMIT = {NOT = {has_country_flag = SOV_big_purge_decision4_flag}}
			add_power_balance_value = {
				id = SOV_purge_bop
				value = 0.1
				}
				add_stability = -0.1
			custom_effect_tooltip = SOV_purge_purge13_tt
			hidden_effect = {
			
			if = {
                limit = {
                    has_character = SOV_vitaly_primakov
                }
                SOV_vitaly_primakov = {
                    SOV_purge_character_effect = yes	
                }
            }
			}
			}
		}		
	}

	#### FOREIGN BRANCH
	focus = {
		id = SOV_pol_socialism_in_one_country
		prerequisite = { focus = SOV_pol_general1 }
		icon = GFX_focus_SOV_socialism_in_one_country
		x = -9
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		relative_position_id = SOV_pol_general1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_war_support = 0.025
			add_stability = 0.025
		}
	}

	focus = {
		id = SOV_spain_big
		prerequisite = { focus = SOV_pol_socialism_in_one_country }
		mutually_exclusive = { focus = SOV_spain_small}
		icon = GFX_SOV_goal_military_in_spain
		x = 2
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_socialism_in_one_country
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes
		
		available = {
			has_global_flag = spanish_civil_war
		}

		bypass = {
		}

		completion_reward = {
			D01 = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 10000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = squad_equipment_0
					amount = 2000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment_1
					amount = 400
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = horse_equipment
					amount = 1000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = sov_light_tank_chassis_t26
					amount = 200
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = motorized_equipment
					amount = 500
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = train_equipment_1
					amount = 35
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 250
					producer = SOV
				}
			}
			add_timed_idea = {
				idea = SOV_major_industrial_effort
				days = 120
			}
			add_ideas = SOV_volunteers_in_spain
		}
	}

	focus = {
		id = SOV_spain_small
		prerequisite = { focus = SOV_pol_socialism_in_one_country }
		mutually_exclusive = { focus = SOV_spain_big}
		icon = GFX_SOV_rework65
		x = -2
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_socialism_in_one_country
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes
		
		available = {
			has_global_flag = spanish_civil_war
		}

		bypass = {
			has_global_flag = scw_over
		}

		completion_reward = {
			D01 = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 5000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = squad_equipment_0
					amount = 1000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment_1
					amount = 200
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = horse_equipment
					amount = 500
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = motorized_equipment
					amount = 300
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = train_equipment_1
					amount = 25
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 150
					producer = SOV
				}
			}
			add_timed_idea = {
				idea = SOV_minor_industrial_effort
				days = 60
			}
			add_ideas = SOV_volunteers_in_spain			
		}
	}
	
	focus = {
		id = SOV_spanish_gold
		prerequisite = { focus = SOV_spain_small  focus = SOV_spain_big }
		icon = GFX_SOV_borrow_spanish_gold
		x = 6
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_spain_small
		cost = 1
		ai_will_do = {
			factor = 5
		}
		
		continue_if_invalid = yes

		available_if_capitulated = yes
		
		available = {
			date > 1937.5.1
			NOT = {has_global_flag = scw_over}
		}

		bypass = {
		}

		completion_reward = {
			add_timed_idea = {
				days = 365
				idea = SOV_spanish_gold
			}
		}
	}


	focus = {
		id = SOV_spanish_training
		prerequisite = { focus = SOV_spain_small  focus = SOV_spain_big }
		icon = GFX_SOV_rework105
		x = -2
		y = 1

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_XP}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_spain_small
		cost = 2
		ai_will_do = {
			factor = 5
		}
		
		continue_if_invalid = yes

		available_if_capitulated = yes
		
		available = {
			NOT = {has_global_flag = scw_over}
			has_political_power > 50
		}

		bypass = {
		}

		completion_reward = {
			army_experience = 35
			add_war_support = 0.05
			add_political_power = -50
		}
	}
	
	focus = {
		id = SOV_china_small
		prerequisite = { focus = SOV_spain_big focus = SOV_spain_small }
		mutually_exclusive = { focus = SOV_china_big }
		icon = GFX_SOV_goal_operation_zet
		x = -2
		y = 2

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_socialism_in_one_country
		cost = 2
		ai_will_do = {
			factor = 5
		}
		
		available = {
			CHI = { has_war_with = JAP}
		}

		available_if_capitulated = yes

		bypass = {
			NOT = {country_exists = CHI}
		}

		completion_reward = {
			custom_effect_tooltip = SOV_japan_dlc_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			CHI = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 5000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = squad_equipment_0
					amount = 1000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = horse_equipment
					amount = 1000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment_1
					amount = 200
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = sov_light_tank_chassis_t26
					amount = 150
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = motorized_equipment
					amount = 300
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = train_equipment_1
					amount = 30
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 100
					producer = SOV
				}
			}
			605 = {
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			add_timed_idea = {
				idea = SOV_minor_industrial_effort
				days = 60
			}
			add_ideas = SOV_volunteers_in_china_small
		}
	}

	focus = {
		id = SOV_china_big
		prerequisite = { focus = SOV_spain_small focus = SOV_spain_big }
		mutually_exclusive = { focus = SOV_china_small}
		icon = GFX_SOV_protect_the_east
		x = 2
		y = 2

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_socialism_in_one_country
		cost = 3
		ai_will_do = {
			factor = 5
		}
		
		available = {
			CHI = { has_war_with = JAP}
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_japan_dlc_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			CHI = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 10000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = squad_equipment_0
					amount = 2000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = horse_equipment
					amount = 2000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment_1
					amount = 500
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = sov_light_tank_chassis_t26
					amount = 400
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = motorized_equipment
					amount = 700
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = train_equipment_1
					amount = 50
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 200
					producer = SOV
				}
			}
			605 = {
				add_building_construction = {
					type = air_base
					level = 6
					instant_build = yes
				}
			}
			add_timed_idea = {
				idea = SOV_major_industrial_effort
				days = 120
			}
			add_ideas = SOV_volunteers_in_china_big
		}
	}
	
	focus = {
		id = SOV_pol_china_victory
		prerequisite = { focus = SOV_china_big focus = SOV_china_small }
		mutually_exclusive = { focus = SOV_japan_peace }
		icon = GFX_SOV_rework112
		x = -6
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY }

		allow_branch = {
			always = no
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_china_big
		cost = 5
		ai_will_do = {
			factor = 5
		}
		
		available = {
			date > 1939.9.1
			country_exists = CHI
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_japan_dlc_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			SOV = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 20000
					producer = CHI
				}
				add_doctrine_cost_reduction = {
					name = doc_bonus
					cost_reduction = 0.4
					uses = 1
					category = cat_mass_assault
				}
				657 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				561 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				563 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = SOV_japan_peace
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = SOV_china_big focus = SOV_china_small }
		mutually_exclusive = { focus = SOV_japan_war focus = SOV_pol_china_victory }
		x = -2
		y = 1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_china_big
		available = {
			OR = {
				has_war_with = GER
				has_war_with = ITA
			}
		}
		cost = 5
		bypass = {
			OR = {
				has_war_with = JAP
				NOT = { country_exists = JAP }
			}
		}
		completion_reward = {
			custom_effect_tooltip = SOV_japan_dlc_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			JAP = { 
				country_event = { id = soviet.1111 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				JAP = {
					diplomatic_relation = {
						country = SOV
						relation = non_aggression_pact
						active = yes
					}
					set_truce = {
						target = SOV
						days = 730
					}
				}
			}
			
		}
	}
	
	focus = {
		id = SOV_japan_war # Maybe lock behind winning border war??
		icon = GFX_SOV_rework121
		prerequisite = { focus = SOV_china_big focus = SOV_china_small }
		mutually_exclusive = { focus = SOV_japan_peace }
		x = 2
		y = 1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_china_big
		available = {
			always = no
		}
		cost = 5
		bypass = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_japan_dlc_tt
		}
	}

	focus = {
		id = SOV_pol_triple_alliance
		prerequisite = { focus = SOV_china_small focus = SOV_china_big }
		mutually_exclusive = { focus = SOV_pol_molotov_ribbentrop_pact}
		icon = GFX_SOV_rework10
		x = -1
		y = 4

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_PROPAGANDA FOCUS_FILTER_STABILITY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_socialism_in_one_country
		cost = 5
		ai_will_do = {
			factor = 5
		}
		
		available = {
			ENG = { has_completed_focus = ENG_containment }
			OR = {
				GER = { has_completed_focus = GER_fate_of_czechoslovakia }
				GER = { has_completed_focus = GER_integrate_czechoslovakia }
			}
			NOT = { has_global_flag = sov_yes_pact }
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = generic_skip_one_line_tt
			USA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			ENG = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			FRA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_fascists }
			}
			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_anti_fascism
			custom_effect_tooltip = propaganda_campaign_requirement_tt
		}
	}
	
	focus = {
		id = SOV_increased_allied_trade
		prerequisite = { focus = SOV_pol_triple_alliance }
		icon = GFX_SOV_rework86
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_triple_alliance
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			GER = { has_war_with = ENG}
		}

		bypass = {
		}

		completion_reward = {
			add_ideas = { SOV_allied_trade_agreement }
		}
	}
	
	focus = {
		id = SOV_pol_embargo_axis
		prerequisite = { focus = SOV_increased_allied_trade }
		icon = GFX_SOV_rework64
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_increased_allied_trade
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			GER = { has_war_with = ENG}
		}

		bypass = {
		}

		completion_reward = {
			add_political_power = -150
			send_embargo = GER
			send_embargo = ITA
			send_embargo = ROM
			send_embargo = FIN
			send_embargo = SPR
			send_embargo = YUG
			send_embargo = HUN
			send_embargo = BUL
			send_embargo = DEN
			send_embargo = SPR
		}
	}
	
	focus = {
		id = SOV_hasten_military_buildup
		prerequisite = { focus = SOV_pol_triple_alliance }
		icon = GFX_SOV_rework80
		x = -2
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_triple_alliance
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			GER = { has_war_with = ENG}
		}

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_efficiency_growth_5_tt
			add_to_variable = { SOV_command_economy_production_factory_efficiency_gain_factor_var = 0.05 }
			custom_effect_tooltip = SOV_construction_speed_civ_-20_tt
			add_to_variable = { SOV_command_economy_production_speed_industrial_complex_factor_var = -0.2 }
			custom_effect_tooltip = SOV_construction_speed_mil_5_tt
			add_to_variable = { SOV_command_economy_production_speed_arms_factory_factor_var = 0.05 }
			custom_effect_tooltip = SOV_civ_to_mil_conversion_20_tt
			add_to_variable = { SOV_command_economy_conversion_cost_civ_to_mil_factor_var = -0.2 }
		}
	}
	
	focus = {
		id = SOV_pol_invade_germany
		icon = GFX_SOV_drive_out_the_fascists
		prerequisite = { focus = SOV_hasten_military_buildup }
		prerequisite = { focus = SOV_pol_embargo_axis }
		x = 0
		y = 2

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_hasten_military_buildup
		cost = 1

		available_if_capitulated = yes
		will_lead_to_war_with = GER
		available = { 
			has_war = no
			date > 1942.8.1
		}

		completion_reward = {
			# Barb start flag
			mark_focus_tree_layout_dirty = yes
			set_country_flag = SOV_great_patriotic_war_start


			every_state = {
				limit = {
					AND = {
						any_neighbor_state = { OR = { is_controlled_by = GER is_controlled_by = ROM is_controlled_by = HUN is_controlled_by = POL is_controlled_by = BUL} }
						is_owned_by = SOV
					}
				}				
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					controls_state = 189
				}
				build_railway = {
					level = 3
					path = { 9483 6229 6360 6296 }
				}
				build_railway = {
					level = 3
					path = { 6296 327 3320 }
				}
				build_railway = {
					level = 3
					path = { 6296 327 3320 }
				}
			}
			
			if = {
				limit = {
					controls_state = 198
				}
				build_railway = {
					level = 3
					path = { 525 504 11490 9481 476  }
				}
			}
			
			build_railway = {
				level = 3
				path = { 11370 11216 9236 9304 }
			}
			build_railway = {
				level = 3
				path = { 11370 11216 9236 9304 }
			}
			build_railway = {
				level = 3
				path = { 9304 3309 318 347 11301 }
			}
			build_railway = {
				level = 3
				path = { 11301 11247 3392 }
			}
			build_railway = {
				level = 3
				path = { 476 6429 462 438 11427 491 11479 }
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			add_timed_idea = {
				idea = SOV_invade_germany_idea
				days = 120
			}
			declare_war_on = {
				target = GER
				type = annex_everything
			}
		}
	}

	# Molotov-Ribbentrop
	focus = {
		id = SOV_pol_molotov_ribbentrop_pact
		prerequisite = { focus = SOV_china_small focus = SOV_china_big }
		mutually_exclusive = { focus = SOV_pol_triple_alliance}
		icon = GFX_SOV_rework99
		x = 1
		y = 4

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_socialism_in_one_country
		cost = 0
		ai_will_do = {
			factor = 5
		}
		
		available = {
			always = no
		}

		available_if_capitulated = yes

		bypass = {
			has_global_flag = sov_yes_pact
		}

		completion_reward = {
			custom_effect_tooltip = SOV_pol_molotov_ribbentrop_pact_tt
		}
	}
	
	focus = {
		id = SOV_pol_german_trade_treaty
		prerequisite = { focus = SOV_pol_molotov_ribbentrop_pact }
		#mutually_exclusive = { focus = SOV_pol_allies1}
		icon = GFX_SOV_rework101
		x = 2
		y = 1

		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE FOCUS_FILTER_INDUSTRY }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_molotov_ribbentrop_pact
		cost = 1
		ai_will_do = {
			factor = 5
		}
		
		available = {
			NOT = { has_war_with = GER }
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			#Effects to Germans
			GER = {
				add_ideas = { SOV_german_trade_agreement_ger_1 }
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_ideas = { SOV_german_trade_agreement_sov_1 }
			custom_effect_tooltip = generic_skip_one_line_tt
			
			give_market_access = GER
			add_opinion_modifier = {
				target = GER
				modifier = SOV_strengthened_relations_with_us
			}
			GER = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_strengthened_relations_with_us
				}
			}
		}
	}
	
	focus = {
		id = SOV_pol_military_cooperation
		prerequisite = { focus = SOV_pol_german_trade_treaty }
		mutually_exclusive = { focus = SOV_pol_industrial_cooperation }
		icon = GFX_SOV_rework102
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_german_trade_treaty
		cost = 2
		ai_will_do = {
			factor = 5
		}
		
		available = {
			NOT = { has_war_with = GER }
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			
			set_technology = { basic_ship_hull_cruiser = 1 }
			set_technology = { basic_cruiser_armor_scheme = 1 }
			if = {
				limit = {
					has_tech = basic_heavy_battery
				}
				create_equipment_variant = {
					name = "Hipper Class"
					type = ship_hull_cruiser_2
					name_group = SOV_CA_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_1
						fixed_ship_secondaries_slot = empty
						fixed_ship_armor_slot = ship_armor_cruiser_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_torpedo_1
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_medium_battery_2
					}
				}
			}
			else = {
				create_equipment_variant = {
					name = "Hipper Class"
					type = ship_hull_cruiser_2
					name_group = SOV_CA_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_1
						fixed_ship_secondaries_slot = empty
						fixed_ship_armor_slot = ship_armor_cruiser_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_torpedo_1
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_medium_battery_1
					}
				}
			}
				
			# CA: Lützow -> Petropavlovsk
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_2
					creator = SOV
					version_name = "Hipper Class"
				}
				name = "Petropavlovsk"
				requested_factories = 1
				progress = 0.8
				amount = 1
			}

			add_tech_bonus = {
				name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
				bonus = 0.5
				uses = 2
				category = ship_modules_tech
				category = bb_tech
				category = dd_tech
			}
			add_tech_bonus = {
				name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
				bonus = 0.5
				uses = 2
				category = air_equipment
			}
			add_tech_bonus = {
				name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
				bonus = 0.3
				uses = 1
				category = artillery
			}
			add_tech_bonus = {
				name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
				bonus = 0.3
				uses = 1
				category = armor
			}
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.75
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_german_trade_agreement_sov_1
				add_idea = SOV_german_trade_agreement_sov_2
			}
			GER = {
			swap_ideas = {
				remove_idea = SOV_german_trade_agreement_ger_1
				add_idea = SOV_german_trade_agreement_ger_2
			}
			}
		}
	}
	
	focus = {
		id = SOV_pol_industrial_cooperation
		prerequisite = { focus = SOV_pol_german_trade_treaty }
		mutually_exclusive = { focus = SOV_pol_military_cooperation }
		icon = GFX_SOV_rework114
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_german_trade_treaty
		cost = 2
		ai_will_do = {
			factor = 5
		}
		
		available = {
			NOT = { has_war_with = GER }
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			set_technology = { synth_oil_experiments = 1 }
			set_technology = { rubber_processing = 1 }
			
			modify_building_resources = {
        	   building = synthetic_rubber_refinery
        	   resource = rubber
        	   amount = 20
        	}
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_rubber_build_speed_25_tt
			add_to_variable = { SOV_command_economy_production_speed_synthetic_rubber_refinery_factor_var = 0.25 }
			
			
			custom_effect_tooltip = generic_skip_one_line_tt
			add_tech_bonus = {
				name = SOV_industrial_cooperation_germany_bonus
				bonus = 0.5
				uses = 2
				category = industry
			}
			
			swap_ideas = {
				remove_idea = SOV_german_trade_agreement_sov_1
				add_idea = SOV_german_trade_agreement_sov_2
			}
			GER = {
			swap_ideas = {
				remove_idea = SOV_german_trade_agreement_ger_1
				add_idea = SOV_german_trade_agreement_ger_2
			}
			}
		}
	}
	
	focus = {
		id = SOV_pol_invade_bessarabia
		icon = GFX_SOV_moldavia
		prerequisite = { focus = SOV_pol_molotov_ribbentrop_pact }
		x = 0
		y = 1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_molotov_ribbentrop_pact
		cost = 2


		bypass = {
			OR = {
				AND = {
					OR = {
						owns_state = 78 #Bessarabia
						78 = {
							owner = { is_in_faction_with = ROOT }
						}
					}
					OR = {
						owns_state = 80 #Bucovina
						80 = {
							owner = { is_in_faction_with = ROOT }
						}
					}
					OR = {
						owns_state = 766 #Southern Bessarabia
						766 = {
							owner = { is_in_faction_with = ROOT }
						}
					}
				}
				any_country = {
					owns_state = 78
					owns_state = 80
					owns_state = 766
					has_war_with = ROOT
				}
			}
		}

		will_lead_to_war_with = ROM
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = { #This is now generic and will target any potential (multiple) controllers for these states.
			hidden_effect = {
				CZE = {
					diplomatic_relation = {
						country = ROM
						relation = guarantee
						active = no
					}
				}
			}
			if = {
				limit = { 78 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 78
			}
			if = {
				limit = { 766 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 766
			}
			if = {
				limit = { 80 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 80
			}
			add_named_threat = { threat = 1 name = SOV_claim_on_bessarabia }
			random_other_country = {
				limit = { owns_state = 78 }
				add_opinion_modifier = { target = SOV modifier = claimed_bessarabia }
				set_country_flag = SOV_added_claimed_bessarabia
				country_event = { id = romania.1 hours = 16 random_hours = 8 }
			}
			if = { #Done like this to prevent disgusting tooltip issues, but I hate it ok?
				limit = {
					any_other_country = {
						owns_state = 78
						NOT = {	owns_state = 80 }
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 80 
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
					country_event = { id = romania.1 hours = 16 random_hours = 8 }
				}
			}
			if = {
				limit = {
					AND = {
						any_other_country = {
							owns_state = 78
							NOT = {	owns_state = 766 }
						}
						any_other_country = {
							owns_state = 80
							NOT = {	owns_state = 766 }
						}
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 766
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
					country_event = { id = romania.1 hours = 4 }
				}
			}
		}
	}
	
	
	# Expasion Path

	focus = {
		id = SOV_prepare_expansion
		prerequisite = { focus = SOV_pol_molotov_ribbentrop_pact focus = SOV_pol_triple_alliance}
		icon = GFX_SOV_rework122
		x = -1
		y = 2

		search_filters = { FOCUS_FILTER_ANNEXATION }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_molotov_ribbentrop_pact
		cost = 0
		ai_will_do = {
			factor = 5
		}
		
		available = {
			always = no
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				POL = {has_capitulated = yes}
				POL = {surrender_progress > 0.3 }
				NOT = { country_exists = POL }
				date > 1940.6.1
				threat > 0.9
			}
		}

		completion_reward = {
			custom_effect_tooltip = SOV_prepare_expansion_1_tt
			custom_effect_tooltip = SOV_prepare_expansion_2_tt
			custom_effect_tooltip = SOV_prepare_expansion_3_tt
			custom_effect_tooltip = SOV_prepare_expansion_6_tt
			custom_effect_tooltip = SOV_prepare_expansion_4_tt
			custom_effect_tooltip = SOV_prepare_expansion_5_tt
		}
	}
	
	focus = {
		id = SOV_pol_improve_new_conquests
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_prepare_expansion }
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_prepare_expansion
		mutually_exclusive = { focus = SOV_pol_plunder_new_conquests }
		cost = 5
		ai_will_do = {
			factor = 1
		}

		available = {
			owns_state = 13
			owns_state = 12
		}
		
		bypass = {
			has_war_with = GER
		}

		completion_reward = {
			13 = {
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes 
				}
				add_extra_state_shared_building_slots = 4
			}

			12 = {
				add_building_construction = {
					type = arms_factory
					level = 4
				}
				add_building_construction = {
					type = industrial_complex
					level = 4
				}
				add_extra_state_shared_building_slots = 4
			}
			if	= {
				limit = {
					owns_state = 11
				}
				
				11 = {
					add_building_construction = {
						type = arms_factory
						level = 4
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
					}
					add_extra_state_shared_building_slots = 4
				}
			}
		}
	}
	
	focus = {
		id = SOV_pol_plunder_new_conquests
		icon = GFX_SOV_capitals_of_socialism_1
		prerequisite = { focus = SOV_prepare_expansion }
		mutually_exclusive = { focus = SOV_pol_improve_new_conquests }
		cost = 5
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_prepare_expansion

		available = {
			owns_state = 13
			owns_state = 248
			owns_state = 12
			owns_state = 253
		}

		completion_reward = {
			13 = {
				remove_building = {
					type = arms_factory
					level = 5
				}
				remove_building = {
					type = industrial_complex
					level = 5
				}
			}
			
			248 = {
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes 
				}
				add_extra_state_shared_building_slots = 8
			}

			12 = {
				remove_building = {
					type = arms_factory
					level = 5
				}
				remove_building = {
					type = industrial_complex
					level = 5
				}
			}

			253 = {
				add_building_construction = {
					type = arms_factory
					level = 4
				}
				add_building_construction = {
					type = industrial_complex
					level = 4
				}
				add_extra_state_shared_building_slots = 8
			}

			if = {
				limit = {
					owns_state = 11
				}
				
				11 = {
					remove_building = {
						type = arms_factory
						level = 3
					}
					remove_building = {
						type = industrial_complex
						level = 5
					}
				}
				
				255 = {
					add_building_construction = {
						type = arms_factory
						level = 2
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
					}
					add_extra_state_shared_building_slots = 6
				}
			}
		}
	}

	focus = {
		id = SOV_pol_dismantle_stalin_line
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = SOV_pol_improve_new_conquests focus = SOV_pol_plunder_new_conquests }
		mutually_exclusive = { focus = SOV_pol_improve_fortifications }
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_improve_new_conquests
		cost = 5
		ai_will_do = {
			factor = 1
		}
		
		bypass = {
			has_war_with = GER
		}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_dismantled_stalin_line
				days = 180
			}
			194 = {
				remove_building = {
					type = bunker
					level = 3
					province = 6556
				}
				remove_building = {
					type = bunker
					level = 3
					province = 6232
				}
				remove_building = {
					type = bunker
					level = 3
					province = 3203
				}
				remove_building = {
					type = bunker
					level = 3
					province = 3293
				}
			}
			201 = {
				remove_building = {
					type = bunker
					level = 3
					province = 11477
				}
				remove_building = {
					type = bunker
					level = 3
					province = 3570
				}
				remove_building = {
					type = bunker
					level = 3
					province = 6593
				}
			}
			206 = {
				remove_building = {
					type = bunker
					level = 3
					province = 11216
				}
				remove_building = {
					type = bunker
					level = 3
					province = 11370
				}
				remove_building = {
					type = bunker
					level = 3
					province = 3267
				}
				remove_building = {
					type = bunker
					level = 3
					province = 3759
				}
			}
			204 = {
				remove_building = {
					type = bunker
					level = 3
					province = 11313
				}
			}
			207 = {
				remove_building = {
					type = bunker
					level = 3
					province = 6220
				}
				remove_building = {
					type = bunker
					level = 3
					province = 6326
				}
			}
			208 = {
				remove_building = {
					type = bunker
					level = 3
					province = 126
				}
				remove_building = {
					type = bunker
					level = 3
					province = 104
				}
			}
			209 = {
				remove_building = {
					type = bunker
					level = 3
					province = 11392
				}
				remove_building = {
					type = bunker
					level = 3
					province = 6324
				}
				remove_building = {
					type = bunker
					level = 3
					province = 11202
				}
				remove_building = {
					type = bunker
					level = 3
					province = 9120
				}
			}
			210 = {
				remove_building = {
					type = bunker
					level = 3
					province = 11259
				}
				remove_building = {
					type = bunker
					level = 3
					province = 6242
				}
			}
		}
	}
	
	focus = {
		id = SOV_pol_improve_fortifications
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SOV_pol_plunder_new_conquests focus = SOV_pol_improve_new_conquests }
		mutually_exclusive = { focus = SOV_pol_dismantle_stalin_line }
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_INDUSTRY }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_pol_plunder_new_conquests
		cost = 5
		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			192 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 11670
				}
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 741
				}
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 754
				}
			}
			194 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6556
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6232
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3203
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3293
				}
			}
			198 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 6455
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9423
				}
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 9576
				}
			}
			199 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 3457
				}
			}
			201 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11477
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3570
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6593
				}
			}
			206 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11216
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11370
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3267
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3759
				}
			}
			204 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11313
				}
			}
			207 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6220
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6326
				}
			}
			207 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 126
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 104
				}
			}
			209 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 11392
				}
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 6324
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11202
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9120
				}
			}
			210 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 11259
				}
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 6242
				}
			}
			196 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 721
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 737
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3573
				}
			}
			200 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 588
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11405
				}
			}
			226 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 453
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9463
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6507
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6495
				}
			}
			203 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11530
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9491
				}
			}
			202 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9543
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 1157
				}
			}
			97 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 400
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11357
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11274
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11329
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 290
				}
			}
			94 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3392
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6546
				}
			}
			93 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11441
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 422
				}
			}
			91 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 536
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9468
				}
			}
			89 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6431
				}
			}
			808 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9340
				}
			}
			784 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3320
				}
			}
			810 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 310
				}
			}
		}
	}

	focus = {
		id = SOV_pol_nkvd1
		prerequisite = { focus = SOV_pol_general1 }
		icon = GFX_SOV_rework12
		x = 5
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_POLITICAL  FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_general1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_political_power = -25
			add_stability = 0.075
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.125
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_nikolay_yezhov
			show_ideas_tooltip = SOV_lavrenty_beriya
			show_ideas_tooltip = SOV_genrikh_yagoda
		}
	}

	focus = {
		id = SOV_pol_nkvd3
		prerequisite = { focus = SOV_pol_nkvd1 }
		icon = GFX_SOV_rework13
		x = 0
		y = 2

		search_filters = { FOCUS_FILTER_POLITICAL  FOCUS_FILTER_BALANCE_OF_POWER }

		relative_position_id = SOV_pol_nkvd1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_political_power = -15
			add_war_support = 0.05
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.05
			}
		}
	}

	focus = {
		id = SOV_pol_nkvd4
		prerequisite = { focus = SOV_pol_nkvd3 }
		mutually_exclusive = {focus = SOV_pol_nkvd5}
		icon = GFX_focus_SOV_behead_the_snake
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL }

		relative_position_id = SOV_pol_nkvd3
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			swap_ideas ={
				add_idea = trotskyite_plot_purged1
				remove_idea = trotskyite_plot_nsb
			}
		}
	}

	focus = {
		id = SOV_pol_nkvd5
		prerequisite = {  focus = SOV_pol_nkvd3 }
		mutually_exclusive = {focus = SOV_pol_nkvd4}
		icon = GFX_SOV_rework14
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL }

		relative_position_id = SOV_pol_nkvd3
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			swap_ideas ={
				add_idea = trotskyite_plot_purged2
				remove_idea = trotskyite_plot_nsb
			}
		}
	}

	focus = {
		id = SOV_pol_nkvd6
		prerequisite = { focus = SOV_pol_nkvd4 focus = SOV_pol_nkvd5 }
		icon = GFX_SOV_rework15
		x = 0
		y = 2

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_POLITICAL_CHARACTER  FOCUS_FILTER_POLITICAL }

		relative_position_id = SOV_pol_nkvd3
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			has_political_power > 0
		}

		bypass = {
		}

		completion_reward = {
            custom_effect_tooltip = SOV_trotsky_tt
            IF = {
                LIMIT = {has_idea = trotskyite_plot_purged2}
                remove_ideas = trotskyite_plot_purged2
            }
            IF = {
                LIMIT = {has_idea = trotskyite_plot_purged1}
                remove_ideas = trotskyite_plot_purged1
            }

            IF = {
                LIMIT = {has_idea = trotskyite_plot_nsb}
                remove_ideas = trotskyite_plot_nsb
            }

            if = {
				limit = {
					date < 1936.7.1
				} 
				add_political_power = -300
            }
            else_if = {
                limit = {
                    date < 1937.1.1
                } 
                add_political_power = -250
            }
            else_if = {
                limit = {
                    date < 1937.7.1
                } 
                add_political_power = -200
            }
            else_if = {
                limit = {
                    date < 1938.1.1
                } 
                add_political_power = -150
            }
            else_if = {
                limit = {
                    date < 1938.7.1
                } 
                add_political_power = -100
            }
            else_if = {
                limit = {
                    date < 1939.1.1
                } 
                add_political_power = -50
            }

            set_global_flag = trotsky_dead
        }
	}

	focus = {
		id = SOV_pol_nkvd7
		prerequisite = { focus = SOV_pol_nkvd6 }
		icon = GFX_SOV_rework111
		x = 0
		y = 1

		relative_position_id = SOV_pol_nkvd6
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			add_ideas = SOV_nkvd
		}
	}

	focus = {
		id = SOV_pol_nkvd8
		prerequisite = { focus = SOV_pol_nkvd1 }
		icon = GFX_SOV_rework131
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_POLITICAL }

		relative_position_id = SOV_pol_nkvd1
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available = {
			has_intelligence_agency = no
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			create_intelligence_agency = yes
		}
	}

	focus = {
		id = SOV_pol_nkvd9
		prerequisite = { focus = SOV_pol_nkvd7 }
		mutually_exclusive = {focus = SOV_pol_nkvd11}
		icon = GFX_SOV_rework32
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_ARMY_XP }
		
		relative_position_id = SOV_pol_nkvd7
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available = {
			has_country_flag = SOV_big_purge_decision4_flag
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_army_org_factor_5_tt
			add_to_variable = { SOV_red_army_army_org_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_leader_experience_gain_factor_20_tt
			add_to_variable = { SOV_red_army_experience_gain_factor_var = 0.2 }

			remove_ideas = SOV_nkvd
		}
	}

	focus = {
		id = SOV_pol_nkvd10
		prerequisite = { focus = SOV_pol_nkvd9 }
		icon = GFX_SOV_rework50
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_ARMY_XP }
		
		relative_position_id = SOV_pol_nkvd9
		cost = 4
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_experience_gain_army_factor_10_tt
			add_to_variable = { SOV_red_army_experience_gain_army_factor_var = 0.1 }
			
			custom_effect_tooltip = SOV_red_army_leader_experience_gain_factor_5_tt
			add_to_variable = { SOV_red_army_experience_gain_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_land_doctrine_cost_factor_-10_tt
			add_to_variable = { SOV_red_army_land_doctrine_cost_factor_var = -0.1 }

			custom_effect_tooltip = SOV_red_army_army_core_defence_factor_-5_tt
			add_to_variable = { SOV_red_army_army_core_defence_factor_var = -0.05 }
		}
	}

		focus = {
		id = SOV_pol_nkvd11
		prerequisite = { focus = SOV_pol_nkvd7 }
		mutually_exclusive = {focus = SOV_pol_nkvd9}
		icon = GFX_SOV_rework26
		x = 1
		y = 1
		
		relative_position_id = SOV_pol_nkvd7
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			swap_ideas = {
				add_idea = SOV_nkvd_dual_command
				remove_idea = SOV_nkvd
			}
		}
	}

	focus = {
		id = SOV_pol_nkvd13
		prerequisite = { focus = SOV_pol_nkvd10 focus = SOV_pol_nkvd11 }
		icon = GFX_SOV_rework126
		x = 1
		y = 1
		
		relative_position_id = SOV_pol_nkvd10
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_nkvd_upgrade_tooltip
			hidden_effect = {
				set_technology = {
					nkvd_tech = 1
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_minimum_training_level_-5_tt
			add_to_variable = { SOV_red_army_minimum_training_level_var = -0.05 }

			custom_effect_tooltip = SOV_red_army_experience_loss_factor_5_tt
			add_to_variable = { SOV_red_army_experience_loss_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_training_time_factor_-10_tt
			add_to_variable = { SOV_red_army_training_time_factor_var = -0.1 }
		}
	}

	### ARMY TREE ###

#	focus = {
#		id = SOV_army_test
#		icon = GFX_SOV_red_army
#		x = 28
#		y = 20
#		relative_position_id = SOV_defense1
#		cost = 3
#
#		ai_will_do = {
#			factor = 5
#		}
#
#		available_if_capitulated = yes
#
#		completion_reward = {	
#			custom_effect_tooltip = SOV_generic_modify_red_army_tt

#			custom_effect_tooltip = SOV_red_army_army_org_factor_10_tt
#			add_to_variable = { SOV_red_army_army_org_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_army_morale_factor_10_tt
#			add_to_variable = { SOV_red_army_army_morale_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_max_dig_in_1_tt
#			add_to_variable = { SOV_red_army_max_dig_in_var = 1 }

#			custom_effect_tooltip = SOV_red_army_dig_in_speed_factor_10_tt
#			add_to_variable = { SOV_red_army_dig_in_speed_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_army_core_defence_factor_10_tt
#			add_to_variable = { SOV_red_army_army_core_defence_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_cas_damage_reduction_10_tt
#			add_to_variable = { SOV_red_army_cas_damage_reduction_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_modifier_army_sub_unit_cavalry_speed_factor_10_tt
#			add_to_variable = { SOV_red_army_modifier_army_sub_unit_cavalry_speed_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_cavalry_attack_factor_10_tt
#			add_to_variable = { SOV_red_army_cavalry_attack_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_cavalry_defence_factor_10_tt
#			add_to_variable = { SOV_red_army_cavalry_defence_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_armor_attack_factor_10_tt
#			add_to_variable = { SOV_red_army_armor_attack_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_armor_defence_10_tt
#			add_to_variable = { SOV_red_army_armor_defence_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_infantry_attack_factor_5_tt
#			add_to_variable = { SOV_red_army_infantry_attack_factor_var = 0.05 }

#			custom_effect_tooltip = SOV_red_army_infantry_defence_factor_5_tt
#			add_to_variable = { SOV_red_army_infantry_defence_factor_var = 0.05 }


			# Special Forces
#			custom_effect_tooltip = SOV_red_army_special_forces_cap_5_tt
#			add_to_variable = { SOV_red_army_special_forces_cap_var = 0.05 }

#			custom_effect_tooltip = SOV_red_army_special_forces_attack_factor_10_tt
#			add_to_variable = { SOV_red_army_special_forces_attack_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_special_forces_defence_factor_10_tt
#			add_to_variable = { SOV_red_army_special_forces_defence_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_special_forces_no_supply_grace_24_tt
#			add_to_variable = { SOV_red_army_special_forces_no_supply_grace_var = 24 }

#			custom_effect_tooltip = SOV_red_army_special_forces_out_of_supply_factor_-10_tt
#			add_to_variable = { SOV_red_army_special_forces_out_of_supply_factor_var = -0.1 }

#			custom_effect_tooltip = SOV_red_army_special_forces_training_time_factor_-10_tt
#			add_to_variable = { SOV_red_army_special_forces_training_time_factor_var = -0.1 }



#			custom_effect_tooltip = SOV_red_army_winter_attrition_factor_10_tt
#			add_to_variable = { SOV_red_army_winter_attrition_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_acclimatization_cold_climate_gain_factor_10_tt
#			add_to_variable = { SOV_red_army_acclimatization_cold_climate_gain_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_promote_cost_factor_10_tt
#			add_to_variable = { SOV_red_army_promote_cost_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_land_doctrine_cost_factor_10_tt
#			add_to_variable = { SOV_red_army_land_doctrine_cost_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_mobilization_speed_10_tt
#			add_to_variable = { SOV_red_army_mobilization_speed_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_conscription_factor_10_tt
#			add_to_variable = { SOV_red_army_conscription_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_minimum_training_level_10_tt
#			add_to_variable = { SOV_red_army_minimum_training_level_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_experience_gain_army_factor_10_tt
#			add_to_variable = { SOV_red_army_experience_gain_army_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_experience_loss_factor_10_tt
#			add_to_variable = { SOV_red_army_experience_loss_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_training_time_factor_10_tt
#			add_to_variable = { SOV_red_army_training_time_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_leader_experience_gain_factor_10_tt
#			add_to_variable = { SOV_red_army_experience_gain_factor_var = 0.1 }

			# Mech
#			custom_effect_tooltip = SOV_red_army_mechanized_attack_factor_5_tt
#			add_to_variable = { SOV_red_army_mechanized_attack_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_red_army_mechanized_defence_factor_5_tt
#			add_to_variable = { SOV_red_army_mechanized_defence_factor_var = 0.05 }

			# Motorised
#			custom_effect_tooltip = SOV_red_army_motorized_attack_factor_5_tt
#			add_to_variable = { SOV_red_army_motorized_attack_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_red_army_motorized_defence_factor_5_tt
#			add_to_variable = { SOV_red_army_motorized_defence_factor_var = 0.05 }

			# Arty
#			custom_effect_tooltip = SOV_red_army_artillery_attack_factor_5_tt
#			add_to_variable = { SOV_red_army_artillery_attack_factor_var = 0.05 }
#			custom_effect_tooltip = SOV_red_army_artillery_defence_factor_5_tt
#			add_to_variable = { SOV_red_army_artillery_defence_factor_var = 0.05 }

#			custom_effect_tooltip = SOV_red_army_land_night_attack_10_tt
#			add_to_variable = { SOV_red_army_land_night_attack_var = 0.1 }
			
#			custom_effect_tooltip = SOV_red_army_land_reinforce_rate_10_tt
#			add_to_variable = { SOV_red_army_land_reinforce_rate_var = 0.1 }
			
#			custom_effect_tooltip = SOV_red_army_air_superiority_bonus_in_combat_10_tt
#			add_to_variable = { SOV_red_army_air_superiority_bonus_in_combat_var = 0.1 }
			
#			custom_effect_tooltip = SOV_red_army_coordination_bonus_10_tt
#			add_to_variable = { SOV_red_army_coordination_bonus_var = 0.1 }
			
#			custom_effect_tooltip = SOV_red_army_org_loss_when_moving_-10_tt
#			add_to_variable = { SOV_red_army_org_loss_when_moving_var = -0.1 }
			
#			custom_effect_tooltip = SOV_red_army_army_attack_speed_factor_10_tt
#			add_to_variable = { SOV_red_army_army_attack_speed_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_army_speed_factor_10_tt
#			add_to_variable = { SOV_red_army_army_speed_factor_var = 0.1 }

			# Planning
#			custom_effect_tooltip = SOV_red_army_max_planning_10_tt
#			add_to_variable = { SOV_red_army_max_planning_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_max_planning_factor_10_tt
#			add_to_variable = { SOV_red_army_max_planning_factor_var = 0.1 }

#			custom_effect_tooltip = SOV_red_army_planning_speed_10_tt
#			add_to_variable = { SOV_red_army_planning_speed_var = 0.1 }

			# Ground Support
#			custom_effect_tooltip = SOV_red_army_air_cas_present_factor_10_tt
#			add_to_variable = { SOV_red_army_air_cas_present_factor_var = 0.1 }
#		}
#	}

	focus = {
		id = SOV_secure_leningrad
		icon = GFX_SOV_finnish_wargoal
		icon = GFX_focus_generic_soviet_politics_1
		
		x = 18
		y = 0

		search_filters = { FOCUS_FILTER_ANNEXATION }

		cost = 2
		ai_will_do = {
			factor = 5
		}

		offset = {
       	 	x = 0
        	y = 0
        	trigger = {
        	    has_country_flag = SOV_great_patriotic_war_start
        	}
   		}

		available = {
			has_completed_focus = SOV_prepare_expansion
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
		}
		bypass = {
			OR = {
				AND = {
					owns_state = 146
					owns_state = 147
				}
				has_war_with = GER
			}
		}
		completion_reward = {
			add_state_claim = 146
			add_state_claim = 147
			declare_war_on = {
				target = FIN
				type = annex_everything
			}
			add_named_threat = { threat = 3 name = SOV_secure_leningrad }
			activate_mission = SOV_winter_war
			#activate_mission = SOV_winter_war_lessons_mission
			activate_mission = SOV_winter_war_catastrophe_mission
			hidden_effect = {
				MON = {
					add_ideas = MON_brothers_war
				}
				if = {
					limit = {
						country_exists = KSR
					}
					KSR = {
						add_ideas = MON_brothers_war
					}
				}
			}
		}
	}

	focus = {
		id = SOV_army_02
		icon = GFX_focus_SWE_finnish_communists
		prerequisite = { focus = SOV_secure_leningrad }
		relative_position_id = SOV_secure_leningrad
		x = -1
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				has_global_flag = SOV_winter_war_loss
				has_global_flag = SOV_winter_war_win
				has_war_with = GER
				OR = {
					AND = {
						owns_state = 146
						owns_state = 147
					}
				}
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			 if = {
				limit = {
					NOT = { has_idea = SOV_break_finland_2 }
				}
				add_timed_idea = {
					idea = SOV_break_finland_1
					days = 180
				}
			} else_if = {
				limit = {
					has_idea = SOV_break_finland_2
				}
				swap_ideas = {
					add_idea = SOV_break_finland_3
					remove_idea = SOV_break_finland_2
				}
			}
		}
	}

	focus = {
		id = SOV_army_03
		icon = GFX_focus_FIN_the_second_finnish_civil_war
		prerequisite = { focus = SOV_secure_leningrad }
		relative_position_id = SOV_secure_leningrad
		x = 1
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				has_global_flag = SOV_winter_war_loss
				has_global_flag = SOV_winter_war_win
				has_war_with = GER
				OR = {
					AND = {
						owns_state = 146
						owns_state = 147
					}
				}
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					NOT = { has_idea = SOV_break_finland_1 }
				}
				add_timed_idea = {
					idea = SOV_break_finland_2
					days = 180
				}
			} else_if = {
				limit = {
					has_idea = SOV_break_finland_1
				}
				swap_ideas ={
					add_idea = SOV_break_finland_3
					remove_idea = SOV_break_finland_1
				}
			}
		}
	}

		focus = {
		id = SOV_army_04
		icon = GFX_focus_FIN_approach_the_soviets
		prerequisite = { focus = SOV_army_02 }
		prerequisite = { focus = SOV_army_03 }
		relative_position_id = SOV_army_02
		x = 1
		y = 1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			has_country_flag = SOV_big_purge_decision4_flag
			has_completed_focus = SOV_pol_nkvd6
			OR = {
				has_global_flag = SOV_winter_war_loss
				has_global_flag = SOV_winter_war_win
				has_war_with = GER
				OR = {
					AND = {
						owns_state = 146
						owns_state = 147
					}
				}
			}
		}

		bypass = {
			
		}

		bypass_effect = {
			

			add_to_variable = { SOV_red_army_experience_gain_army_factor_var = 0.1 }
			add_to_variable = { SOV_red_army_land_doctrine_cost_factor_var = -0.05 }
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			set_power_balance = {
			id = SOV_army_bop
			set_default = yes
			}
			custom_effect_tooltip = SOV_army_autobypass
			#custom_effect_tooltip = SOV_army_future_potencial
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_experience_gain_army_factor_10_tt
			add_to_variable = { SOV_red_army_experience_gain_army_factor_var = 0.1 }
			custom_effect_tooltip = SOV_red_army_land_doctrine_cost_factor_-5_tt
			add_to_variable = { SOV_red_army_land_doctrine_cost_factor_var = -0.05 }
		}
	}

	focus = {
		id = SOV_army_top1
		icon = GFX_SOV_rework248
		prerequisite = { focus = SOV_army_04 }
		mutually_exclusive = { focus = SOV_army_top5 focus = SOV_army_top2 focus = SOV_army_top3 focus = SOV_army_top4}
		relative_position_id = SOV_army_04
		x = -8
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			NOT = {has_completed_focus = SOV_mil2}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_power_balance_value = {
				id = SOV_army_bop
				value = -0.4
			}
			custom_effect_tooltip = SOV_army_grind_tt
			SOV_semyon_budyonny = {
				remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
				add_attack = 2
				add_defense = 1
				add_logistics = 2
				add_planning = 2
				add_unit_leader_trait = trait_head_red_army
				hidden_effect = {
					remove_unit_leader_trait = panzer_leader
					remove_unit_leader_trait = cavalry_leader
					remove_unit_leader_trait = panzer_expert
					remove_unit_leader_trait = commando
					remove_unit_leader_trait = skirmisher
					remove_unit_leader_trait = paratrooper
					remove_unit_leader_trait = camouflage_expert
					remove_unit_leader_trait = combined_arms_expert
					remove_unit_leader_trait = cavalry_expert
				}
			}
		}
		
	}

	focus = {
		id = SOV_army_top11
		icon = GFX_SOV_rework249
		prerequisite = { focus = SOV_army_top1 }
		relative_position_id = SOV_army_top1
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_armor_attack_factor_-5_tt
			add_to_variable = { SOV_red_army_armor_attack_factor_var = -0.05 }
			custom_effect_tooltip = SOV_red_army_armor_defence_-5_tt
			add_to_variable = { SOV_red_army_armor_defence_var = -0.5 }

			custom_effect_tooltip = SOV_red_army_mechanized_attack_factor_-5_tt
			add_to_variable = { SOV_red_army_mechanized_attack_factor_var = -0.05 }
			custom_effect_tooltip = SOV_red_army_mechanized_defence_factor_-5_tt
			add_to_variable = { SOV_red_army_mechanized_defence_factor_var = -0.05 }

			add_to_variable = {
				SOV_red_army_org_loss_at_low_org_factor_var = 0.1
				tooltip = org_loss_at_low_org_factor_tt
			}

			add_to_variable = {
				SOV_red_army_army_org_factor_var = 0.025
				tooltip = army_org_factor_tt
			}

		}
	}

	focus = {
		id = SOV_army_top12
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SOV_army_top11 }
		relative_position_id = SOV_army_top11
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			
			custom_effect_tooltip = SOV_red_army_max_dig_in_5_tt
			add_to_variable = { SOV_red_army_max_dig_in_var = 5 }

			custom_effect_tooltip = SOV_red_army_dig_in_speed_factor_-10_tt
			add_to_variable = { SOV_red_army_dig_in_speed_factor_var = -0.1 }

			custom_effect_tooltip = SOV_red_army_max_planning_factor_10_tt
			add_to_variable = { SOV_red_army_max_planning_factor_var = 0.1 }
			custom_effect_tooltip = SOV_red_army_planning_speed_-15_tt
			add_to_variable = { SOV_red_army_planning_speed_var = -0.15 }

			custom_effect_tooltip = SOV_red_army_coordination_bonus_-3_tt
			add_to_variable = { SOV_red_army_coordination_bonus_var = -0.03 }
		}
	}

	focus = {
		id = SOV_army_top13
		icon = GFX_SOV_rework61
		prerequisite = { focus = SOV_army_top12 }
		relative_position_id = SOV_army_top12
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {

			add_power_balance_value = {
				id = SOV_army_bop
				value = -0.4
			}
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_infantry_attack_factor_5_tt
			add_to_variable = { SOV_red_army_infantry_attack_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_army_infantry_defence_factor_5_tt
			add_to_variable = { SOV_red_army_infantry_defence_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_cavalry_attack_factor_5_tt
			add_to_variable = { SOV_red_army_cavalry_attack_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_cavalry_defence_factor_5_tt
			add_to_variable = { SOV_red_army_cavalry_defence_factor_var = 0.05 }

			add_to_variable = {
				SOV_red_army_org_loss_at_low_org_factor_var = 0.1
				tooltip = org_loss_at_low_org_factor_tt
			}

			add_to_variable = {
				SOV_red_army_army_org_factor_var = 0.025
				tooltip = army_org_factor_tt
			}

		}
	}

	

focus = {
		id = SOV_army_top2
		icon = GFX_goal_yegorovfocus
		prerequisite = { focus = SOV_army_04 }
		mutually_exclusive = { focus = SOV_army_top1 focus = SOV_army_top5 focus = SOV_army_top3 focus = SOV_army_top4}
		relative_position_id = SOV_army_04
		x = -4
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
			has_completed_focus = SOV_pol_purge13
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_army_grind_tt
			SOV_aleksandr_yegorov = {
				remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
				add_defense = 2
				add_logistics = 1
				add_planning = 2
				add_unit_leader_trait = trait_head_red_army
				add_unit_leader_trait = organizer
				hidden_effect = {
					remove_unit_leader_trait = panzer_leader
					remove_unit_leader_trait = cavalry_leader
					remove_unit_leader_trait = panzer_expert
					remove_unit_leader_trait = commando
					remove_unit_leader_trait = skirmisher
					remove_unit_leader_trait = paratrooper
					remove_unit_leader_trait = camouflage_expert
					remove_unit_leader_trait = combined_arms_expert
					remove_unit_leader_trait = cavalry_expert
				}
			}
			add_ideas = SOV_aleksandr_yegorov
		}
	}

focus = {
		id = SOV_army_top21
		icon = GFX_SOV_breakthrough_priority
		prerequisite = { focus = SOV_army_top2 }
		relative_position_id = SOV_army_top2
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			
			custom_effect_tooltip = SOV_red_army_mechanized_attack_factor_-5_tt
			add_to_variable = { SOV_red_army_mechanized_attack_factor_var = -0.05 }
			custom_effect_tooltip = SOV_red_army_armor_attack_factor_-5_tt
			add_to_variable = { SOV_red_army_armor_attack_factor_var = -0.05 }


			custom_effect_tooltip = SOV_red_army_max_dig_in_7_tt
			add_to_variable = { SOV_red_army_max_dig_in_var = 7 }

			custom_effect_tooltip = SOV_red_army_dig_in_speed_factor_20_tt
			add_to_variable = { SOV_red_army_dig_in_speed_factor_var = 0.2 }
		}
	}

	focus = {
		id = SOV_army_top22
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_army_top21 }
		relative_position_id = SOV_army_top21
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {

			add_power_balance_value = {
				id = SOV_army_bop
				value = -0.35
			}
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_land_reinforce_rate_3_tt
			add_to_variable = { SOV_red_army_land_reinforce_rate_var = 0.03 }

			add_to_variable = {
				SOV_red_army_army_org_factor_var = 0.05
				tooltip = army_org_factor_tt
			}
		}
	}

	focus = {
		id = SOV_army_top23
		icon = GFX_focus_GER_gebirgsjager
		prerequisite = { focus = SOV_army_top22 }
		relative_position_id = SOV_army_top22
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_infantry_defence_factor_5_tt
			add_to_variable = { SOV_red_army_infantry_defence_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_land_reinforce_rate_3_tt
			add_to_variable = { SOV_red_army_land_reinforce_rate_var = 0.03 }

			add_to_variable = {
				SOV_red_army_org_loss_at_low_org_factor_var = -0.15 # WHY IS THIS RED I DONT GET IT
				tooltip = org_loss_at_low_org_factor_tt
			}
		}
	}

focus = {
		id = SOV_army_top3
		icon = GFX_goal_voroshilovfocus
		prerequisite = { focus = SOV_army_04 }
		mutually_exclusive = { focus = SOV_army_top1 focus = SOV_army_top2 focus = SOV_army_top5 focus = SOV_army_top4}
		relative_position_id = SOV_army_04
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
				OR = {
					has_completed_focus = SOV_mil26
					has_completed_focus = SOV_mil27
					has_completed_focus = SOV_mil28
				}

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_army_grind_tt
			SOV_kliment_voroshilov = {
				remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
				add_attack = 3
				add_defense = 2
				add_logistics = 2
				add_planning = 2
				add_unit_leader_trait = trait_head_red_army
				add_unit_leader_trait = organizer
				hidden_effect = {
					remove_unit_leader_trait = panzer_leader
					remove_unit_leader_trait = cavalry_leader
					remove_unit_leader_trait = panzer_expert
					remove_unit_leader_trait = commando
					remove_unit_leader_trait = skirmisher
					remove_unit_leader_trait = paratrooper
					remove_unit_leader_trait = camouflage_expert
					remove_unit_leader_trait = combined_arms_expert
					remove_unit_leader_trait = cavalry_expert
				}
			}
			add_ideas = kliment_voroshilov
		}
	}

focus = {
		id = SOV_army_top31
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_army_top3 }
		relative_position_id = SOV_army_top3
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		available_if_capitulated = yes

		available = {
			OR = {
			mio:SOV_astrov_design_bureau_organization = { has_mio_size > 2  }    
			mio:SOV_morozov_design_bureau_organization = { has_mio_size > 2  }   
			mio:SOV_kirov_organization = { has_mio_size > 2  }     
			mio:SOV_tankograd_plant_organization = { has_mio_size > 2  }    
			mio:SOV_okmo_organization = { has_mio_size > 2  }   
			mio:SOV_morozov_design_bureau_ac_organization = { has_mio_size > 2  }     
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = voro_patronage_tt
			hidden_effect= {
			remove_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro1
			}
			}
			add_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro2
			}
		}
	}

	focus = {
		id = SOV_army_top322
		icon = GFX_SOV_modernize_the_cavalry
		prerequisite = { focus = SOV_army_top31 }
		relative_position_id = SOV_army_top31
		x = 1
		y = 1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
				completion_reward = {
			IF = {
				LIMIT = {has_completed_focus = SOV_army_top321}
				hidden_effect= {
			remove_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro3
			}
			}
			add_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro5
			}
			}
			ELSE = {
				hidden_effect= {
			remove_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro2
			}
			}
			add_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro4
			}
			}
		



		}
	}

	focus = {
		id = SOV_army_top321
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = SOV_army_top31 }
		relative_position_id = SOV_army_top31
		x = -1
		y = 1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			IF = {
				LIMIT = {has_completed_focus = SOV_army_top322}
				hidden_effect= {
			remove_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro4
			}
			}
			add_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro5
			}
			}
			ELSE = {
				hidden_effect= {
			remove_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro2
			}
			}
			add_trait = {
				character = SOV_kliment_voroshilov
				slot = army_chief
				trait = army_voro3
			}
			}
		}
	}

	focus = {
		id = SOV_army_top33
		icon = GFX_SOV_rework136
		prerequisite = { focus = SOV_army_top321 focus = SOV_army_top322}
		relative_position_id = SOV_army_top321
		x = 1
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_XP}

		available_if_capitulated = yes

		available = {
				has_army_experience > 50
		}

		completion_reward = { 
			add_political_power = 25
			army_experience = -50
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_mil_5_tt
			add_to_variable = { SOV_command_economy_production_speed_arms_factory_factor_var = 0.05 }
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		
	}

focus = {
		id = SOV_army_top4
		icon = GFX_goal_timoshenkofocus
		prerequisite = { focus = SOV_army_04 }
		mutually_exclusive = { focus = SOV_army_top1 focus = SOV_army_top2 focus = SOV_army_top3 focus = SOV_army_top5}
		relative_position_id = SOV_army_04
		x = 4
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
			has_completed_focus = SOV_pol_purge12
			has_idea = semyon_timoshenko
			has_completed_focus = SOV_mil2
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect= {
				remove_trait = {
					character = SOV_semyon_timoshenko
					slot = army_chief
					trait = army_chief_reform_2
				}
			}
			add_trait = {
				character = SOV_semyon_timoshenko
				slot = army_chief
				trait = army_chief_reform_timo
			}
			SOV_semyon_timoshenko = {
				remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
				add_attack = 1
				add_planning = 1
				add_logistics = 2
				add_unit_leader_trait = trait_head_red_army
				add_unit_leader_trait = organizer
				promote_leader = yes 
			}
		}
	}

focus = {
		id = SOV_army_top41
		icon = GFX_SOV_rework286
		prerequisite = { focus = SOV_army_top4 }
		relative_position_id = SOV_army_top4
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.2
			}

			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			
			custom_effect_tooltip = SOV_red_army_mechanized_attack_factor_025_tt
			add_to_variable = { SOV_red_army_mechanized_attack_factor_var = 0.025 }
			custom_effect_tooltip = SOV_red_army_mechanized_defence_factor_025_tt
			add_to_variable = { SOV_red_army_mechanized_defence_factor_var = 0.025 }


			custom_effect_tooltip = SOV_red_army_max_dig_in_1_tt
			add_to_variable = { SOV_red_army_max_dig_in_var = 1 }

			custom_effect_tooltip = SOV_red_army_dig_in_speed_factor_10_tt
			add_to_variable = { SOV_red_army_dig_in_speed_factor_var = 0.1 }
		}
	}

	focus = {
		id = SOV_army_top42
		icon = GFX_focus_HUN_form_the_gyorshadtest
		prerequisite = { focus = SOV_army_top41 }
		relative_position_id = SOV_army_top41
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			power_balance_value = {
				id = SOV_army_bop
				value > 0.2
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_mechanized_attack_factor_025_tt
			add_to_variable = { SOV_red_army_mechanized_attack_factor_var = 0.025 }
			custom_effect_tooltip = SOV_red_army_mechanized_defence_factor_025_tt
			add_to_variable = { SOV_red_army_mechanized_defence_factor_var = 0.025 }

			custom_effect_tooltip = SOV_red_army_coordination_bonus_5_tt
			add_to_variable = { SOV_red_army_coordination_bonus_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_land_reinforce_rate_3_tt
			add_to_variable = { SOV_red_army_land_reinforce_rate_var = 0.03 }

			custom_effect_tooltip = SOV_red_army_planning_speed_10_tt
			add_to_variable = { SOV_red_army_planning_speed_var = 0.10 }

			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.1
			}
		}
	}

	focus = {
		id = SOV_army_top43
		icon = GFX_SOV_rework292
		prerequisite = { focus = SOV_army_top42 }
		relative_position_id = SOV_army_top42
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_mechanized_attack_factor_025_tt
			add_to_variable = { SOV_red_army_mechanized_attack_factor_var = 0.025 }
			custom_effect_tooltip = SOV_red_army_mechanized_defence_factor_025_tt
			add_to_variable = { SOV_red_army_mechanized_defence_factor_var = 0.025 }

			custom_effect_tooltip = SOV_red_army_army_org_factor_-025_tt
			add_to_variable = { SOV_red_army_army_org_factor_var = -0.025 }
			custom_effect_tooltip = SOV_red_army_army_morale_factor_075_tt
			add_to_variable = { SOV_red_army_army_morale_factor_var = 0.075 }
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.1
			}
		}
	}

	focus = {
		id = SOV_army_top5
		icon = GFX_goal_tukachevskyfocus
		prerequisite = { focus = SOV_army_04 }
		mutually_exclusive = { focus = SOV_army_top1 focus = SOV_army_top2 focus = SOV_army_top3 focus = SOV_army_top4}
		relative_position_id = SOV_army_04
		x = 8
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {

			has_completed_focus = SOV_pol_purge13
			OR = {
			has_completed_focus = SOV_spain_big
			has_completed_focus = SOV_spanish_training
			}
			OR = {
				has_completed_focus = SOV_mil42
				has_completed_focus = SOV_mil29
				has_completed_focus = SOV_mil33
			}
			
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			SOV_mikhail_tukhachevsky = {
			remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
			add_attack = 1
			add_defense = 1
			add_logistics = 1
			add_unit_leader_trait = trait_head_red_army
			add_unit_leader_trait = organizer
			promote_leader = yes 
		}
		}
	}

	focus = {
		id = SOV_army_top51
		icon = GFX_SOV_rework93
		prerequisite = { focus = SOV_army_top5 }
		relative_position_id = SOV_army_top5
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {

			

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.3
			}

			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_army_org_factor_5_tt
			add_to_variable = { SOV_red_army_army_org_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_army_army_morale_factor_10_tt
			add_to_variable = { SOV_red_army_army_morale_factor_var = 0.1 }
			add_to_variable = { SOV_red_army_initiative_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_army_initiative_factor_var_5_tt

		}
	}

	focus = {
		id = SOV_army_top52
		icon = GFX_SOV_rework297
		prerequisite = { focus = SOV_army_top51 }
		relative_position_id = SOV_army_top51
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.3
			}

			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			
			custom_effect_tooltip = SOV_red_army_armor_attack_factor_075_tt
			add_to_variable = { SOV_red_army_armor_attack_factor_var = 0.075 }
			custom_effect_tooltip = SOV_red_army_armor_defence_-025_tt
			add_to_variable = { SOV_red_army_armor_defence_var = -0.025 }


			custom_effect_tooltip = SOV_red_army_max_dig_in_-3_tt
			add_to_variable = { SOV_red_army_max_dig_in_var = -3 }
		}
	}

	focus = {
		id = SOV_army_top53
		icon = GFX_SOV_rework270
		prerequisite = { focus = SOV_army_top52 }
		relative_position_id = SOV_army_top52
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {

			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.3
			}

			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_army_speed_factor_5_tt
			add_to_variable = { SOV_red_army_army_speed_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_coordination_bonus_5_tt
			add_to_variable = { SOV_red_army_coordination_bonus_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_max_planning_factor_-5_tt
			add_to_variable = { SOV_red_army_max_planning_factor_var = -0.05 }
			custom_effect_tooltip = SOV_red_army_planning_speed_15_tt
			add_to_variable = { SOV_red_army_planning_speed_var = 0.15 }
		}
	}

	focus = {
		id = SOV_army_mid1
		icon = GFX_focus_generic_reinforcing_the_supply_network
		prerequisite = { focus = SOV_army_top53 focus = SOV_army_top13 focus = SOV_army_top23 focus = SOV_army_top33 focus = SOV_army_top43}
		mutually_exclusive = {focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_top53
		x = -12
		y = 2
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
			
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			every_army_leader = {
				add_planning = 2
				add_logistics = 2
			}
		}
	}

	focus = {
		id = SOV_army_mid2
		icon = GFX_SOV_rework145
		prerequisite = { focus = SOV_army_top53 focus = SOV_army_top13 focus = SOV_army_top23 focus = SOV_army_top33 focus = SOV_army_top43}
		mutually_exclusive = {focus = SOV_army_mid1 focus = SOV_army_mid3}
		relative_position_id = SOV_army_top53
		x = -8
		y = 2
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = army_mid_tt
			every_army_leader = {
			remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
			add_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
			}
			hidden_effect = {
				IF = {
					LIMIT = {has_completed_focus = SOV_army_top1}
					SOV_semyon_budyonny = {
						remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					}
				}
				IF = {
					LIMIT = {has_completed_focus = SOV_army_top2}
					SOV_aleksandr_yegorov = {
						remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					}
				}
				IF = {
					LIMIT = {has_completed_focus = SOV_army_top3}
					SOV_kliment_voroshilov= {
						remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					}
				}
				IF = {
					LIMIT = {has_completed_focus = SOV_army_top4}
					SOV_semyon_timoshenko= {
						remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					}
				}
				IF = {
					LIMIT = {has_completed_focus = SOV_army_top5}
					SOV_mikhail_tukhachevsky = {
						remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					}
				}
			}
		}
	}

	focus = {
		id = SOV_army_mid3
		icon = GFX_focus_chi_army_reform
		prerequisite = { focus = SOV_army_top53 focus = SOV_army_top13 focus = SOV_army_top23 focus = SOV_army_top33 focus = SOV_army_top43}
		mutually_exclusive = {focus = SOV_army_mid1 focus = SOV_army_mid2}
		relative_position_id = SOV_army_top53
		x = -4
		y = 2
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
			NOT = {has_completed_focus = SOV_army_top3}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			every_army_leader = {
				add_defense = 1
				add_attack = 1
			}
		}
	}

	focus = {
		id = SOV_army_budy
		icon = GFX_SOV_rework248
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = -4
		y = 1
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			power_balance_value = {
			id = SOV_army_bop
   			value < -0.45
		}
			NOT = {has_country_flag = SOV_army2_flag}
			NOT = {has_completed_focus = SOV_mil2}
			NOT = {has_completed_focus = SOV_army_top1}
			has_completed_focus = SOV_army_popo
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			add_power_balance_value = {
				id = SOV_army_bop
				value = -0.2
			}
			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_semyon_budyonny = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					add_defense = 2
					add_logistics = 1
					add_planning = 2
				}
			}
			ELSE = {
				SOV_semyon_budyonny = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
					add_defense = 2
					add_logistics = 1
					add_planning = 2
				}
			}

			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_modifier_army_sub_unit_cavalry_speed_factor_5_tt
			add_to_variable = { SOV_red_army_modifier_army_sub_unit_cav_speed_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_cavalry_attack_factor_5_tt
			add_to_variable = { SOV_red_army_cavalry_attack_factor_var = 0.05 }
		}
	}

	focus = {
		id = SOV_army_yego
		icon = GFX_goal_yegorovfocus
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
			has_completed_focus = SOV_pol_purge13
			NOT = {has_country_flag = SOV_army2_flag}
			NOT = {has_completed_focus = SOV_army_top2}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}


			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_aleksandr_yegorov = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					add_defense = 2
					add_logistics = 1
					add_planning = 2
					add_unit_leader_trait = trait_head_red_army
					add_unit_leader_trait = organizer
				}
			}
			ELSE = {
				SOV_aleksandr_yegorov = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
					add_defense = 2
					add_logistics = 1
					add_planning = 2
					add_unit_leader_trait = trait_head_red_army
					add_unit_leader_trait = organizer
				}
			}

			hidden_effect = {
				remove_trait = {
					character = SOV_aleksandr_yegorov
					slot = army_chief
					trait = army_chief_defensive_2
				}
				
				add_trait = {
					character = SOV_aleksandr_yegorov
					slot = army_chief
					trait = army_chief_defensive_1
				}
			}
			custom_effect_tooltip = available_chief_army_yego
		}
	}

	focus = {
		id = SOV_army_voro
		icon = GFX_goal_voroshilovfocus
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 4
		y = 1
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY}

		available_if_capitulated = yes

		available = {
			#VOROSHILOV, MEANT TO HAVE SMALL ARMY CAP TO NOT ABUSE AS GENERAL + 3 FM CAP
			NOT = {has_country_flag = SOV_army2_flag}
			NOT = {has_completed_focus = SOV_army_top3}
			OR = {
				mio:SOV_astrov_design_bureau_organization = { has_mio_size > 4  }    
				mio:SOV_morozov_design_bureau_organization = { has_mio_size > 4  }   
				mio:SOV_kirov_organization = { has_mio_size > 4  }     
				mio:SOV_tankograd_plant_organization = { has_mio_size > 4  }    
				mio:SOV_okmo_organization = { has_mio_size > 4  }   
				mio:SOV_morozov_design_bureau_ac_organization = { has_mio_size > 4  }     
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			custom_effect_tooltip = voro_patronage_tt
		
			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_kliment_voroshilov = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					add_attack = 2
					add_logistics = 2
					add_planning = 2
				}
			}
			ELSE = {
				SOV_kliment_voroshilov = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
					add_attack = 2
					add_logistics = 2
					add_planning = 2
				}
			}
		}
	}

	focus = {
		id = SOV_army_timo
		icon = GFX_goal_timoshenkofocus
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 8
		y = 1
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			NOT = {has_country_flag = SOV_army2_flag}
			has_completed_focus = SOV_pol_purge12
			has_idea = semyon_timoshenko
			has_completed_focus = SOV_mil2
			NOT = {has_completed_focus = SOV_army_top4}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.1
			}
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			hidden_effect= {
				remove_trait = {
					character = SOV_semyon_timoshenko
					slot = army_chief
					trait = army_chief_reform_2
				}
			}
			add_trait = {
				character = SOV_semyon_timoshenko
				slot = army_chief
				trait = army_chief_reform_timo
			}

			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_semyon_timoshenko = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					add_attack = 1
					add_logistics = 1
					add_unit_leader_trait = trait_head_red_army
					add_unit_leader_trait = organizer
					promote_leader = yes 
				}
			}
			ELSE = {
				SOV_semyon_timoshenko = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
					add_attack = 1
					add_logistics = 1
					add_unit_leader_trait = trait_head_red_army
					add_unit_leader_trait = organizer
					promote_leader = yes 
				}
			}
		}
	}

	focus = {
		id = SOV_army_tuka
		icon = GFX_goal_tukachevskyfocus
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 12
		y = 1
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			power_balance_value = {
				id = SOV_army_bop
				value > 0.40
			}
			NOT = {has_country_flag = SOV_army2_flag}
			has_completed_focus = SOV_pol_purge13
			OR = {
				has_completed_focus = SOV_spain_big
				has_completed_focus = SOV_spanish_training
			}
			OR = {
				has_completed_focus = SOV_mil42
				has_completed_focus = SOV_mil29
				has_completed_focus = SOV_mil33
			}
			NOT = {has_completed_focus = SOV_army_top5}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			SOV_mikhail_tukhachevsky = {
				remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
				add_attack = 1
				add_logistics = 1
				add_planning = 1
				add_unit_leader_trait = trait_head_red_army
				add_unit_leader_trait = organizer
				promote_leader = yes 
			}
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.2
			}
		}
	}

	focus = {
		id = SOV_army_bluy
		icon = GFX_goal_blucherfocus
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 13
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
			OR = {
				has_completed_focus = SOV_army_top5
				has_completed_focus = SOV_army_tuka
				
			}
			NOT = {has_country_flag = SOV_army2_flag}			
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}

			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_vasily_blyukher= {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
				}
			}
			ELSE = {
				SOV_vasily_blyukher= {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
				}

				custom_effect_tooltip = SOV_generic_modify_red_army_tt

				custom_effect_tooltip = SOV_red_army_org_loss_when_moving_-10_tt
				add_to_variable = { SOV_red_army_org_loss_when_moving_var = -0.10 }
				custom_effect_tooltip = SOV_red_army_planning_speed_5_tt
				add_to_variable = { SOV_red_army_planning_speed_var = 0.05 }

				custom_effect_tooltip = SOV_red_army_coordination_bonus_5_tt
				add_to_variable = { SOV_red_army_coordination_bonus_var = 0.05 }

				custom_effect_tooltip = SOV_red_army_winter_attrition_factor_-15_tt
				add_to_variable = { SOV_red_army_winter_attrition_factor_var = -0.15 }
			}
		}
	}

	focus = {
		id = SOV_army_kuli
		icon = GFX_goal_kulikfocus
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = -5
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			has_completed_focus = SOV_mil4
			NOT = {has_completed_focus = SOV_army_top4}
			NOT = {has_completed_focus = SOV_army_top5}
			NOT = {has_country_flag = SOV_army2_flag}

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}

			#VATUTIN, MEANT TO HAVE 80 ARMY CAP + NO SF OR TANK SHENANIGANS
			custom_effect_tooltip = SOV_army_grind_tt
			add_power_balance_value = {
				id = SOV_army_bop
				value = -0.15
			}
			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_grigory_kulik = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					add_attack = 2
					add_defense = 1
					add_planning = 1
					add_unit_leader_trait = trait_arty_goat
					hidden_effect = {
						remove_unit_leader_trait = panzer_leader
						remove_unit_leader_trait = cavalry_leader
						remove_unit_leader_trait = panzer_expert
						remove_unit_leader_trait = commando
						remove_unit_leader_trait = skirmisher
						remove_unit_leader_trait = paratrooper
						remove_unit_leader_trait = camouflage_expert
						remove_unit_leader_trait = combined_arms_expert
						remove_unit_leader_trait = cavalry_expert
					}
				}
			}
			ELSE = {
				SOV_grigory_kulik = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
					add_attack = 2
					add_defense = 1
					add_planning = 1
					add_unit_leader_trait = trait_arty_goat
					hidden_effect = {
						remove_unit_leader_trait = panzer_leader
						remove_unit_leader_trait = cavalry_leader
						remove_unit_leader_trait = panzer_expert
						remove_unit_leader_trait = commando
						remove_unit_leader_trait = skirmisher
						remove_unit_leader_trait = paratrooper
						remove_unit_leader_trait = camouflage_expert
						remove_unit_leader_trait = combined_arms_expert
						remove_unit_leader_trait = cavalry_expert
					}
				}
			}
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = grigory_kulik
		}
	}

	focus = {
		id = SOV_army_popo
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 5
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
			NOT = {has_country_flag = SOV_army2_flag}
			NOT = {has_completed_focus = SOV_army_top1}
			has_completed_focus = SOV_army_mid3
			has_completed_focus = SOV_pol_purge12
			NOT = {has_completed_focus = SOV_army_budy}

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			#POPOV, MEANT TO HAVE 10 ARMY CAP + POSSIBLE 2 FROM PANZER LEADER
			custom_effect_tooltip = SOV_army_grind_tt
			SOV_markian_popov = {
				remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
				add_attack = 1
				add_logistics = 1
				add_unit_leader_trait = trait_frontline_commander
				
				hidden_effect = {
					remove_unit_leader_trait = panzer_leader
					remove_unit_leader_trait = cavalry_leader
					remove_unit_leader_trait = panzer_expert
					remove_unit_leader_trait = commando
					remove_unit_leader_trait = skirmisher
					remove_unit_leader_trait = paratrooper
					remove_unit_leader_trait = camouflage_expert
					remove_unit_leader_trait = combined_arms_expert
					remove_unit_leader_trait = cavalry_expert
				}
				add_unit_leader_trait = panzer_leader
			}
		}
	}

	focus = {
		id = SOV_army_kuzn
		icon = GFX_SOV_rework285
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 1
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER }

		available_if_capitulated = yes

		available = {
			has_completed_focus = SOV_army_mid3
			NOT = {has_country_flag = SOV_army2_flag}

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
			IF = {
				LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
				set_country_flag = SOV_army1_flag
			}
			ELSE = {
				set_country_flag = SOV_army2_flag
			}
		}
			#Kuznetsov, ADVISOR
			SOV_vasily_kuznetsov = {
			remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
			}

			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_special_forces_cap_3_tt
			add_to_variable = { SOV_red_army_special_forces_cap_var = 0.03 }

			custom_effect_tooltip = SOV_red_army_special_forces_training_time_factor_-10_tt
			add_to_variable = { SOV_red_army_special_forces_training_time_factor_var = -0.10 }
		
		custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = vasily_kuznetsov
			hidden_effect = {
			
		}
		}
	}

	focus = {
		id = SOV_army_roko
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 11
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			NOT = {has_completed_focus = SOV_army_vasi}
			NOT = {has_country_flag = SOV_army2_flag}
			OR = {
				has_completed_focus = SOV_mil26
				has_completed_focus = SOV_mil27
				has_completed_focus = SOV_mil28
			}
			power_balance_value = {
				id = SOV_army_bop
				value > 0.45
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}

			#ROKO, ADVISOR
			custom_effect_tooltip = SOV_army_grind_tt
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.1
			}
			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_konstantin_rokossovsky = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					add_skill_level = 1
					
					hidden_effect = {
						remove_unit_leader_trait = panzer_leader
						remove_unit_leader_trait = cavalry_leader
						remove_unit_leader_trait = panzer_expert
						remove_unit_leader_trait = commando
						remove_unit_leader_trait = skirmisher
						remove_unit_leader_trait = paratrooper
						remove_unit_leader_trait = camouflage_expert
						remove_unit_leader_trait = combined_arms_expert
						remove_unit_leader_trait = cavalry_expert
					}
					add_unit_leader_trait = panzer_leader
					add_unit_leader_trait = panzer_expert
				}
			}
			ELSE = {
				SOV_konstantin_rokossovsky = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
					add_skill_level = 1
					hidden_effect = {
						remove_unit_leader_trait = panzer_leader
						remove_unit_leader_trait = cavalry_leader
						remove_unit_leader_trait = panzer_expert
						remove_unit_leader_trait = commando
						remove_unit_leader_trait = skirmisher
						remove_unit_leader_trait = paratrooper
						remove_unit_leader_trait = camouflage_expert
						remove_unit_leader_trait = combined_arms_expert
						remove_unit_leader_trait = cavalry_expert
					}
					add_unit_leader_trait = panzer_leader
				}
			}
		}
	}

	focus = {
		id = SOV_army_vasi
		icon = GFX_focus_SWE_the_beast_stirs
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 9
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			NOT = {has_completed_focus = SOV_army_roko}
			OR = {	
				has_completed_focus = SOV_army_top3
				has_completed_focus = SOV_army_voro
				has_completed_focus = SOV_army_shap
			}
			has_idea = aleksandr_vasilevsky
			NOT = {has_country_flag = SOV_army2_flag}

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.05
			}
			#Vasilevsky, MEANT TO BE JSUT GOOD
			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_aleksandr_vasilevsky = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					add_defense = 1
					add_logistics = 1
					add_planning = 2
					add_unit_leader_trait = brilliant_strategist
				}
			}
			ELSE = {
				SOV_aleksandr_vasilevsky = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
					add_defense = 1
					add_logistics = 1
					add_planning = 2
					add_unit_leader_trait = brilliant_strategist
				}
			}
		}
	}

	focus = {
		id = SOV_army_shap
		icon = GFX_SOV_rework173
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 3
		y = 2
		cost = 2
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP}

		available_if_capitulated = yes

		available = {
			
			NOT = {has_country_flag = SOV_army2_flag}

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
hidden_effect = {
			IF = {
				LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
				set_country_flag = SOV_army1_flag
			}
			ELSE = {
				set_country_flag = SOV_army2_flag
			}
		}
			#TODO, MASTERY, DOWN TO PACKER


			IF = {
			LIMIT = {has_completed_focus = SOV_army_mid2}
			SOV_boris_shaposhnikov  = {
			remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
			promote_leader = yes 
			}
		}
		ELSE = {
		SOV_boris_shaposhnikov = {
			remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
			promote_leader = yes 
			}

			add_doctrine_cost_reduction = {
				name = SOV_shapos
				cost_reduction = 0.25
				uses = 10
				category = land_doctrine
			}

			hidden_effect = {
			
		}
		}
	}
	}

	focus = {
		id = SOV_army_kone
		icon = GFX_SOV_rework304
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = 7
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes
		available = {
			NOT = {has_country_flag = SOV_army2_flag}
			has_completed_focus = SOV_army_mid2
			has_idea = ivan_konev
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.05
			}

			SOV_ivan_konev = {
				#KONEV, good General plus Adivor
				remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
				add_skill_level = 1
			}
		}
	}

	focus = {
		id = SOV_army_vatu
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = -3
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_BALANCE_OF_POWER}

		available_if_capitulated = yes

		available = {
			
			NOT = {has_country_flag = SOV_army2_flag}
			has_completed_focus = SOV_pol_purge12
			has_completed_focus = SOV_mil25
			NOT = {has_completed_focus = SOV_army_mid3}

		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			#VATUTIN, MEANT TO HAVE 80 ARMY CAP + NO SF OR TANK SHENANIGANS
			custom_effect_tooltip = SOV_army_grind_tt
			add_power_balance_value = {
				id = SOV_army_bop
				value = -0.05
			}
			IF = {
				LIMIT = {has_completed_focus = SOV_army_mid2}
				SOV_nikolay_vatutin = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
					add_attack = -2
					add_logistics = 2
					add_unit_leader_trait = trait_genius_staffer
					hidden_effect = {
						remove_unit_leader_trait = panzer_leader
						remove_unit_leader_trait = cavalry_leader
						remove_unit_leader_trait = panzer_expert
						remove_unit_leader_trait = commando
						remove_unit_leader_trait = skirmisher
						remove_unit_leader_trait = paratrooper
						remove_unit_leader_trait = camouflage_expert
						remove_unit_leader_trait = combined_arms_expert
						remove_unit_leader_trait = cavalry_expert
					}
				}
			}
			ELSE = {
				SOV_nikolay_vatutin = {
					remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army
					add_attack = -2
					add_logistics = 2
					add_unit_leader_trait = trait_genius_staffer
					hidden_effect = {
						remove_unit_leader_trait = panzer_leader
						remove_unit_leader_trait = cavalry_leader
						remove_unit_leader_trait = panzer_expert
						remove_unit_leader_trait = commando
						remove_unit_leader_trait = skirmisher
						remove_unit_leader_trait = paratrooper
						remove_unit_leader_trait = camouflage_expert
						remove_unit_leader_trait = combined_arms_expert
						remove_unit_leader_trait = cavalry_expert
					}
				}
			}
			
		}
	}

	focus = {
		id = SOV_army_vlas
		icon = GFX_roa
		prerequisite = { focus = SOV_army_mid1 focus = SOV_army_mid2 focus = SOV_army_mid3}
		relative_position_id = SOV_army_mid1
		x = -1
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

		available_if_capitulated = yes

		available = {
			has_completed_focus = SOV_army_mid2
			NOT = {has_country_flag = SOV_army2_flag}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			hidden_effect = {
				IF = {
					LIMIT = {NOT = {has_country_flag = SOV_army1_flag}}
					set_country_flag = SOV_army1_flag
				}
				ELSE = {
					set_country_flag = SOV_army2_flag
				}
			}
			#Vlasov, VERY GOOD, BUT DEFECTS TO GER
			custom_effect_tooltip = SOV_army_vlaslov_tt
			SOV_andrey_vlasov = {
				remove_unit_leader_trait = trait_SOV_cowed_by_stalin_army_weaker
				add_attack = 3
				add_planning = 3
				add_logistics = 2
			}
			hidden_effect = {
				set_global_flag = vlaslov_focus
			}
			
		}
	}


	

	### ECONOMIC FOCI ###
	focus = {
		id = SOV_eco_finish_collectivisation_process
		icon = GFX_focus_eng_crush_the_dream
		x = -44
		y = 0
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL  FOCUS_FILTER_BALANCE_OF_POWER }


		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		available_if_capitulated = yes

		completion_reward = {
			IF = {
                LIMIT = {NOT = {has_country_flag = SOV_big_purge_decision4_flag}}
           		add_power_balance_value = {
					id = SOV_purge_bop
					value = 0.05
                }
            }
			
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_stability_-5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = -0.05 }
			custom_effect_tooltip = generic_skip_one_line_tt
			add_timed_idea = {
				idea = SOV_collectivisation_finished
				days = 180
			}
		}
	}

	focus = {
		id = SOV_eco_empower_tolkachi
		prerequisite = { focus = SOV_eco_finish_collectivisation_process }
		icon = GFX_focus_ARG_crackdown_on_corruption
		x = -1
		y = 1
		relative_position_id = SOV_eco_finish_collectivisation_process
		cost = 2
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_BALANCE_OF_POWER }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			IF = {
                LIMIT = {NOT = {has_country_flag = SOV_big_purge_decision4_flag}}
				add_power_balance_value = {
					id = SOV_purge_bop
					value = 0.05
                }
            }
			
			custom_effect_tooltip = generic_skip_one_line_tt	
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_stability_-5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = -0.05 }
			
			custom_effect_tooltip = SOV_consumer_good_factor_-5_tt
			add_to_variable = { SOV_command_economy_consumer_goods_factor_var = -0.05 }
			
			custom_effect_tooltip = SOV_factory_output_-5_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = -0.05 }
		}
	}


	

	focus = {
		id = SOV_eco_women_workers
		prerequisite = { focus = SOV_eco_finish_collectivisation_process }
		icon = GFX_SOV_goal_women
		
		x = 1
		y = 1
		relative_position_id = SOV_eco_finish_collectivisation_process
		cost = 2
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			IF = {
                LIMIT = {NOT = {has_country_flag = SOV_big_purge_decision4_flag}}
				add_power_balance_value = {
					id = SOV_purge_bop
					value = 0.05
                }
            }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			add_political_power = -50
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_factory_output_3_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.03 }
		}
	}
	
	focus = {
		id = SOV_eco_dispersed
		prerequisite = { focus = SOV_eco_empower_tolkachi focus = SOV_eco_women_workers }
		icon = GFX_SOV_narkom_for_arms_industry
		
		x = -3
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_eco_empower_tolkachi
		cost = 1
		ai_will_do = {
			factor = 5
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = SOV_soviet_backwards_science_base
			add_tech_bonus = {
				name = SOV_dispersed_industry
				bonus = 0.25
				uses = 1
				technology = dispersed_industry
			}
		}
	}


		#### ECONOMY #################


		focus = {
		id = SOV_light_commissariat_light_industry
		prerequisite = { focus = SOV_eco_women_workers focus = SOV_eco_empower_tolkachi }
		icon = GFX_SOV_rework157
		x = -15
		y = 1
		relative_position_id = SOV_eco_women_workers
		cost = 1
		ai_will_do = {
			factor = 5
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_stability_5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = 0.05 }
			
			custom_effect_tooltip = SOV_consumer_good_factor_3_tt
			add_to_variable = { SOV_command_economy_consumer_goods_factor_var = 0.03 }
		}
	}
	
	focus = {
		id = SOV_light_modernise_textile_industry
		prerequisite = { focus = SOV_light_commissariat_light_industry }
		icon = GFX_focus_RAJ_khadi_movement
		x = -4
		y = 1
		relative_position_id = SOV_light_commissariat_light_industry
		cost = 5
		ai_will_do = {
			factor = 5
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_factory_output_5_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.05 }
			custom_effect_tooltip = SOV_consumer_good_factor_-2_tt
			add_to_variable = { SOV_command_economy_consumer_goods_factor_var = -0.02 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_new_textile_mills
		prerequisite = { focus = SOV_light_modernise_textile_industry }
		icon = GFX_focus_CHL_enlarge_the_textile_industries
		x = -1
		y = 1
		relative_position_id = SOV_light_modernise_textile_industry
		cost = 5
		
		available = {
			NOT = { has_completed_focus = SOV_light_fabric_of_new_society }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		completion_reward = {
			202 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				198 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				405 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			} else = {
				198 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				405 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_central_asia_dev_map_counter = 20 }
			clamp_variable = {
				var = var_central_asia_dev_map_counter
				max = 100
			}
			
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_central_asia_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}

	focus = {
		id = SOV_light_solve_raw_material_issue
		prerequisite = { focus = SOV_light_modernise_textile_industry }
		icon = GFX_SOV_rework302
		x = 1
		y = 1
		relative_position_id = SOV_light_modernise_textile_industry
		cost = 5
		
		available = {
			NOT = { has_completed_focus = SOV_light_fabric_of_new_society }
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}	
		
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_resource_gain_efficiency_5_tt
			add_to_variable = { SOV_command_economy_local_resources_factor_var = 0.05 }
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_tech_bonus = {
				name = SOV_solve_raw_material_issue
				bonus = 0.5
				uses = 1
				category = excavation_tech
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			405 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
 			add_resource = {
				type = rubber
				amount = 150
				state = 405
			}
			823 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
	 		add_resource = {
				type = rubber
				amount = 150
				state = 823
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_central_asia_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_central_asia_dev_map_counter = 20 }
			clamp_variable = {
				var = var_central_asia_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}

	focus = {
		id = SOV_light_fabric_of_new_society
		prerequisite = { focus = SOV_light_new_textile_mills focus = SOV_light_solve_raw_material_issue }
		icon = GFX_focus_AFG_integrate_tajik_and_uzbek_republics
		x = -1
		y = 1

		available = {
			communism > 0.95
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		relative_position_id = SOV_light_solve_raw_material_issue
		cost = 8 # TODO: MAKE DYNAMIC IF POSSIBLE (35 days if one previous focus has been done, 70 if both)
		
		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = SOV_generic_previous_improve_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					has_completed_focus = SOV_light_new_textile_mills
				}
				
				
				if = {
					limit = {
						NOT = { has_country_flag = SOV_second_5_year_plan_completed }
					}
					custom_effect_tooltip = SOV_generic_modify_command_economy_tt
					custom_effect_tooltip = SOV_consumer_good_factor_-5_tt
					add_to_variable = { SOV_command_economy_consumer_goods_factor_var = -0.05 }
				} else = {
					custom_effect_tooltip = SOV_generic_modify_command_economy_tt
					custom_effect_tooltip = SOV_factory_output_5_tt
					add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.05 }
				}
				
				# Regional Dev
				add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
				add_to_variable = { var_ukraine_west_dev_map_counter  = 30 }
				clamp_variable = {
					var = var_ukraine_west_dev_map_counter 
					max = 100
				}
				custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
				custom_effect_tooltip = SOV_regional_development_30_tt
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			
			if = {
				limit = {
					has_completed_focus = SOV_light_solve_raw_material_issue
				}
				custom_effect_tooltip = SOV_generic_modify_command_economy_tt
				custom_effect_tooltip = SOV_political_power_gain_factor_05_tt
				add_to_variable = { SOV_command_economy_political_power_factor_var = 0.05 }
				custom_effect_tooltip = SOV_weekly_stability_01_tt
				add_to_variable = { SOV_command_economy_stability_gain_factor_var = 0.001 }
				
				# Regional Dev
				add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
				add_to_variable = { var_central_asia_dev_map_counter = 20 }
				clamp_variable = {
					var = var_central_asia_dev_map_counter
					max = 100
				}
				
				custom_effect_tooltip = SOV_generic_modify_central_asia_tt
				custom_effect_tooltip = SOV_regional_development_20_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_5_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 5 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}

	focus = {
		id = SOV_light_increase_consumer_goods
		prerequisite = { focus = SOV_light_commissariat_light_industry }
		icon = GFX_focus_GER_customs_union
		mutually_exclusive = { focus = SOV_light_decrease_rations }
		x = 1
		y = 2
		relative_position_id = SOV_light_commissariat_light_industry
		cost = 1
		
		available = {
			NOT = { has_completed_focus = SOV_light_new_soviet_man }
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		completion_reward = {
		
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
					
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_political_power_gain_factor_10_tt
			add_to_variable = { SOV_command_economy_political_power_factor_var = 0.1 }
			
			custom_effect_tooltip = SOV_weekly_stability_01_tt
			add_to_variable = { SOV_command_economy_stability_gain_factor_var = 0.001 }
			custom_effect_tooltip = SOV_stability_5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = 0.05 }
		
			custom_effect_tooltip = SOV_expected_consumer_goods_5_tt
			add_to_variable = { SOV_command_economy_consumer_goods_expected_value_var = 0.05 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_-3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = -3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}

	focus = {
		id = SOV_light_restructure_society
		prerequisite = { focus = SOV_light_commissariat_light_industry }
		icon = GFX_focus_spr_class_war
		x = 0
		y = 1
		relative_position_id = SOV_light_commissariat_light_industry
		cost = 2

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_POLITICAL  FOCUS_FILTER_BALANCE_OF_POWER }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		completion_reward = {
			IF = {
                LIMIT = {NOT = {has_country_flag = SOV_big_purge_decision4_flag}}
				add_power_balance_value = {
					id = SOV_purge_bop
					value = 0.1
                }
            }
			add_timed_idea = {
				idea = SOV_restructure_society
				days = 500
			}
		}
	}

	focus = {
		id = SOV_light_decrease_rations
		prerequisite = { focus = SOV_light_commissariat_light_industry }
		mutually_exclusive = { focus = SOV_light_increase_consumer_goods }
		icon = GFX_focus_renounce_the_treaty_of_trianon
		x = -1
		y = 2
		relative_position_id = SOV_light_commissariat_light_industry
		cost = 1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		
		available = {
			NOT = { has_completed_focus = SOV_light_new_soviet_man }
		}
		
		completion_reward = {
		
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
		
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_political_power_gain_factor_-10_tt
			add_to_variable = { SOV_command_economy_political_power_factor_var = -0.1 }
			
			custom_effect_tooltip = SOV_weekly_stability_-01_tt
			add_to_variable = { SOV_command_economy_stability_gain_factor_var = -0.001 }
			custom_effect_tooltip = SOV_stability_-5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = -0.05 }
		
			custom_effect_tooltip = SOV_expected_consumer_goods_-5_tt
			add_to_variable = { SOV_command_economy_consumer_goods_expected_value_var = -0.05 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}

	focus = {
		id = SOV_light_concession_committee
		prerequisite = { focus = SOV_light_commissariat_light_industry }
		icon = GFX_SOV_rework261 
		x = 2
		y = 1
		relative_position_id = SOV_light_commissariat_light_industry
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		
		available = {
			has_political_power > 100
		}
		
		completion_reward = {
			add_political_power = -100
			add_ideas = SOV_gosproyektstroy_1
		}
	}

	focus = {
		id = SOV_light_limited_foreign_concessions
		prerequisite = { focus = SOV_light_concession_committee }
		mutually_exclusive = { focus = SOV_light_state_trade_monopoly }
		icon = GFX_SOV_rework251
		x = 1
		y = 1
		relative_position_id = SOV_light_concession_committee
		cost = 5
		
		available = {
			has_idea = SOV_gosproyektstroy_1
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNATIONAL_TRADE  FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		completion_reward = {
			add_ideas = sov_limited_foreign_concessions
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_-5_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = -5 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_reduce_foreign_reliance
		prerequisite = { focus = SOV_light_commissariat_light_industry }
		icon = GFX_focus_spr_masters_of_our_own_fate
		x = 4
		y = 1
		relative_position_id = SOV_light_commissariat_light_industry
		cost = 5
		
		available = {
			industrial_complex > 149
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_political_power_gain_factor_10_tt
			add_to_variable = { SOV_command_economy_political_power_factor_var = 0.1 }
			custom_effect_tooltip = SOV_consumer_good_factor_-5_tt
			add_to_variable = { SOV_command_economy_consumer_goods_factor_var = -0.05 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_state_trade_monopoly
		prerequisite = { focus = SOV_light_reduce_foreign_reliance }
		mutually_exclusive = { focus = SOV_light_limited_foreign_concessions }
		icon = GFX_HUN_autarky
		x = 1
		y = 1
		relative_position_id  = SOV_light_reduce_foreign_reliance
		cost = 5
		
		available = {
			NOT = { has_idea = SOV_gosproyektstroy_1 }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNATIONAL_TRADE }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		completion_reward = {
			add_ideas = sov_state_trade_monopoly
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_perfecting_trade_apparatus
		prerequisite = { focus = SOV_light_state_trade_monopoly focus = SOV_light_limited_foreign_concessions }
		icon = GFX_SOV_rework174
		x = 1
		y = 1
		relative_position_id = SOV_light_limited_foreign_concessions
		cost = 8

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNATIONAL_TRADE }
		
		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_gosproyektstroy_modification_enable_tt
			custom_effect_tooltip = SOV_trade_policy_tt
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}			
		}
	}
	
	focus = {
		id = SOV_light_crush_black_market
		prerequisite = { focus = SOV_light_increase_consumer_goods }
		prerequisite = { focus = SOV_light_limited_foreign_concessions }
		icon = GFX_focus_ARG_anti_corruption_policies
		x = 1
		y = 1
		relative_position_id = SOV_light_increase_consumer_goods
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNATIONAL_TRADE }

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_political_power_gain_factor_05_tt
			add_to_variable = { SOV_command_economy_political_power_factor_var = 0.05 }
			
			custom_effect_tooltip = SOV_stability_10_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = 0.1 }
			
			custom_effect_tooltip = SOV_market_access_-5_tt
			add_to_variable = { SOV_command_economy_min_export_var = -0.05 }
		}
	}
	
	focus = {
		id = SOV_light_new_soviet_man
		prerequisite = { focus = SOV_light_restructure_society }
		icon = GFX_focus_ARG_women_in_industry
		x = 0
		y = 3
		relative_position_id = SOV_light_restructure_society
		cost = 8

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_POLITICAL }
		
		available = {
			NOT = { has_idea = SOV_restructure_society }
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		completion_reward = {
		
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_ideas = SOV_new_soviet_man
		}
	}
	
	focus = {
		id = SOV_light_the_new_byt
		prerequisite = { focus = SOV_light_new_soviet_man }
		icon = GFX_focus_FIN_socialist_welfare
		x = -4
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_light_new_soviet_man
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_consumer_good_factor_-10_tt
			add_to_variable = { SOV_command_economy_consumer_goods_factor_var = -0.1 }
			custom_effect_tooltip = SOV_factory_output_-3_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = -0.03 }
		}
	}
	
	focus = {
		id = SOV_light_progress_cult
		prerequisite = { focus = SOV_light_the_new_byt }
		mutually_exclusive = { focus = SOV_light_socialist_realism }
		icon = GFX_SOV_progress_cult
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_light_the_new_byt
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_new_soviet_man
				add_idea = SOV_new_soviet_man_research
			}
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.75
			}
			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 1
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_spirit_of_communism
		prerequisite = { focus = SOV_light_new_soviet_man }
		icon = GFX_SOV_rework8
		x = -2
		y = 1
		relative_position_id = SOV_light_new_soviet_man
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			add_political_power = 100
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
	}
	
	focus = {
		id = SOV_light_stakhanovite_movement
		prerequisite = { focus = SOV_light_spirit_of_communism }
		mutually_exclusive = { focus = SOV_light_socialist_realism }
		icon = GFX_SOV_stakhonovite
		x = 1
		y = 1
		relative_position_id = SOV_light_spirit_of_communism
		cost = 5

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_new_soviet_man
				add_idea = SOV_new_soviet_man_political_power
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_socialist_realism
		prerequisite = { focus = SOV_light_the_new_byt focus = SOV_light_spirit_of_communism }
		mutually_exclusive = { focus = SOV_light_progress_cult focus = SOV_light_stakhanovite_movement }
		icon = GFX_SOV_rework288
		x = 1
		y = 1

		search_filters = {  FOCUS_FILTER_STABILITY }

		relative_position_id = SOV_light_the_new_byt
		cost = 6

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_new_soviet_man
				add_idea = SOV_new_soviet_man_stability2
			}
		}
	}
	
	focus = {
		id = SOV_light_capitals_of_socialism
		prerequisite = { focus = SOV_light_new_soviet_man }
		icon = GFX_SOV_capitals_of_socialism_1
		x = 2
		y = 1
		relative_position_id = SOV_light_new_soviet_man
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
					195 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				
				219 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}
				}
				
				217 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
			} else = {
				195 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
				
				219 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
				}
				
				217 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_leningrad_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { var_leningrad_dev_map_counter = 30 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_leningrad_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_moscow_tt
			custom_effect_tooltip = SOV_regional_development_50_tt
			add_to_variable = { var_moscow_dev_map_counter = 50 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_moscow_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { var_volga_dev_map_counter = 30 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_popovs_legacy
		prerequisite = { focus = SOV_light_capitals_of_socialism }
		icon = GFX_SOV_improve_signals
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_light_capitals_of_socialism
		cost = 5
		
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 3
				category = electronics
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_5_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.05 }
		}
	}
	
	focus = {
		id = SOV_light_expand_belarusian_science_academy
		prerequisite = { focus = SOV_light_capitals_of_socialism }
		icon = GFX_focus_generic_socialist_science
		x = 3
		y = 1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_light_capitals_of_socialism
		cost = 5
		completion_reward = {
		
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
		
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
            add_to_variable = { var_belarus_dev_map_counter = 50 }

            clamp_variable = {
                var = var_belarus_dev_map_counter
                max = 100
            }
			
			206 = {
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			custom_effect_tooltip = SOV_generic_modify_belarus_tt
			custom_effect_tooltip = SOV_regional_development_50_tt
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_broad_research_efforts
		prerequisite = { focus = SOV_light_expand_belarusian_science_academy }
		mutually_exclusive = { focus = SOV_light_narrow_research_efforts }
		icon = GFX_focus_generic_university_3
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_light_expand_belarusian_science_academy
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
		
			add_research_slot = 1
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_-10_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = -0.1 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_light_narrow_research_efforts
		prerequisite = { focus = SOV_light_popovs_legacy }
		prerequisite = { focus = SOV_light_expand_belarusian_science_academy }
		mutually_exclusive = { focus = SOV_light_broad_research_efforts }
		icon = GFX_focus_NOR_moscows_education_centers
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_light_popovs_legacy
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_research_slot = -1
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_30_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.3 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_soviet_atomic_bomb_project
		prerequisite = { focus = SOV_light_capitals_of_socialism }
		icon = GFX_SOV_rework46
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_light_capitals_of_socialism
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_tech = atomic_research
					}
				}
				add_tech_bonus = {
					name = SOV_soviet_atomic_bomb_project_tech_bonus_name
					bonus = 1
					uses = 1
					#ahead_reduction = 1
					category = nuclear
				}
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.5
				}
			}
			ELSE = {
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.8
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_nuclear_facility_50_tt
			add_to_variable = { SOV_command_economy_production_speed_nuclear_facility_factor_var = 0.5 }
			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = SOV_soviet_atomic_bomb_project_tt
			hidden_effect = {
			 	IF = {
			 		limit = { 
			 			588 = {
			 				is_fully_controlled_by = ROOT
			 				air_facility < 1
			 				land_facility < 1
			 				naval_facility < 1
			 				nuclear_facility < 1
			 			}
			 		}

			 		588 = {
			 			add_building_construction = {
			 				type = nuclear_facility
			 				level = 1
			 				instant_build = yes
			 				province = 7350 # Kurchatov
			 			}
			 			add_victory_points = {
			 				province = 7350
			 				value = 1
			 			}	
			 		}
			 	}
			 }
			 
			588 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_central_asia_dev_map_counter = 20 }
		
			clamp_variable = {
				var = var_central_asia_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_central_asia_tt
			custom_effect_tooltip = SOV_regional_development_20_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				create_operative_leader = {
					name = "SOV_ursula_kuczynski"
					GFX = GFX_Portrait_ursula_kuczynski
					female = yes
					traits = { operative_safe_cracker operative_infiltrator }
					bypass_recruitment = no
					available_to_spy_master = yes
					nationalities = { SOV GER }
				}
				add_ideas = SOV_soviet_atomic_bomb_project_ns
			}
			custom_effect_tooltip = SOV_soviet_atomic_bomb_project_unlock_operation_tt
		}
	}
	
	focus = {
		id = SOV_light_uranium_mines
		prerequisite = { focus = SOV_soviet_atomic_bomb_project }
		icon = GFX_focus_generic_uranium_extraction
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_soviet_atomic_bomb_project
		cost = 5
		completion_reward = {
			add_ideas = SOV_uranium_mines
			custom_effect_tooltip = generic_skip_one_line_tt
			
			881 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 4
					instant_build = yes
				}
			}
			590 = {
			add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_central_asia_dev_map_counter = 30 }
		
			clamp_variable = {
				var = var_central_asia_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_central_asia_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
		}
	}
	
	### HEAVY INDUSTRY

	focus = {
		id = SOV_heavy1
		prerequisite = { focus = SOV_eco_women_workers focus = SOV_eco_empower_tolkachi }
		icon = GFX_SOV_rework241
		x = -1
		y = 1
		relative_position_id = SOV_eco_women_workers
		cost = 1
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_country_flag =  SOV_trotsky}
			}
		}

		offset = {
			x = 400
			y = 0
			trigger = {
				has_country_flag =  SOV_trotsky
			}
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_stability_-5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = -0.05 }
			custom_effect_tooltip = SOV_construction_speed_5_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.05 }
		}
	}

	focus = {
		id = SOV_heavy_wealth_of_the_motherland
		prerequisite = { focus = SOV_heavy1 }
		icon = GFX_focus_CONGO_gold_and_diamonds
		x = -5
		y = 1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		
		relative_position_id = SOV_heavy1
		cost = 3
		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt

			custom_effect_tooltip = SOV_resource_gain_efficiency_5_tt
			add_to_variable = { SOV_command_economy_local_resources_factor_var = 0.05 }
			custom_effect_tooltip = SOV_construction_speed_infra_5_tt
			add_to_variable = { SOV_command_economy_production_speed_infrastructure_factor_var = 0.05 }	
		}
	}

	focus = {
		id = SOV_heavy_expand_baku_oil
		prerequisite = { focus = SOV_heavy_wealth_of_the_motherland }
		icon = GFX_focus_generic_resource_extraction
		x = -1
		y = 1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_heavy_wealth_of_the_motherland
		cost = 2
		completion_reward = {
			add_resource = {
				type = oil
				amount = 300
				state = 229
			}
			229 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			239 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
			251 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
			829 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_caucasus_dev_map_counter = 20 }
			clamp_variable = {
				var = var_caucasus_dev_map_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_volga_dev_map_counter = 20 }
			clamp_variable = {
				var = var_volga_dev_map_counter
				max = 100
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_caucasus_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 

			
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}

	focus = {
		id = SOV_heavy_build_aluminium_mills
		prerequisite = { focus = SOV_heavy_expand_baku_oil }
		icon = GFX_HUN_joint_aluminum_mining_company
		x = 0
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_expand_baku_oil
		cost = 4
		completion_reward = {
			200 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = aluminium
				amount = 200
				state = 200
			}
			653 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = aluminium
				amount = 300
				state = 653
			}
			569 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = aluminium
				amount = 300
				state = 569
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter 
				max = 100
			}
			
			add_to_variable = { var_urals_dev_map_counter = 20 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_west_dev_map_counter = 20 }
			clamp_variable = {
				var = var_siberia_west_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}			
		}
	}

	focus = {
		id = SOV_heavy_new_mines_urals
		prerequisite = { focus = SOV_heavy_build_aluminium_mills }
		icon = GFX_SOV_goals_renovation_of_siberia
		x = 0
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_build_aluminium_mills
		cost = 4
		completion_reward = {
			573 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = chromium
				amount = 300
				state = 233
			}
			651 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = tungsten
				amount = 200
				state = 651
			}
			398 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = steel
				amount = 200
				state = 398
			}
	 		
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 30 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_30_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}			
		}
	}

	focus = {
		id = SOV_heavy_breadbasket_of_the_union
		prerequisite = { focus = SOV_heavy_wealth_of_the_motherland }
		icon = GFX_SOV_rework250
		x = 1
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_wealth_of_the_motherland
		cost = 3
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_consumer_good_factor_-3_tt
			add_to_variable = { SOV_command_economy_consumer_goods_factor_var = -0.03 }
			custom_effect_tooltip = generic_skip_one_line_tt

			199 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			201 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			202 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			198 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			834 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			192 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			197 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			203 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			193 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			225 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			259 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			226 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			196 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			200 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			221 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			227 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_ukraine_west_dev_map_counter = 50 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_50_tt

			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_ukraine_east_dev_map_counter = 30 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_30_tt

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}			
		}
	}
	
	focus = {
		id = SOV_heavy_develop_northern_ports
		prerequisite = { focus = SOV_heavy_breadbasket_of_the_union }
		icon = GFX_focus_POL_develop_polish_shipbuilding
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_heavy_breadbasket_of_the_union
		cost = 3

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {			
			213 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 6
					instant_build = yes
					province = 3134
				}
			}
			214 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 6
					instant_build = yes
					province = 3338
				}
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_northwest_dev_map_counter = 50 }
			clamp_variable = {
				var = var_northwest_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_northwest_tt
			custom_effect_tooltip = SOV_regional_development_50_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}			
		}
	}
	
	focus = {
		id = SOV_heavy_new_mines_caucasus
		prerequisite = { focus = SOV_heavy_shift_to_armaments_production focus = SOV_heavy_balanced_industrial_approach focus = SOV_heavy_develop_northern_ports }
		icon = GFX_focus_generic_coal_mining
		x = 0
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_develop_northern_ports
		cost = 5
		completion_reward = {
			233 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = tungsten
				amount = 200
				state = 233
			}
			827 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = tungsten
				amount = 250
				state = 827
			}
			828 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = chromium
				amount = 300
				state = 828
			}
	 		
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_caucasus_dev_map_counter = 30 }
			clamp_variable = {
				var = var_caucasus_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_caucasus_tt
			custom_effect_tooltip = SOV_regional_development_30_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }		
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_industrial_build_up
		prerequisite = { focus = SOV_heavy1 }
		icon = GFX_focus_NORDIC_com_civilian

		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		relative_position_id = SOV_heavy1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_weekly_stability_-01_tt
			add_to_variable = { SOV_command_economy_stability_gain_factor_var = -0.001 }
			custom_effect_tooltip = SOV_consumer_good_factor_-5_tt
			add_to_variable = { SOV_command_economy_consumer_goods_factor_var = -0.05 }
			custom_effect_tooltip = SOV_construction_speed_5_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.05 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_industrial_expansion
		prerequisite = { focus = SOV_heavy_industrial_build_up }
		icon = GFX_GER_naval_effort2
		x = -2
		y = 2

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_industrial_build_up
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_tech_bonus = {
				name = SOV_heavy_industrial_expansion_tech_bonus
				bonus = 0.5
				uses = 1
				category = construction_tech
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				custom_effect_tooltip = SOV_generic_modify_command_economy_tt
				custom_effect_tooltip = SOV_construction_speed_infra_5_tt
				add_to_variable = { SOV_command_economy_production_speed_infrastructure_factor_var = 0.05 }
				custom_effect_tooltip = SOV_construction_speed_civ_5_tt
				add_to_variable = { SOV_command_economy_production_speed_industrial_complex_factor_var = 0.05 }
			} else = {
				custom_effect_tooltip = SOV_generic_modify_command_economy_tt
				custom_effect_tooltip = SOV_construction_speed_mil_5_tt
				add_to_variable = { SOV_command_economy_production_speed_arms_factory_factor_var = 0.05 }
				custom_effect_tooltip = SOV_construction_speed_dock_5_tt
				add_to_variable = { SOV_command_economy_production_speed_dockyard_factor_var = 0.05 }
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_5_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 5 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}

	focus = {
		id = SOV_heavy_tractor_factories
		prerequisite = { focus = SOV_heavy_industrial_build_up }
		icon = GFX_SOV_production_speed
		x = -1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_industrial_build_up
		cost = 5
		completion_reward = {
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				242 = {
				add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				241 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				221 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
			} else = {
				242 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				241 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				221 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_moscow_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_moscow_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_moscow_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_belarus_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_belarus_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_belarus_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_5_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 5 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }


			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}			
		}
	}

	focus = {
		id = SOV_heavy_western_industrial_expansion
		prerequisite = { focus = SOV_heavy_industrial_build_up }
		icon = GFX_focus_generic_communist_industry
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_industrial_build_up
		cost = 5
		completion_reward = {
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				206 = {
				add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				223 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				192 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			} else = {
				206 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				223 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				192 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_belarus_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_belarus_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_belarus_dev_map_counter
				max = 100
			}

			custom_effect_tooltip = SOV_generic_modify_moscow_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_moscow_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_moscow_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_5_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 5 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_urbanization_of_society
		prerequisite = { focus = SOV_heavy_tractor_factories focus = SOV_heavy_western_industrial_expansion }
		icon = GFX_focus_generic_low_cost_housing
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_tractor_factories
		cost = 8 # TODO: MAKE DYNAMIC IF POSSIBLE (35 days if one previous focus has been done, 70 if both)
		
		completion_reward = {
			custom_effect_tooltip = SOV_generic_previous_improve_tt
			if = {
				limit = {
					AND = {
						has_completed_focus = SOV_heavy_tractor_factories
						NOT = { has_completed_focus = SOV_heavy_western_industrial_expansion }
					}
				}
				if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				195 = {
				add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				219 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				217 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
			} else = {
				195 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				219 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				217 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_leningrad_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { var_leningrad_dev_map_counter = 30 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_leningrad_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_moscow_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { var_moscow_dev_map_counter = 30 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_moscow_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { var_volga_dev_map_counter = 30 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_5_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 5 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
			
			} if = {
				limit = {
					AND = {
						has_completed_focus = SOV_heavy_western_industrial_expansion
						NOT = { has_completed_focus = SOV_heavy_tractor_factories }
					}
				}
				if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				224 = {
				add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				220 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				226 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			} else = {
				224 = {
				add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				220 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				226 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_40_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 40 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter 
				max = 100
			}

			custom_effect_tooltip = SOV_generic_modify_moscow_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_moscow_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_moscow_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_5_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 5 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
			
			} if = {
				limit = {
					AND = {
						has_completed_focus = SOV_heavy_western_industrial_expansion
						has_completed_focus = SOV_heavy_tractor_factories
					}
				}
				if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				195 = {
				add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				219 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				217 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				224 = {
				add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				220 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
				226 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
			} else = {
				195 = {
				add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				219 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				217 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				224 = {
				add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				220 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				226 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_leningrad_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { var_leningrad_dev_map_counter = 30 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_leningrad_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_moscow_tt
			custom_effect_tooltip = SOV_regional_development_40_tt
			add_to_variable = { var_moscow_dev_map_counter = 40 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_moscow_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { var_volga_dev_map_counter = 30 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_40_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 40 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_10_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 10 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
			}
		}
	}
				
	focus = {
		id = SOV_heavy_new_construction_sites
		prerequisite = { focus = SOV_heavy_industrial_build_up }
		icon = GFX_focus_NORDIC_com_selector_civilian
		x = 2
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}
		
		available = {
			#num_of_civilian_factories_available_for_projects > 15
		}
		
		relative_position_id = SOV_heavy_industrial_build_up
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {			
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_factories_in_state_factor_10_tt
			add_to_variable = { SOV_command_economy_global_building_slots_factor_var = 0.1 }
			custom_effect_tooltip = SOV_factories_in_state_1_tt
			add_to_variable = { SOV_command_economy_global_building_slots_var = 1 }
			
			hidden_effect = { remove_ideas = SOV_new_construction_sites }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}

	focus = {
		id = SOV_heavy_shift_to_armaments_production
		prerequisite = { focus = SOV_heavy_industrial_expansion }
		prerequisite = { focus = SOV_heavy_urbanization_of_society }
		prerequisite = { focus = SOV_heavy_new_construction_sites }
		mutually_exclusive = { focus = SOV_heavy_balanced_industrial_approach }
		icon = GFX_focus_AFG_scavenging 
		x = 3

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		y = 1
		
		available = {
			has_country_flag = SOV_second_5_year_plan_completed
		}
		
		relative_position_id = SOV_heavy_industrial_expansion
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt

			custom_effect_tooltip = SOV_construction_speed_civ_-5_tt
			add_to_variable = { SOV_command_economy_production_speed_industrial_complex_factor_var = 0.05 }
			custom_effect_tooltip = SOV_construction_speed_mil_10_tt
			add_to_variable = { SOV_command_economy_production_speed_arms_factory_factor_var = 0.1 }
			
			custom_effect_tooltip = SOV_factory_output_5_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.05 }
			
			custom_effect_tooltip = SOV_efficiency_growth_5_tt
			add_to_variable = { SOV_command_economy_production_factory_efficiency_gain_factor_var = 0.05 }
			custom_effect_tooltip = SOV_efficiency_base_5_tt
			add_to_variable = { SOV_command_economy_production_factory_start_efficiency_factor_var = 0.05 }
			custom_effect_tooltip = SOV_efficiency_retention_5_tt
			add_to_variable = { SOV_command_economy_line_change_production_efficiency_factor_var = 0.05 }
			
			custom_effect_tooltip = SOV_civ_to_mil_conversion_20_tt
			add_to_variable = { SOV_command_economy_conversion_cost_civ_to_mil_factor_var = -0.20 }
		}
	}
	
	focus = {
		id = SOV_heavy_balanced_industrial_approach
		prerequisite = { focus = SOV_heavy_industrial_expansion }
		prerequisite = { focus = SOV_heavy_urbanization_of_society }
		prerequisite = { focus = SOV_heavy_new_construction_sites }
		mutually_exclusive = { focus = SOV_heavy_shift_to_armaments_production }
		icon = GFX_focus_NORDIC_com_capstone_civilian
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_industrial_expansion
		cost = 5
		completion_reward = {

			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_stability_5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = 0.05 }
			
			custom_effect_tooltip = SOV_construction_speed_5_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.05 }
			
			custom_effect_tooltip = SOV_dockyard_output_5_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_dockyard_var = 0.05 }
			add_to_variable = { 
           	 	SOV_command_economy_production_factory_max_efficiency_factor_var = 0.06
            	tooltip = production_factory_max_efficiency_factor_tt
            }

			add_days_mission_timeout = {
                mission = SOV_second_5_year_plan_deadline
                days = 260
            }
		}
	}
	
	focus = {
		id = SOV_heavy_national_specialists
		prerequisite = { focus = SOV_eco_empower_tolkachi focus = SOV_eco_women_workers }
		icon = GFX_SOV_tractor_factories
		x = 3
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_eco_women_workers
		cost = 5
		
		available = {
			has_political_power > 75
		}
		
		completion_reward = {
			add_political_power = -75
			add_ideas = stalingrad_tractor_factory

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_volga_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter 
				max = 100
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
		}
	}
	
	focus = {
		id = SOV_heavy_PC_mechanical_engineering
		prerequisite = { focus = SOV_heavy_shift_to_armaments_production focus = SOV_heavy_balanced_industrial_approach }
		icon = GFX_SOV_rework106
		x = -3
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_heavy_shift_to_armaments_production
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_efficiency_growth_2_tt
			add_to_variable = { SOV_command_economy_production_factory_efficiency_gain_factor_var = 0.02 }
			add_to_variable = { 
           	 	SOV_command_economy_production_factory_max_efficiency_factor_var = 0.02
            	tooltip = production_factory_max_efficiency_factor_tt
            }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			add_tech_bonus = {
				name = SOV_PC_mechanical_engineering
				bonus = 0.5
				uses = 1
				category = cat_production
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	#focus = {
	#	id = SOV_heavy_modernize_extraction_equipment
	#	prerequisite = { focus = SOV_heavy_new_mines_caucasus }
	#	prerequisite = { focus = SOV_heavy_PC_mechanical_engineering }
	#	icon = GFX_focus_generic_land_reclamation
	#	x = 0
	#	y = 1
##
	##	allow_branch = {
	##		NOT = { has_country_flag = SOV_great_patriotic_war_start }
	##	}
	#	
	#	available = {
	#		OR = {
	#			has_completed_focus = SOV_light_limited_foreign_concessions
	#			has_completed_focus = SOV_light_state_trade_monopoly
	#		}
	#	}
	#	
	#	relative_position_id = SOV_heavy_new_mines_caucasus
	#	cost = 5
	#	completion_reward = {
	#		custom_effect_tooltip = SOV_heavy_modernize_extraction_equipment_tt
	#		custom_effect_tooltip = generic_skip_one_line_tt
	#		
	#		if = {
	#			limit = {
	#				has_completed_focus = SOV_light_limited_foreign_concessions
	#			}
	#			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
	#			custom_effect_tooltip = SOV_political_power_gain_factor_-5_tt
	#			add_to_variable = { SOV_command_economy_political_power_factor_var = -0.05 }
	#			custom_effect_tooltip = SOV_resource_gain_efficiency_10_tt
	#			add_to_variable = { SOV_command_economy_local_resources_factor_var = 0.1 }
	#			
	#			add_resource = {
	#				type = aluminium
	#				amount = 250
	#				state = 566
	#			}
	#			add_resource = {
	#				type = aluminium
	#				amount = 300
	#				state = 564
	#			}
	#			custom_effect_tooltip = generic_skip_one_line_tt
	#			
#
	#			add_tech_bonus = {
	#				name = SOV_modernize_extraction_equipment
	#				bonus = 0.5
	#				uses = 1
	#				category = excavation_tech
	#			}
	#			
	#			custom_effect_tooltip = generic_skip_one_line_tt
	#			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
	#		
	#			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
	#			clamp_variable = {
	#				var = var_SOV_second_5_year_plan_progress_bar_counter
	#				max = 100
	#			}
	#			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }				
	#		} else = {
	#				custom_effect_tooltip = SOV_generic_modify_command_economy_tt
	#				custom_effect_tooltip = SOV_resource_gain_efficiency_5_tt
	#				add_to_variable = { SOV_command_economy_local_resources_factor_var = 0.05 }
	#				custom_effect_tooltip = generic_skip_one_line_tt
	#			
	#			add_tech_bonus = {
	#				name = SOV_modernize_extraction_equipment
	#				bonus = 1
	#				uses = 1
	#				category = excavation_tech
	#			}
	#			add_resource = {
	#				type = aluminium
	#				amount = 200
	#				state = 566
	#			}
	#			add_resource = {
	#				type = aluminium
	#				amount = 300
	#				state = 564
	#			}
#
	#			custom_effect_tooltip = generic_skip_one_line_tt
	#			
	#			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
	#			
	#			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
	#			clamp_variable = {
	#				var = var_SOV_second_5_year_plan_progress_bar_counter
	#				max = 100
	#			}
	#			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
	#		}
#
	#		if = {
	#			limit = {
	#				check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
	#				NOT = { has_country_flag = SOV_second_5_year_plan_completed }
	#			}
	#			country_event = { id = soviet.600 }
	#			set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
	#			set_country_flag = SOV_second_5_year_plan_completed
	#		}
	#		else_if = {
	#			limit = {
	#				check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
	#				has_country_flag = SOV_second_5_year_plan_completed
	#			}
	#			country_event = { id = soviet.699 }
	#			set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
	#		}
	#	}
	#}
	
	focus = {
		id = SOV_heavy_industrial_modernization
		prerequisite = { focus = SOV_heavy_PC_mechanical_engineering }
		icon = GFX_focus_SWE_landsverk
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_PC_mechanical_engineering
		cost = 5
		completion_reward = {
			add_tech_bonus = {
				name = SOV_industrial_modernization
				bonus = 0.25
				uses = 1
				technology = concentrated_industry2
        		technology = concentrated_industry3
        		technology = concentrated_industry4
				technology = dispersed_industry2
        		technology = dispersed_industry3
        		technology = dispersed_industry4
			}
			
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				219 = {
				add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				227 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				252 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			} else = {
				219 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
				227 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
				252 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_moscow_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_moscow_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_moscow_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_volga_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_standardize_factory_blueprints
		prerequisite = { focus = SOV_heavy_PC_mechanical_engineering }
		mutually_exclusive = { focus = SOV_heavy_increase_production_targets }
		icon = GFX_SOV_rework33
		x = 2
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy_PC_mechanical_engineering
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_efficiency_base_5_tt
			add_to_variable = { SOV_command_economy_production_factory_start_efficiency_factor_var = 0.05 }
			custom_effect_tooltip = SOV_efficiency_retention_5_tt
			add_to_variable = { SOV_command_economy_line_change_production_efficiency_factor_var = 0.05 }

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		id = SOV_heavy_electrification_drive
		prerequisite = { focus = SOV_heavy_shift_to_armaments_production focus = SOV_heavy_balanced_industrial_approach }
		icon = GFX_focus_AFG_helmand_river_authority
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL  FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_heavy_shift_to_armaments_production
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_political_power_gain_factor_05_tt
			add_to_variable = { SOV_command_economy_political_power_gain_var = 0.05 }
			
			custom_effect_tooltip = SOV_stability_5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = 0.05 }
			
			custom_effect_tooltip = SOV_research_speed_5_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.05 }
			custom_effect_tooltip = generic_skip_one_line_tt
			add_tech_bonus = {
				name = SOV_electrification
				bonus = 0.50
				uses = 1
				category = electronics
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_streamline_resource_allocation
		prerequisite = { focus = SOV_heavy_wealth_of_the_motherland focus = SOV_heavy_industrial_build_up }
		icon = GFX_focus_GER_factories_for_resources
		x = -3
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_heavy_industrial_build_up
		cost = 5
		

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_efficiency_growth_5_tt
			add_to_variable = { SOV_command_economy_production_factory_efficiency_gain_factor_var = 0.05 }
			custom_effect_tooltip = SOV_efficiency_base_2_tt
			add_to_variable = { SOV_command_economy_production_factory_start_efficiency_factor_var = 0.02 }
			custom_effect_tooltip = SOV_efficiency_retention_2_tt
			add_to_variable = { SOV_command_economy_line_change_production_efficiency_factor_var = 0.02 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_productive_forces
		prerequisite = { focus = SOV_heavy_shift_to_armaments_production focus = SOV_heavy_balanced_industrial_approach }
		prerequisite = { focus = SOV_heavy_siberian_colonization focus = SOV_heavy_model_cities }
		icon = GFX_HUN_support_domestic_industry
		x = 2
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_heavy_shift_to_armaments_production
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_factory_output_3_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.03 }
			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				224 = {
				add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				227 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				263 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			} else = {
				224 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
				227 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
				263 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 30 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_leningrad_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_leningrad_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_leningrad_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_increase_production_targets
		mutually_exclusive = { focus = SOV_heavy_standardize_factory_blueprints }
		prerequisite = { focus = SOV_heavy_electrification_drive }
		prerequisite = { focus = SOV_heavy_productive_forces }
		icon = GFX_SOV_rework264
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_heavy_electrification_drive
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			add_to_variable = { 
           	 	SOV_command_economy_production_factory_max_efficiency_factor_var = 0.05
            	tooltip = production_factory_max_efficiency_factor_tt
            }
			custom_effect_tooltip = SOV_efficiency_base_-10_tt
			add_to_variable = { SOV_command_economy_production_factory_start_efficiency_factor_var = -0.1 }
			custom_effect_tooltip = SOV_efficiency_retention_-5_tt
			add_to_variable = { SOV_command_economy_line_change_production_efficiency_factor_var = -0.05 }

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_transformation_of_nature
		prerequisite = { focus = SOV_heavy_new_mines_urals }
		prerequisite = { focus = SOV_heavy_new_mines_caucasus }
		icon = GFX_focus_AUS_danubian_socialist_communes
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			has_tech = excavation3
		}
		
		relative_position_id = SOV_heavy_new_mines_caucasus
		cost = 8
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_factories_in_state_2_tt
			add_to_variable = { SOV_command_economy_global_building_slots_var = 2 }
			custom_effect_tooltip = SOV_resource_gain_efficiency_5_tt
			add_to_variable = { SOV_command_economy_local_resources_factor_var = 0.05 }
			custom_effect_tooltip = generic_skip_one_line_tt

			add_resource = {
				type = aluminium
				amount = 200
				state = 566
			}
			add_resource = {
				type = aluminium
				amount = 300
				state = 564
			}

			217 = {	
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 3555
					}
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
			}
			196 = {	
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 737
					}
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
			}
			245 = {	
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 3478
					}
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
			}
			251 = {	
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 6275
					}
				}
				custom_effect_tooltip = {
					localization_key = building_state_modifier|dam
					INDENT = "    "
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_40_tt
			add_to_variable = { var_volga_dev_map_counter = 40 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_10_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 10 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_mastery_of_production
		prerequisite = { focus = SOV_heavy_standardize_factory_blueprints focus = SOV_heavy_increase_production_targets }
		icon = GFX_SOV_rework129
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
        	has_tech = advanced_machine_tools
		}
		
		relative_position_id = SOV_heavy_standardize_factory_blueprints
		cost = 8
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_efficiency_growth_3_tt
			add_to_variable = { SOV_command_economy_production_factory_efficiency_gain_factor_var = 0.03 }
			add_to_variable = { 
           	 	SOV_command_economy_production_factory_max_efficiency_factor_var = 0.03
            	tooltip = production_factory_max_efficiency_factor_tt
            }
			custom_effect_tooltip = SOV_efficiency_base_3_tt
			add_to_variable = { SOV_command_economy_production_factory_start_efficiency_factor_var = 0.03 }
			custom_effect_tooltip = SOV_efficiency_retention_3_tt
			add_to_variable = { SOV_command_economy_line_change_production_efficiency_factor_var = 0.03 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_8_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 8 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_architects_of_communism
		prerequisite = { focus = SOV_heavy_transformation_of_nature }
		prerequisite = { focus = SOV_heavy_mastery_of_production }
		prerequisite = { focus = SOV_heavy_special_industrial_directorate }
		icon = GFX_SOV_rework59
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			num_of_factories > 650
			has_stability > 0.7
			has_war = no
			communism > 0.95
		}
		
		relative_position_id = SOV_heavy_mastery_of_production
		
		cost = 10
		
		completion_reward = {			
			195 = {
			add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			219 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			217 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			570 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			203 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			
			every_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			add_country_leader_trait = stalin_architect_of_communism
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_northwest_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_northwest_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_northwest_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_moscow_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_moscow_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_moscow_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_volga_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_leningrad_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_leningrad_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_leningrad_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_belarus_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_belarus_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_belarus_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_caucasus_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_caucasus_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_caucasus_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_volga_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_central_asia_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_central_asia_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_central_asia_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_urals_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_urals_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			add_to_variable = { var_siberia_west_dev_map_counter = 20 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_siberia_west_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_siberia_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_siberia_east_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_siberia_east_dev_map_counter 
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_10_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 10 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_special_industrial_directorate
		prerequisite = { focus = SOV_heavy_increase_production_targets focus = SOV_heavy_standardize_factory_blueprints}
		prerequisite = { focus = SOV_heavy_industrial_powerhouses }
		icon = GFX_SOV_rework54
		x = 4
		y = 0

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			OR = {
        		has_tech = concentrated_industry3
        		has_tech = dispersed_industry3
			}
		}
		
		relative_position_id = SOV_heavy_mastery_of_production
		cost = 8
		completion_reward = {			
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_10_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.1 }
			custom_effect_tooltip = SOV_factories_in_state_2_tt
			add_to_variable = { SOV_command_economy_global_building_slots_var = 2 }
			custom_effect_tooltip = SOV_civ_to_mil_conversion_10_tt
			add_to_variable = { SOV_command_economy_conversion_cost_civ_to_mil_factor_var = -0.10 }
			custom_effect_tooltip = SOV_mil_to_civ_conversion_10_tt
			add_to_variable = { SOV_command_economy_conversion_cost_mil_to_civ_factor_var = -0.10 }
			
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_10_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 10 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }	
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_expand_closed_cities
		prerequisite = { focus = SOV_heavy1 }
		icon = GFX_SOV_magnitogorsk_the_closed_city
		x = 5
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_heavy1
		cost = 3
		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_victory_points = {
				province = 10256
				value = 2
			}
			add_victory_points = {
				province = 9292
				value = 2
			}
			add_victory_points = {
				province = 7689
				value = 1
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
		
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_west_dev_map_counter = 10 }
		
			clamp_variable = {
				var = var_siberia_west_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			
			# Create Closed City Variables
			set_variable = { SOV_var_magnitogorsk_development = 1 }
			set_variable = { SOV_var_chelyabinsk_development = 1 }
			set_variable = { SOV_var_norilsk_development = 1 }
		}
	}
	
	focus = {
		id = SOV_heavy_build_norilsk
		prerequisite = { focus = SOV_heavy_expand_closed_cities }
		icon = GFX_SOV_great_archipelago
		x = -1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		relative_position_id = SOV_heavy_expand_closed_cities
		cost = 4
		completion_reward = {
			579 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_resource = {
				type = chromium
				amount = 250
				state = 579
			}
			add_resource = {
				type = tungsten
				amount = 300
				state = 579
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			add_victory_points = {
				province = 7689
				value = 1
			}
			add_to_variable = { SOV_var_norilsk_development = 1 }
			clamp_variable = {
				var = SOV_var_norilsk_development
				max = 10
			}
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_special_settlements
		icon = GFX_SOV_rework108
		prerequisite = { focus = SOV_heavy_build_norilsk }
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		relative_position_id = SOV_heavy_build_norilsk
		cost = 4
		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			579 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_victory_points = {
				province = 7689
				value = 1
			}
			562 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			560 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			657 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			568 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			570 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt

			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_east_dev_map_counter = 10 }
			clamp_variable = {
				var = var_siberia_east_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt

			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_west_dev_map_counter = 10 }
			clamp_variable = {
				var = var_siberia_east_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
			custom_effect_tooltip = SOV_regional_development_10_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_siberian_colonization
		prerequisite = { focus = SOV_heavy_special_settlements }
		mutually_exclusive = { focus = SOV_heavy_model_cities }
		icon = GFX_SOV_rework83
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		relative_position_id = SOV_heavy_special_settlements
		cost = 4
		completion_reward = {	
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_stability_-10_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = -0.1 }
			custom_effect_tooltip = SOV_resource_gain_efficiency_10_tt
			add_to_variable = { SOV_command_economy_local_resources_factor_var = 0.1 }
			custom_effect_tooltip = SOV_construction_speed_infra_25_tt
			add_to_variable = { SOV_command_economy_production_speed_infrastructure_factor_var = 0.25 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
					579 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_upgrade_cities_1_tt 
					add_victory_points = {
						province = 7689
						value = 1
					}
			
					add_to_variable = { SOV_var_norilsk_development = 1 }
					clamp_variable = {
						var = SOV_var_norilsk_development
						max = 10
					}
					add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
					562 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					560 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					657 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					568 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					570 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					564 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					408 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				} else = {
					579 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_upgrade_cities_1_tt 
					add_victory_points = {
						province = 7689
						value = 1
					}
					
					add_to_variable = { SOV_var_norilsk_development = 1 }
					clamp_variable = {
						var = SOV_var_norilsk_development
						max = 10
					}
					add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
					
					562 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					560 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					657 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					568 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					570 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					564 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					408 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_east_dev_map_counter = 30 }
			clamp_variable = {
				var = var_siberia_east_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_east_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_west_dev_map_counter = 30 }
			clamp_variable = {
				var = var_siberia_west_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
			custom_effect_tooltip = SOV_regional_development_30_tt	
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_enlargen_industrial_cities
		prerequisite = { focus = SOV_heavy_expand_closed_cities }
		icon = GFX_SOV_rework45
		x = 2
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_heavy_expand_closed_cities
		cost = 5

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
			custom_trigger_tooltip = {
				tooltip = SOV_need_magnitogorsk_1_tt
				check_variable = { SOV_var_magnitogorsk_development = 1 compare = greater_than_or_equals }
			}
		}
		
		completion_reward = {			
			582 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = steel_refinery
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				582 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				
			} else = {
				582 = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			add_victory_points = {
				province = 10256
				value = 1
			}
			
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				572 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			} else = {
				572 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			add_victory_points = {
				province = 9292
				value = 1
			}
			
			add_to_variable = { SOV_var_chelyabinsk_development = 1 }
			clamp_variable = {
				var = SOV_var_chelyabinsk_development
				max = 7
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 } 
			
			add_to_variable = { SOV_var_magnitogorsk_development = 1 }
			clamp_variable = {
				var = SOV_var_magnitogorsk_development
				max = 10
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
		
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_steel_powerhouse
		prerequisite = { focus = SOV_heavy_enlargen_industrial_cities }
		icon = GFX_SOV_rework134
		x = -1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		relative_position_id = SOV_heavy_enlargen_industrial_cities
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_factory_output_5_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.05 }
			custom_effect_tooltip = generic_skip_one_line_tt
			
			
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				582 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = steel_refinery
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			} else = {
				582 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = steel_refinery
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			add_resource = {
				type = steel
				amount = 300
				state = 582
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			add_victory_points = {
				province = 10256
				value = 1
			}
			add_to_variable = { SOV_var_magnitogorsk_development = 1 }
			clamp_variable = {
				var = SOV_var_magnitogorsk_development
				max = 10
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
		
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_construct_chelyabinsk_factories
		prerequisite = { focus = SOV_heavy_enlargen_industrial_cities }
		icon = GFX_SOV_rework132
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		relative_position_id = SOV_heavy_enlargen_industrial_cities
		cost = 5
		completion_reward = {
			
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_efficiency_base_5_tt
			add_to_variable = { SOV_command_economy_production_factory_start_efficiency_factor_var = 0.05 }
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				572 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
				}
			} else = {
				572 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			add_victory_points = {
				province = 9292
				value = 1
			}
			add_to_variable = { SOV_var_chelyabinsk_development = 1 }
			clamp_variable = {
				var = SOV_var_chelyabinsk_development
				max = 7
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_model_cities
		prerequisite = { focus = SOV_heavy_steel_powerhouse }
		prerequisite = { focus = SOV_heavy_construct_chelyabinsk_factories }
		mutually_exclusive = { focus = SOV_heavy_siberian_colonization }
		icon = GFX_SOV_rework38
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
			custom_trigger_tooltip = {
				tooltip = SOV_need_magnitogorsk_4_tt
				check_variable = { SOV_var_magnitogorsk_development = 4 compare = greater_than_or_equals }
			}
			custom_trigger_tooltip = {
				tooltip = SOV_need_chelyabinsk_4_tt
				check_variable = { SOV_var_chelyabinsk_development = 4 compare = greater_than_or_equals }
			}
		}
		
		relative_position_id = SOV_heavy_steel_powerhouse
		cost = 6
		completion_reward = {	
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_weekly_stability_01_tt
			add_to_variable = { SOV_command_economy_stability_gain_factor_var = 0.001 }
			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				582 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			} else = {
				582 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			add_victory_points = {
				province = 10256
				value = 1
			}
			add_to_variable = { SOV_var_magnitogorsk_development = 1 }
			clamp_variable = {
				var = SOV_var_magnitogorsk_development
				max = 7
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				572 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			} else = {
				572 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			add_victory_points = {
				province = 9292
				value = 1
			}
			add_to_variable = { SOV_var_chelyabinsk_development = 1 }
			clamp_variable = {
				var = SOV_var_chelyabinsk_development
				max = 7
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_15_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 15 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_tankograd
		prerequisite = { focus = SOV_heavy_construct_chelyabinsk_factories }
		icon = GFX_SOV_rework136
		x = 0
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
			custom_trigger_tooltip = {
				tooltip = SOV_need_chelyabinsk_4_tt
				check_variable = { SOV_var_chelyabinsk_development = 4 compare = greater_than_or_equals }
			}
		}
		
		relative_position_id = SOV_heavy_construct_chelyabinsk_factories
		cost = 5
		completion_reward = {
			mio:SOV_tankograd_plant_organization = {
				add_mio_size = 2
				add_mio_funds_gain_factor = 0.15
			}
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = SOV_tankograd_plant_organization
			
						
			hidden_effect = {
				if = {
					limit = { country_exists = MON }
					MON = {	set_technology = { sov_zis30_tech = 1 } }
				}
				if = {
					limit = { country_exists = KSR }
					KSR = {	set_technology = { sov_zis30_tech = 1 } }
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			add_to_variable = { 
           	 	SOV_command_economy_production_factory_max_efficiency_factor_var = 0.02
            	tooltip = production_factory_max_efficiency_factor_tt
            }
			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				572 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			} else = {
				572 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			add_victory_points = {
				province = 9292
				value = 1
			}
			add_to_variable = { SOV_var_chelyabinsk_development = 1 }
			clamp_variable = {
				var = SOV_var_chelyabinsk_development
				max = 7
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_2_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 2 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_mining_combines
		prerequisite = { focus = SOV_heavy_model_cities focus = SOV_heavy_siberian_colonization }
		icon = GFX_SOV_rework228
		x = 0
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		available = {
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		relative_position_id = SOV_heavy_steel_powerhouse
		cost = 5
		completion_reward = {
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_heavy_mining_combines1_tt
			custom_effect_tooltip = SOV_heavy_mining_combines2_tt
			
			
			if = {
				limit = {
					has_completed_focus = SOV_heavy_siberian_colonization
				}
				562 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 100
					state = 562
				}
				560 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = steel
					amount = 100
					state = 560
				}
				657 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = steel
					amount = 100
					state = 657
				}
				568 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = aluminium
					amount = 150
					state = 568
				}
				570 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 150
					state = 570
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
				add_to_variable = { var_siberia_east_dev_map_counter = 10 }
				clamp_variable = {
					var = var_siberia_east_dev_map_counter
					max = 100
				}
				custom_effect_tooltip = SOV_generic_modify_siberia_east_tt
				custom_effect_tooltip = SOV_regional_development_10_tt

				add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
				add_to_variable = { var_siberia_west_dev_map_counter = 10 }
				clamp_variable = {
					var = var_siberia_west_dev_map_counter
					max = 100
				}
				custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
				custom_effect_tooltip = SOV_regional_development_10_tt

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
				add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
				clamp_variable = {
					var = var_SOV_second_5_year_plan_progress_bar_counter
					max = 100
				}
				add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }


			} else = {
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = SOV_more_decisions_generic_tt
				651 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = steel_refinery
						level = 1
						instant_build = yes
					}
				}
				249 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = steel_refinery
						level = 1
						instant_build = yes
					}
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = SOV_generic_modify_urals_tt
				custom_effect_tooltip = SOV_regional_development_10_tt
				add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
				add_to_variable = { var_urals_dev_map_counter = 10 }
				clamp_variable = {
					var = var_urals_dev_map_counter
					max = 100
				}

				custom_effect_tooltip = SOV_generic_modify_volga_tt
				custom_effect_tooltip = SOV_regional_development_10_tt
				add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
				add_to_variable = { var_volga_dev_map_counter = 10 }
				clamp_variable = {
					var = var_volga_dev_map_counter
					max = 100
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
				add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
				clamp_variable = {
					var = var_SOV_second_5_year_plan_progress_bar_counter
					max = 100
				}
				add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }

					set_country_flag = SOV_steel_refinery_specialisation_active
				}

			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	focus = {
		id = SOV_heavy_industrial_powerhouses
		prerequisite = { focus = SOV_heavy_tankograd focus = SOV_heavy_mining_combines }
		icon = GFX_SOV_rework226
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		
		relative_position_id = SOV_heavy_mining_combines
		cost = 8
		completion_reward = {
			custom_effect_tooltip = SOV_heavy_industrial_powerhouses_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_factory_output_5_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.05 }
			custom_effect_tooltip = generic_skip_one_line_tt
			
			# Magnitogorsk
			if = {
				limit = { check_variable = { SOV_var_magnitogorsk_development = 1 compare = equals }
				}
				582 = {
					add_extra_state_shared_building_slots = 1
					add_resource = {
						type = steel
						amount = 300
						state = 582
					}
				}
			}
			if = {
				limit = { check_variable = { SOV_var_magnitogorsk_development = 2 compare = equals }
				}
				582 = {
					add_extra_state_shared_building_slots = 2
					add_resource = {
						type = steel
						amount = 500
						state = 582
					}
				}
				add_victory_points = {
					province = 10256
					value = 1
				}
			}
			if = {
				limit = { check_variable = { SOV_var_magnitogorsk_development = 3 compare = equals }
				}
				582 = {
					add_extra_state_shared_building_slots = 2
					add_resource = {
						type = steel
						amount = 700
						state = 582
					}
				}
				add_victory_points = {
					province = 10256
					value = 1
				}
			}
			if = {
				limit = { check_variable = { SOV_var_magnitogorsk_development = 4 compare = equals }
				}
				582 = {
					add_extra_state_shared_building_slots = 3
					add_resource = {
						type = steel
						amount = 900
						state = 582
					}
				}
				add_victory_points = {
					province = 10256
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_magnitogorsk_development = 5 compare = equals }
				}
				582 = {
					add_extra_state_shared_building_slots = 3
					add_resource = {
						type = steel
						amount = 1100
						state = 582
					}
				}
				add_victory_points = {
					province = 10256
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_magnitogorsk_development = 6 compare = equals }
				}
				582 = {
					add_extra_state_shared_building_slots = 4
					add_resource = {
						type = steel
						amount = 1300
						state = 582
					}
				}
				add_victory_points = {
					province = 10256
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_magnitogorsk_development = 7 compare = equals }
				}
				582 = {
					add_extra_state_shared_building_slots = 5
					add_resource = {
						type = steel
						amount = 1500
						state = 582
					}
				}
				add_victory_points = {
					province = 10256
					value = 3
				}
			}
			
			# Chelyabinsk
			if = {
				limit = { check_variable = { SOV_var_chelyabinsk_development = 1 compare = equals }
				}
				if = {
					limit = {
						NOT = { has_country_flag = SOV_second_5_year_plan_completed }
					}
					572 = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				} else = {
					572 = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { check_variable = { SOV_var_chelyabinsk_development = 2 compare = equals } }
				
				if = {
					limit = {
						NOT = { has_country_flag = SOV_second_5_year_plan_completed }
					}
					572 = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				} else = {
					572 = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
				add_victory_points = {
					province = 9292
					value = 1
				}
			}

			if = {
				limit = { check_variable = { SOV_var_chelyabinsk_development = 3 compare = equals }
				}
				if = {
					limit = {
						NOT = { has_country_flag = SOV_second_5_year_plan_completed }
					}
					572 = {
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = industrial_complex
							level = 3
							instant_build = yes
						}
					}
				} else = {
					572 = {
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = arms_factory
							level = 3
							instant_build = yes
						}
					}
				}
				add_victory_points = {
					province = 9292
					value = 1
				}
			}
			if = {
				limit = { check_variable = { SOV_var_chelyabinsk_development = 4 compare = equals }
				}
					if = {
						limit = {
							NOT = { has_country_flag = SOV_second_5_year_plan_completed }
						}
						572 = {
							add_extra_state_shared_building_slots = 4
							add_building_construction = {
								type = industrial_complex
								level = 4
								instant_build = yes
							}
						}
					} else = {
						572 = {
							add_extra_state_shared_building_slots = 4
							add_building_construction = {
								type = arms_factory
								level = 4
								instant_build = yes
							}
						}
					}
				add_victory_points = {
					province = 9292
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_chelyabinsk_development = 5 compare = equals }
				}
				if = {
					limit = {
						NOT = { has_country_flag = SOV_second_5_year_plan_completed }
					}
					572 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = industrial_complex
							level = 5
							instant_build = yes
						}
					}
				} else = {
					572 = {
						add_extra_state_shared_building_slots = 5
						add_building_construction = {
							type = arms_factory
							level = 5
							instant_build = yes
						}
					}
				}
				add_victory_points = {
					province = 9292
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_chelyabinsk_development = 6 compare = equals }
				}
				if = {
					limit = {
						NOT = { has_country_flag = SOV_second_5_year_plan_completed }
					}
					572 = {
						add_extra_state_shared_building_slots = 6
						add_building_construction = {
							type = industrial_complex
							level = 6
							instant_build = yes
						}
					}
				} else = {
					572 = {
						add_extra_state_shared_building_slots = 6
						add_building_construction = {
							type = arms_factory
							level = 6
							instant_build = yes
						}
					}
				}
				add_victory_points = {
					province = 9292
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_chelyabinsk_development = 7 compare = equals } }
				if = {
					limit = {
						NOT = { has_country_flag = SOV_second_5_year_plan_completed }
					}
					572 = {
						add_extra_state_shared_building_slots = 7
						add_building_construction = {
							type = industrial_complex
							level = 7
							instant_build = yes
						}
					}
				} else = {
					572 = {
						add_extra_state_shared_building_slots = 7
						add_building_construction = {
							type = arms_factory
							level = 7
							instant_build = yes
						}
					}
				}
				add_victory_points = {
					province = 9292
					value = 3
				}
			}
			
			# Norilsk
			if = {
				limit = { check_variable = { SOV_var_norilsk_development = 1 compare = equals }
				}
				579 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 50
					state = 579
				}
				add_resource = {
					type = tungsten
					amount = 50
					state = 579
				}
			}
			if = {
				limit = { check_variable = { SOV_var_norilsk_development = 2 compare = equals }
				}
				579 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 100
					state = 579
				}
				add_resource = {
					type = tungsten
					amount = 100
					state = 579
				}
				add_victory_points = {
					province = 7689
					value = 1
				}
			}
			if = {
				limit = { check_variable = { SOV_var_norilsk_development = 3 compare = equals }
				}
				579 = {
					add_extra_state_shared_building_slots = 6
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 150
					state = 579
				}
				add_resource = {
					type = tungsten
					amount = 150
					state = 579
				}
				add_victory_points = {
					province = 7689
					value = 1
				}
			}
			if = {
				limit = { check_variable = { SOV_var_norilsk_development = 4 compare = equals }
				}
				579 = {
					add_extra_state_shared_building_slots = 8
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 200
					state = 579
				}
				add_resource = {
					type = tungsten
					amount = 200
					state = 579
				}
				add_victory_points = {
					province = 7689
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_norilsk_development = 5 compare = equals }
				}
				579 = {
					add_extra_state_shared_building_slots = 10
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 250
					state = 579
				}
				add_resource = {
					type = tungsten
					amount = 250
					state = 579
				}
				add_victory_points = {
					province = 7689
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_norilsk_development = 6 compare = equals }
				}
				579 = {
					add_extra_state_shared_building_slots = 12
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 300
					state = 579
				}
				add_resource = {
					type = tungsten
					amount = 300
					state = 579
				}
				add_victory_points = {
					province = 7689
					value = 2
				}
			}
			if = {
				limit = { check_variable = { SOV_var_norilsk_development = 7 compare = equals }
				}
				579 = {
					add_extra_state_shared_building_slots = 14
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
				add_resource = {
					type = chromium
					amount = 350
					state = 579
				}
				add_resource = {
					type = tungsten
					amount = 350
					state = 579
				}
				add_victory_points = {
					province = 7689
					value = 3
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 30 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_5_tt 
			
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 5 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}



	focus = {
		id = SOV_defence1
		prerequisite = { focus = SOV_eco_women_workers focus = SOV_eco_empower_tolkachi }
		icon = GFX_SOV_rework158
		x = 19
		y = 1

		search_filters = {  FOCUS_FILTER_WAR_SUPPORT }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_eco_women_workers
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_country_flag =  SOV_trotsky}
			}
		}

		offset = {
			x = 400
			y = 0
			trigger = {
				has_country_flag =  SOV_trotsky
			}
		}

		completion_reward = {
			add_war_support = 0.05
		}
	}


	focus = {
		id = Establish_VMF
		prerequisite = { focus = SOV_defence1 }
		icon = GFX_SOV_rework30
		x = 4
		y = 1
		relative_position_id = SOV_defence1
		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
			213 = { #LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			swap_ideas = {
				remove_idea = SOV_Fragmented_Red_Fleet_2
				add_idea = SOV_Fragmented_Red_Fleet_3
			}
			create_equipment_variant = {
				name = "K class"				
				type = ship_hull_submarine_2
				parent_version = 0
				modules = {
					fixed_ship_torpedo_slot = ship_torpedo_sub_2
					fixed_ship_engine_slot = sub_ship_engine_2
					rear_1_custom_slot = ship_torpedo_sub_2
				}
			}
			
			213 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 3134
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 3134
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
			214 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = 3338
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 312
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 3338
					}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 312
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
				swap_ideas = {
					remove_idea = SOV_Fragmented_Red_Fleet_1
					add_idea = SOV_Fragmented_Red_Fleet_2
				}

			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_northwest_dev_map_counter = 20 }
			clamp_variable = {
				var = var_northwest_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_northwest_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
		}
	}

	focus = {
		id = SOV_small_navy1

		icon = GFX_focus_SOV_reinforce_southern_naval_bases
		prerequisite = { focus = Establish_VMF }
		x = -2
		y = 1
		relative_position_id = Establish_VMF
		cost = 3

		available = {
			137 = { #LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		mutually_exclusive = { focus = SOV_big_fleet1 }
		completion_reward = {
			192 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11670
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 11670
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
			137 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 719
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 719
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
			}
			create_equipment_variant = {
				name = "Chapayev class"		
				type = ship_hull_cruiser_2
				parent_version = 0
				allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
				modules = {
					fixed_ship_battery_slot = ship_light_medium_battery_2
					fixed_ship_anti_air_slot = ship_anti_air_2
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_2
					fixed_ship_secondaries_slot = ship_secondaries_2
					fixed_ship_armor_slot = ship_armor_cruiser_1
					front_1_custom_slot = ship_torpedo_2
					mid_1_custom_slot = ship_light_battery_2
					mid_2_custom_slot = ship_torpedo_2
					rear_1_custom_slot = ship_light_battery_2
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
		}
		
	}

	focus = {
		id = SOV_navy_cruiser

		icon = GFX_focus_SOV_reinforce_western_naval_bases
		prerequisite = { focus = SOV_small_navy1  focus = SOV_big_fleet1 }
		x = 2
		y = 1
		relative_position_id = SOV_small_navy1
		cost = 2

		available = {
			195 = { #LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			195 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 3151
				}
				if = {
					limit = {
						ROOT = { is_special_project_completed = sp:sp_air_radar }
						radar_station < 1
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
				else = {
					custom_effect_tooltip = SOV_reinforce_western_naval_bases_radar_tt
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
			create_equipment_variant = {
					name = "Kirov Class"		
					type = ship_hull_cruiser_2
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_cruiser_1
						front_1_custom_slot = ship_anti_air_2
						mid_1_custom_slot = ship_torpedo_2
						mid_2_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_airplane_launcher_2
					}
				}

			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_leningrad_dev_map_counter = 20 }
			clamp_variable = {
				var = var_leningrad_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_leningrad_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
		}
	}

	focus = {
		id = SOV_small_navy2

		icon = GFX_focus_SOV_reinforce_eastern_naval_bases
		prerequisite = { focus = SOV_small_navy1 }
		x = 0
		y = 2
		relative_position_id = SOV_small_navy1
		cost = 3

		available = {
			408 = { #LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			408 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 9604
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 9604
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
			409 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 9604
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 9604
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
			if = {
				limit = { 
					has_dlc = "Man the Guns"
				}
				if = { 
					limit = {
						NOT = {
							has_tech = basic_ship_hull_carrier
							has_tech = improved_ship_hull_carrier
						}
					}
					create_equipment_variant = {
						name = "Project 71"				
						name_group = SOV_CV_HISTORICAL
						type = ship_hull_carrier_conversion_ca
						allow_without_tech = yes
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_secondaries_slot = empty
						}
						design_team = mio:GER_deutsche_werke_organization
					}
					add_equipment_production = { #You get a Converted Carrier
						equipment = {
							type = ship_hull_carrier_conversion_ca
							creator = "SOV"
							version_name = "Project 71"
						}
						name = "Project 71"
						requested_factories = 1
						progress = 0.3
						amount = 1
					}
					add_equipment_production = { #You get a Converted Carrier
						equipment = {
							type = ship_hull_carrier_conversion_ca
							creator = "SOV"
							version_name = "Project 71"
						}
						requested_factories = 1
						progress = 0.3
						amount = 1
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_west_dev_map_counter = 20 }
			clamp_variable = {
				var = var_siberia_west_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
		}
	}

	focus = {
		id = SOV_big_fleet1

		icon = GFX_focus_SOV_reinforce_southern_naval_bases
		prerequisite = { focus = Establish_VMF }
		x = 2
		y = 1
		relative_position_id = Establish_VMF
		cost = 3

		available = {
			137 = { #LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		mutually_exclusive = { focus = SOV_small_navy1 }
		completion_reward = {
			192 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 11670
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 11670
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			137 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 719
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 719
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
			}

			create_equipment_variant = {
			name = "Tashkent Class"				
			type = ship_hull_light_2
			name_group = SOV_DD_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_light_battery_2
				fixed_ship_anti_air_slot = ship_anti_air_2
				fixed_ship_fire_control_system_slot = ship_fire_control_system_1
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = light_ship_engine_2
				fixed_ship_torpedo_slot = ship_torpedo_2
				mid_1_custom_slot = ship_anti_air_2
				rear_1_custom_slot = ship_depth_charge_2
			}
		}
		add_equipment_production = {
					equipment = {
						type = ship_hull_light_2
						creator = "SOV"
						version_name = "Tashkent Class"
					}
					requested_factories = 1
					progress = 0.95
					amount = 1 #Tooltip purposes
				}

			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_ukraine_west_dev_map_counter = 20 }
			clamp_variable = {
				var = var_ukraine_west_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_ukraine_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
		}
	}

	focus = {
		id = SOV_big_fleet2

		icon = GFX_focus_SOV_reinforce_eastern_naval_bases
		prerequisite = { focus = SOV_big_fleet1 }
		x = 0
		y = 2
		relative_position_id = SOV_big_fleet1
		cost = 3

		available = {
			408 = { #LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
			has_tech = basic_ship_hull_heavy
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			408 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 9604
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 9604
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
			}
			409 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 9604
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 9604
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			add_tech_bonus = {
				name = SOV_offensive_maritime_strategy
				bonus = 1.0
				uses = 1
				category = bb_tech
			}

			#Kronshtadt Class Battlecruiser
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				add_tech_bonus = {
					name = SOV_offensive_maritime_strategy
					bonus = 2.0
					uses = 1
					category = bc_tech	
				}
			}
			else = {
				create_equipment_variant = {
					name = "Kronshtadt Class"		
					type = ship_hull_heavy_2
					name_group = SOV_BC_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_bc_1
						front_1_custom_slot = ship_heavy_battery_2
						mid_1_custom_slot = ship_secondaries_2
						mid_2_custom_slot = ship_anti_air_2
						mid_3_custom_slot = ship_airplane_launcher_2
						rear_1_custom_slot = ship_heavy_battery_2
					}
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "SOV"
						version_name = "Kronshtadt Class"
					}
					requested_factories = 1
					progress = 0.50
					amount = 1 #Tooltip purposes
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "SOV"
						version_name = "Kronshtadt Class"
					}
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_east_dev_map_counter = 20 }
			clamp_variable = {
				var = var_siberia_east_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_east_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			
		}
	}
	

	focus = {
		id = SOV_merge_naval_plants

		icon = GFX_SOV_rework256
		prerequisite = { focus = SOV_navy_cruiser }
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY  FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_navy_cruiser
		cost = 3

		available = {
			218 = { #LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
		}

		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			remove_ideas = SOV_Fragmented_Red_Fleet_3

			218 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 9417
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 9417
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}

			234 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 719
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 719
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				if = {
					limit = {
						has_dlc = "Man the Guns"
					}
					mio:SOV_nevskoye_design_bureau_organization = {
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_370
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_5
					}

					mio:SOV_rubin_design_bureau_organization = {
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_370
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_363
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_190
					}

					mio:SOV_black_sea_shipyard_organization = {
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_mariupol_plant
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_leninskaya_kuznitsa_plant
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_340
					}

					mio:SOV_sevastopol_marine_plant_organization = {
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_mariupol_plant
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_200
					}
				}
				else = {
					mio:SOV_nevskoye_design_bureau_organization = {
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_370_no_mtg
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_5
					}

					mio:SOV_rubin_design_bureau_organization = {
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_370_no_mtg
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_363
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_190
					}

					mio:SOV_black_sea_shipyard_organization = {
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_mariupol_plant_no_mtg
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_leninskaya_kuznitsa_plant
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_340
					}

					mio:SOV_sevastopol_marine_plant_organization = {
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_mariupol_plant_no_mtg
						unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_200
					}
				}
				
			}
			else = {
				custom_effect_tooltip = SOV_merge_naval_plants_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_ukraine_east_dev_map_counter = 20 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
		}
	}

	focus = {
		id = SOV_naval_infantry

		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = SOV_big_fleet2 focus = SOV_small_navy2 }
		x = 2
		y = 1
		relative_position_id = SOV_small_navy2
		cost = 7

		available = {
		}
		
		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_special_forces_attack_factor_5_tt
			add_to_variable = { SOV_red_army_special_forces_attack_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_special_forces_defence_factor_5_tt
			add_to_variable = { SOV_red_army_special_forces_defence_factor_var = 0.05 }
			
			custom_effect_tooltip = SOV_red_army_special_forces_no_supply_grace_48_tt
			add_to_variable = { SOV_red_army_special_forces_no_supply_grace_var = 48 }
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_potential_special_forces_tree = yes
				add_doctrine_cost_reduction = {
					name = SOV_naval_infantry
					cost_reduction = 0.25
					uses = 2
					category = special_forces_doctrine
				}
			}
			else = {
				set_variable = { SOV_red_fleet_naval_invasion_capacity = 10 }
				set_variable = { SOV_red_fleet_invasion_preparation = -0.1 }
				set_variable = { SOV_red_fleet_special_forces_cap = 0.1 }
				custom_effect_tooltip = SOV_naval_infantry_ns_tt
				
				add_tech_bonus = {
					name = SOV_naval_infantry
					bonus = 1
					uses = 1
					category = marine_tech
				}
			}
				division_template = {
					name = "Morskaia Pekhota"
					is_locked = yes
					regiments = {
						marine = { x = 0 y = 0 }
						marine = { x = 0 y = 1 }
						marine = { x = 0 y = 2 }
						marine = { x = 0 y = 3 }

						marine = { x = 1 y = 0 }
						marine = { x = 1 y = 1 }
						marine = { x = 1 y = 2 }
						marine = { x = 1 y = 3 }

						marine = { x = 2 y = 0 }
						marine = { x = 2 y = 1 }
						marine = { x = 2 y = 2 }

						artillery_brigade = { x = 3 y = 0}
						artillery_brigade = { x = 3 y = 1}
						artillery_brigade = { x = 3 y = 2}
						artillery_brigade = { x = 3 y = 3}
						
						artillery_brigade = { x = 4 y = 0}
						artillery_brigade = { x = 4 y = 1}
						artillery_brigade = { x = 4 y = 2}
						anti_tank_brigade = { x = 4 y = 3}

					}
					support = {
						hq_company = { x = 0 y = 0 } 
						engineer = { x = 0 y = 1 }   
						recon = { x = 0 y = 2 }
						signal_company = { x = 0 y = 3 }
						anti_air = { x = 1 y = 0 }
						logistics_company_horse = { x = 1 y = 1 }
						field_hospital  = { x = 1 y = 2 }
						military_police = { x = 1 y = 3 }
					}
				}
				137 = {
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
				}
			if = {
				limit = {
					has_full_control_of_state = 137 #CRIMEA
				}
				137 = { #CRIMEA
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3686
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 3686
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_armored_battery_35 scope = SOV }
					add_dynamic_modifier = { modifier = SOV_defend_city }
				}
			}
		}
	}


	focus = {
		id = SOV_mil1
		prerequisite = { focus = SOV_defence1 }
		icon = GFX_SOV_rework51
		x = 0
		y = 7

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_ARMY_XP  FOCUS_FILTER_RESEARCH }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_defence1
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_country_flag =  SOV_trotsky}
			}
		}

		offset = {
			x = 400
			y = 0
			trigger = {
				has_country_flag =  SOV_trotsky
			}
		}

		completion_reward = {
			IF = {
                LIMIT = {NOT = {has_country_flag = SOV_big_purge_decision4_flag}}
            add_power_balance_value = {
                id = SOV_purge_bop
                value = 0.05
                }
            }
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_more_decisions_generic_tt
			custom_effect_tooltip = generic_skip_one_line_tt

			army_experience = 25
		}
	}

	focus = {
		id = SOV_mil2
		prerequisite = { focus = SOV_mil1 }
		icon = GFX_SOV_rework25
		x = 0
		y = 1

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_mil1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		available = {
			NOT = {has_completed_focus = SOV_army_top1}
			NOT = {has_completed_focus = SOV_army_budy}
		}
		

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_country_flag =  SOV_trotsky}
			}
		}

		offset = {
			x = 400
			y = 0
			trigger = {
				has_country_flag =  SOV_trotsky
			}
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_modifier_army_sub_unit_cavalry_speed_factor_-10_tt
			add_to_variable = { SOV_red_army_modifier_army_sub_unit_cav_speed_factor_var = -0.1 }

			custom_effect_tooltip = SOV_red_army_cavalry_attack_factor_-15_tt
			add_to_variable = { SOV_red_army_cavalry_attack_factor_var = -0.15 }

			custom_effect_tooltip = SOV_red_army_cavalry_defence_factor_-15_tt
			add_to_variable = { SOV_red_army_cavalry_defence_factor_var = -0.15 }
			
			custom_effect_tooltip = SOV_red_army_armor_attack_factor_025_tt
			add_to_variable = { SOV_red_army_armor_attack_factor_var = 0.025 }
			custom_effect_tooltip = SOV_red_army_armor_defence_025_tt
			add_to_variable = { SOV_red_army_armor_defence_var = 0.025 }
		}
	}

	focus = {
		id = SOV_mil3
		prerequisite = { focus = SOV_mil1 }
		icon = GFX_SOV_rework90
		x = -12
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}
		relative_position_id = SOV_mil1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_arty_temp
				days = 180
			}
		}
	}

	focus = {
		id = SOV_mil4
		prerequisite = { focus = SOV_mil3}
		mutually_exclusive = {focus  = SOV_mil5}
		icon = GFX_goal_kulikfocus
		x = -1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil3
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_grabin_design_bureau_organization = {
					add_mio_funds = 1500
				}
			add_ideas = SOV_kulik_arty1
			add_tech_bonus = {
				name = art_bonus
				uses = 3
				bonus = 0.5
				category = artillery
			}
			add_tech_bonus = {
				name = sov_arty_radio_bonus
				bonus = 0.8
				uses = 1
				technology = art_radio1
			}
		}
	}

	focus = {
		id = SOV_mil5
		prerequisite = { focus = SOV_mil3}
		mutually_exclusive = {focus  = SOV_mil4}
		icon = GFX_SOV_stalins_hammer
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_STABILITY  FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil3
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_ideas =  SOV_katy1
			add_tech_bonus = {
				name = art_bonus
				uses = 1
				bonus = 0.5
				category = artillery
		}
		}
	}

	focus = {
		id = SOV_mil6
		prerequisite = { focus = SOV_mil4 focus = SOV_mil5}
		icon = GFX_SOV_rework27
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		relative_position_id = SOV_mil4
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_grabin_design_bureau_organization = {
					add_mio_funds = 1000
				}
			add_tech_bonus = {
				name = art_bonus
				bonus = 0.5
				uses = 1
				category = cat_anti_tank
			}
			add_tech_bonus = {
				name = art_bonus
				bonus = 0.5
				uses = 2
				category = cat_anti_air
			}
		}
	}

	focus = {
		id = SOV_mil8
		prerequisite = { focus = SOV_mil5}
		icon = GFX_SOV_rework204
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil5
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
					name = GER_infantry2
					bonus = 0.8
					uses = 1
					technology = art_radio1
				}

			swap_ideas = {
					remove_idea = SOV_katy1
					add_idea = SOV_katy2
				}
		}
	}

	focus = {
		id = SOV_mil9
		prerequisite = { focus = SOV_mil5}
		icon = GFX_SOV_rework209
		x = 3
		y = 1

		search_filters = {FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil5
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = rocket_bonus_sov
				bonus = 0.5
				uses = 2
				category = rocketry	
			}
			add_tech_bonus = {
				name = katy_bonus_sov
				bonus = 0.5
				ahead_reduction = 0.2
				uses = 1
				technology = motorized_rocket_unit	
			}
		}
	}

	focus = {
		id = SOV_mil11
		prerequisite = { focus = SOV_mil8 focus = SOV_mil9 }
		icon = GFX_SOV_rework82
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil8
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		available = {
        	has_tech = motorized_rocket_unit
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_GAZ_organization = {
					add_mio_funds = 1500
				}

			swap_ideas = {
				remove_idea = SOV_katy2
				add_idea = SOV_katy3
				}
		}
	}

	focus = {
		id = SOV_mil12
		mutually_exclusive = {focus = SOV_mil13}
		prerequisite = { focus = SOV_mil6}
		icon = GFX_SOV_rework197
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil6
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
					name = katy_bonus_sov
					bonus = 0.5
					uses = 2
					technology = dp_artillery
					technology = dp_artillery_2
					
					}
		}
	}

	focus = {
		id = SOV_mil13
		mutually_exclusive = {focus = SOV_mil12}
		prerequisite = { focus = SOV_mil6}
		icon = GFX_SOV_rework205
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil6
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
					name = katy_bonus_sov
					bonus = 0.5
					ahead_reduction = 0.2
					uses = 1
					technology = heavy_antitank
					technology = heavy_antiair2
					}
		}
	}

	focus = {
		id = SOV_mil14
		prerequisite = { focus = SOV_mil12}
		prerequisite = { focus = SOV_mil11}
		icon = GFX_SOV_rework215
		x = 1
		y = 1
		relative_position_id = SOV_mil12
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		available = {
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			division_template = {
					name = "Gvardeyskiy minomyotnyy polk"
					is_locked = yes
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }
						motorized = { x = 0 y = 3 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }

						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized = { x = 2 y = 2 }

						motorized_rocket_brigade = { x = 3 y = 0}
						motorized_rocket_brigade = { x = 3 y = 1}
						motorized_rocket_brigade = { x = 3 y = 2}
						motorized_rocket_brigade = { x = 3 y = 3}
						
						motorized_rocket_brigade = { x = 4 y = 0}
						motorized_rocket_brigade  = { x = 4 y = 1}
						motorized_rocket_brigade  = { x = 4 y = 2}
						motorized_rocket_brigade  = { x = 4 y = 3}

					}
					support = {
						hq_company = { x = 0 y = 0 } 
						engineer = { x = 0 y = 1 }   
						mot_recon = { x = 0 y = 2 }
						signal_company = { x = 0 y = 3 }
						mot_anti_air_brigade = { x = 1 y = 0 }
						logistics_company_mot = { x = 1 y = 1 }
						field_hospital  = { x = 1 y = 2 }
						military_police = { x = 1 y = 3 }
					}
				}
				219 = {
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Morskaia Pekhota\" start_experience_factor = 1"
						owner = SOV
					}
		}
	}
	}

	focus = {
		id = SOV_mil15
		prerequisite = { focus = SOV_mil4}
		icon = GFX_SOV_rework207
		x = -3
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil4
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_kulik_arty1
				add_idea = SOV_kulik_arty2
				}
		}
	}

	focus = {
		id = SOV_mil16
		prerequisite = { focus = SOV_mil4}
		icon = GFX_SOV_rework198
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil4
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = art_bonus
				bonus = 0.5
				uses = 2
				category = heavy_artillery
			}
		}
	}

	focus = {
		id = SOV_mil17
		prerequisite = { focus = SOV_mil15}
		prerequisite = { focus = SOV_mil16}
		icon = GFX_SOV_rework217
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil15
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_kulik_arty2
				add_idea = SOV_kulik_arty3
				}
		}
	}

	focus = {
		id = SOV_mil18
		prerequisite = { focus = SOV_mil17}
		prerequisite = { focus = SOV_mil13}
		icon = GFX_SOV_rework192
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil17
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		offset = {
			x = 400
			y = 0
			trigger = {
				has_country_flag =  SOV_trotsky
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = GER_infantry2
				bonus = 0.8
				uses = 1
				technology = art_radio2
			}
			137 = {
				remove_building = {
					type = coastal_bunker
					level = 6
					province = 3686
				}
			}
			231 = {
				remove_building = {
					type = coastal_bunker
					level = 1
					province = 3686
				}
			}
			234 = {
				remove_building = {
					type = coastal_bunker
					level = 1
					province = 719
				}
			}
			192 = {
				remove_building = {
					type = coastal_bunker
					level = 1
					province = 11670
				}
			}
			137 = {
				remove_building = {
					type = coastal_bunker
					level = 2
					province = 9680
				}
			}
			195 = {
				remove_building = {
					type = coastal_bunker
					level = 5
					province = 3151
				}
			}
			SOV = {
				add_equipment_to_stockpile = {
					type = heavy_artillery_equipment
					amount = 500
					producer = SOV
				}
			}
		}
	}

	focus = {
		id = SOV_mil19
		prerequisite = { focus = SOV_mil1}
		icon = GFX_SOV_rework116
		x = 10
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil1
		cost = 2SOV_small_navy2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
		}

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_inf_temp
				days = 180
			}
		}
	}

	focus = {
		id = SOV_mil20
		prerequisite = { focus = SOV_mil19}
		icon = GFX_SOV_rework171
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil19
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_tula_arms_plant_organization = {
					add_mio_funds = 1500
				}
			add_tech_bonus = {
					name = doc_bonus
					bonus = 0.5
					uses = 2
					category = infantry_weapons
				}
				
		}
	}

	focus = {
		id = SOV_mil21
		prerequisite = { focus = SOV_mil19}
		icon = GFX_SOV_rework172
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil19
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
					name = doc_bonus
					bonus = 0.5
					uses = 2
					category = support_tech
				}
				add_tech_bonus = {
				name = GER_infantry2
				bonus = 0.8
				uses = 1
				technology = inf_radio1
			}
		}
	}

focus = {
		id = SOV_mil22
		prerequisite = { focus = SOV_mil19}
		icon = GFX_SOV_rework175
		x = 0
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil19
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_ideas = SOV_inf1
		}
	}

	focus = {
		id = SOV_mil23
		prerequisite = { focus = SOV_mil21}
		prerequisite = { focus = SOV_mil22}
		mutually_exclusive = {focus = SOV_mil24}
		icon = GFX_SOV_rework238
		x = -1
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil21
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_inf1
				add_idea = SOV_inf22
			}
		}
	}

	focus = {
		id = SOV_mil24
		prerequisite = { focus = SOV_mil20}
		prerequisite = { focus = SOV_mil22}
		mutually_exclusive = {focus = SOV_mil23}
		icon = GFX_SOV_rework73
		x = 1
		y = 2
		relative_position_id = SOV_mil20
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_special_forces_cap_5_tt
			add_to_variable = { SOV_red_army_special_forces_cap_var = 0.05 }
		}
	}

	focus = {
		id = SOV_mil25
		prerequisite = { focus = SOV_mil23 focus = SOV_mil24}
		icon = GFX_SOV_rework275
		x = 2
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil23
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_tula_arms_plant_organization = {
					add_mio_funds = 1500
				}
			IF = {
			LIMIT = { has_idea = SOV_inf21}
			swap_ideas = {
				remove_idea = SOV_inf21
				add_idea = SOV_inf31
			}
			}
			ELSE = {swap_ideas = {
				remove_idea = SOV_inf22
				add_idea = SOV_inf32
			}}
		}
	}


	focus = {
		id = SOV_mil26
		prerequisite = { focus = SOV_mil2 }
		mutually_exclusive = {focus = SOV_mil27 focus = SOV_mil28}
		icon = GFX_SOV_rework41
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil2
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_okmo_organization = {
				add_mio_funds_gain_factor = 0.075
			}
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = SOV_okmo_organization
		}
	}

	focus = {
		id = SOV_mil27
		prerequisite = { focus = SOV_mil2 }
		mutually_exclusive = {focus = SOV_mil26 focus = SOV_mil28}
		icon = GFX_SOV_rework161
		x = -5
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil2
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_kirov_organization = {
				add_mio_funds_gain_factor = 0.075
			}
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = SOV_kirov_organization
		}
	}

	focus = {
		id = SOV_mil28
		prerequisite = { focus = SOV_mil2 }
		mutually_exclusive = {focus = SOV_mil26 focus = SOV_mil27}
		icon = GFX_SOV_rework40
		x = 5
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil2
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_morozov_design_bureau_organization = {
				add_mio_funds_gain_factor = 0.075
			}
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = SOV_morozov_design_bureau_organization
		}
	}


	focus = {
		id = SOV_mil29
		prerequisite = { focus = SOV_mil26 }
		icon = GFX_SOV_rework165
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil26
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
					name = fighter_bonus
					bonus = 0.4
					uses = 2
					category = cat_medium_armor
				}
		}
	}

	focus = {
		id = SOV_mil30
		prerequisite = { focus = SOV_mil29}
		prerequisite = { focus = SOV_mil35}
		icon = GFX_SOV_rework92
		x = -1
		y = 2

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil29
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			swap_ideas = {
			remove_idea = SOV_heavy_perm
			add_idea = SOV_medium_perm
			}
		}
	}

	focus = {
		id = SOV_mil31
		prerequisite = { focus = SOV_mil29 }
		icon = GFX_SOV_rework96
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP }

		relative_position_id = SOV_mil29
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		available = {
			mio:SOV_astrov_design_bureau_organization = { has_mio_size > 4  }    
			 }


		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			army_experience = 25
			398 = {
				add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
				}
		}
	}

	focus = {
		id = SOV_mil32
		prerequisite = { focus = SOV_mil29 }
		icon = GFX_SOV_rework224
		x = 1
		y = 2

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil29
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes
		
		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = GER_mech
				bonus = 0.4
				uses = 2
				technology = mot_radio1
				technology = mot_radio2
				technology = mot_radio3
			}
		}
	}

	focus = {
		id = SOV_mil33
		prerequisite = { focus = SOV_mil28}
		icon = GFX_SOV_rework242
		x = -1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil28
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
					name = fighter_bonus
					bonus = 0.75
					uses = 2
					category = cat_light_armor
				}
		}
	}

	focus = {
		id = SOV_mil34
		prerequisite = { focus = SOV_mil26 focus = SOV_mil27}
		icon = GFX_SOV_rework104
		x = -3
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil26
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
					name = fighter_bonus
					bonus = 0.5
					uses = 2
					category = cat_mechanized_equipment
				}
			mio:SOV_GAZ_organization = {
					add_mio_funds = 750
				}
		}
	}

	focus = {
		id = SOV_mil35
		prerequisite = { focus = SOV_mil34}
		icon = GFX_SOV_rework235
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}
		
		relative_position_id = SOV_mil34
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_ideas = SOV_heavy_perm
		}
	}
	
	focus = {
		id = SOV_mil36
		prerequisite = { focus = SOV_mil28}
		icon = GFX_SOV_rework229
		x = 1
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil28
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = GER_mech
				bonus = 1
				uses = 2
				technology = armored_car1
				technology = armored_car2
				technology = armored_car3
			}
		}
	}
	focus = {
		id = SOV_mil37
		prerequisite = { focus = SOV_mil33}
		icon = GFX_SOV_rework84
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil33
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 0.75
				ahead_reduction = 0.4
				uses = 1
				technology = antiair_research2
			}
			set_technology = {
				nkvd_tech_3 = 1
			}
		}
	}
	
	focus = {
		id = SOV_mil39
		prerequisite = { focus = SOV_mil36}
		icon = GFX_SOV_rework234
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP }

		relative_position_id = SOV_mil36
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available = {
			has_army_experience > 25
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			army_experience = -25
			mio:SOV_morozov_design_bureau_ac_organization = {
				add_mio_funds_gain_factor = 0.25
				add_mio_funds = 1000
			}
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = SOV_morozov_design_bureau_ac_organization
		}
	}


	focus = {
		id = SOV_mil40
		prerequisite = { focus = SOV_mil37 focus = SOV_mil39}
		icon = GFX_SOV_rework263
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}
		
		relative_position_id = SOV_mil37
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_ideas = SOV_light_perm 
		}
	}

	focus = {
		id = SOV_mil41
		prerequisite = { focus = SOV_mil27}
		icon = GFX_SOV_rework72
		x = -1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY  FOCUS_FILTER_RESEARCH  }

		relative_position_id = SOV_mil27
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_tank_neg_temp
				days = 180
			}
			add_tech_bonus = {
					name = katy_bonus_sov
					bonus = 0.5
					uses = 1
					technology = heavy_antitank
					}
		}
	}

	focus = {
		id = SOV_mil42
		prerequisite = { focus = SOV_mil27}
		prerequisite = { focus = SOV_mil41}
		icon = GFX_SOV_rework240
		x = 0
		y = 2

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_mil27
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
					name = fighter_bonus
					bonus = 0.5
					uses = 2
					category = cat_heavy_armor
				}
		}
	}

	focus = {
		id = SOV_mil43
		prerequisite = { focus = SOV_mil42}
		prerequisite = { focus = SOV_mil35}
		icon = GFX_SOV_rework91
		x = 1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil42
		cost = 5
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			swap_ideas = {
			remove_idea = SOV_heavy_perm
			add_idea = SOV_heavy_perm2
			}
		}
	}

	focus = {
		id = SOV_mil44
		prerequisite = { focus = SOV_mil42 focus = SOV_mil41}
		icon = GFX_SOV_rework163
		x = -1
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_mil42
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_timed_idea = {
				days = 220
				idea = SOV_light_temp
			}
			mio:SOV_morozov_design_bureau_organization = {
					add_mio_funds_gain_factor = -0.35
				}
		}
	}
	
	focus = {
		id = SOV_air1
		prerequisite = { focus = SOV_defence1}
		icon = GFX_SOV_rework160
		x = -6
		y = 1
		relative_position_id = SOV_defence1
		cost = 1
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_AIR_XP }

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			air_experience = 25
		}
	}

	focus = {
		id = SOV_yak1
		mutually_exclusive = {focus = SOV_il1}
		mutually_exclusive = {focus = SOV_pe1}
		prerequisite = { focus = SOV_air1}
		icon = GFX_SOV_rework184
		x = -4
		y = 1
		relative_position_id = SOV_air1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
            add_doctrine_cost_reduction = {
				name = GER_uralbomber_program
				cost_reduction = 0.25
				uses = 3
				category = strategic_destruction_tree
			}
        }
	}
	focus = {
		id = SOV_yak2
		prerequisite = { focus = SOV_yak1}
		icon = GFX_SOV_red_army_airforce
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_yak1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_attack_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_attack_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_defence_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_defence_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_agility_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_agility_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_superiority_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_superiority_efficiency_var = 0.05 }


			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_disorganized_airforce
				add_idea = SOV_yak_industry
			}
		}
	}
	
	focus = {
		id = SOV_yak3
		prerequisite = { focus = SOV_yak2}
		icon = GFX_SOV_lagg
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_yak2
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_light_fighter_bonus
				bonus = 0.75
				uses = 1
				category = light_fighter
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_agility_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_agility_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_attack_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_attack_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_superiority_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_superiority_efficiency_var = 0.05 }

			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_yak_industry
				add_idea = SOV_yak_industry1
			}
		}
	}

	focus = {
		id = SOV_il1
		mutually_exclusive = {focus = SOV_yak1}
		mutually_exclusive = {focus = SOV_pe1}
		prerequisite = { focus = SOV_air1}
		icon = GFX_SOV_rework23
		x = 0
		y = 1

		search_filters = { FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_air1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SOV_dive_bomber_bonus
				cost_reduction = 0.25
				uses = 3
				category = battlefield_support_tree
			}
			add_tech_bonus = {
				name = SOV_cas_bonus
				bonus = 0.25
				uses = 1
				category = cas_bomber
			}
        }
	}

	focus = {
		id = SOV_il2
		prerequisite = { focus = SOV_il1}
		icon = GFX_SOV_rework24
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_il1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_defence_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_defence_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_cas_efficiency_var_15_tt
			add_to_variable = { SOV_red_air_force_air_cas_efficiency_var = 0.15 }

			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_disorganized_airforce
				add_idea = SOV_il_industry
			}
		}
	}

	focus = {
		id = SOV_il3
		prerequisite = { focus = SOV_il2}
		icon = GFX_SOV_rework39
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_il2
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = cas_bonus_big
				bonus = 0.5
				uses = 1
				category = cas_bomber
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_range_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_range_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_bombing_targetting_var_10_tt
			add_to_variable = { SOV_red_air_force_air_bombing_targetting_var = 0.1 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_il_industry
				add_idea = SOV_il_industry1
			}
		}
	}

	focus = {
		id = SOV_il4
		prerequisite = { focus = SOV_il3}
		icon = GFX_SOV_rework146
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_il3
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = cas_bonus_big
				bonus = 0.3
				ahead_reduction = 0.3
				uses = 1
				category = cas_bomber
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_defence_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_defence_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_cas_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_cas_efficiency_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_bombing_targetting_var_10_tt
			add_to_variable = { SOV_red_air_force_air_bombing_targetting_var = 0.1 }

			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_il_industry1
				add_idea = SOV_il_industry2
			}
		}
	}

	focus = {
		id = SOV_share1
		prerequisite = { focus = SOV_il1  focus = SOV_pe1 }
		icon = GFX_goal_generic_air_bomber
		x = 2
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_il1
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_long_range_aircraft
				bonus = 1
				uses = 2
				category = tactical_bomber
				category = cat_strategic_bomber
			}
			mio:SOV_ilyushin_design_bureau_organization = {
					add_mio_funds_gain_factor = 0.05
					add_mio_funds = 1500
				}
		}
	}

	focus = {
		id = SOV_share2
		prerequisite = { focus = SOV_yak1 focus = SOV_il1}
		icon = GFX_SOV_fighter_designer	
		x = 2
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY}

		relative_position_id = SOV_yak1
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_mig_design_bureau_organization = {
					add_mio_funds_gain_factor = 0.05
					add_mio_funds = 1000
				}
		}
	}

	focus = {
		id = SOV_share5
		prerequisite = { focus = SOV_share2 }
		icon = GFX_SOV_rework152
		x = 0
		y = 1
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }

		relative_position_id = SOV_share2 
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			custom_effect_tooltip = SOV_more_decisions_generic_tt
			air_experience = 75
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_modernize_aircraft_facilities_tt
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.75
			}
			hidden_effect = {
				IF = {
					limit = { 
						260 = {
							is_fully_controlled_by = ROOT
							air_facility < 1
							land_facility < 1
							naval_facility < 1
							nuclear_facility < 1
						}
					}

					260 = {
						add_building_construction = {
							type = air_facility
							level = 1
							instant_build = yes
							province = 9448 # East of Voronezh
						}
					}
				}
			}
		}
	}

	focus = {
		id = SOV_share6
		prerequisite = { focus = SOV_share1 }
		icon = GFX_focus_SOV_women_in_aviation
		x = 0
		y = 1

		search_filters = {  FOCUS_FILTER_AIR_XP }

		relative_position_id = SOV_share1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			custom_effect_tooltip = SOV_night_witches_nsb_tt
			hidden_effect = {
				if = { #ALT IDEOLOGY
					limit = {
						NOT = { has_government = communism }
					}
					load_oob = "SOV_night_witches_nsb_alt"
				}
				else = { #DEFAULT COMMUNISM
					load_oob = "SOV_night_witches_nsb"
				}
			}
			air_experience = 75
			set_rule = {
				can_generate_female_aces = yes
			}
		}
	}

	focus = {
		id = SOV_yak4
		prerequisite = { focus = SOV_yak3 }
		icon = GFX_SOV_new_plane_model
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_share5
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 0.5
				ahead_reduction = 0.2
				uses = 1
				category = light_fighter
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_agility_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_agility_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_attack_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_attack_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_defence_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_defence_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_cas_efficiency_var_-5_tt
			add_to_variable = { SOV_red_air_force_air_cas_efficiency_var = -0.05 }

			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_yak_industry1
				add_idea = SOV_yak_industry2
			}
		}
	}

	focus = {
		id = SOV_pe4
		prerequisite = { focus = SOV_pe3 }
		icon = GFX_SOV_rework89
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY  FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_share6
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 0.5
				ahead_reduction = 0.25
				uses = 1
				category = cat_heavy_fighter
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			
			custom_effect_tooltip = SOV_red_air_force_air_defence_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_defence_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_range_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_range_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_cas_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_cas_efficiency_var = 0.05 }

			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_pe_industry1
				add_idea = SOV_pe_industry2
			}
		}
	}

	focus = {
		id = SOV_share10
		prerequisite = { focus = SOV_pe4 focus = SOV_il4 focus = SOV_yak4 }
		icon = GFX_SOV_rework159
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_il4
		cost = 6
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				every_military_industrial_organization = {
					limit = {
						has_mio_trait = SOV_mio_trait_merge_plant_no_28 #All Aircraft MIOs have this trait
					}
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_28
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_150
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_vef_plant
				}
			}
			else = {
				custom_effect_tooltip = SOV_merge_aircraft_plants_tt
			}
		}
	}

	focus = {
		id = SOV_pe1
		mutually_exclusive = {focus = SOV_yak1}
		mutually_exclusive = {focus = SOV_il1}
		prerequisite = { focus = SOV_air1}
		icon = GFX_SOV_rework139
		x = 4
		y = 1
		relative_position_id = SOV_air1
		cost = 2
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = GER_tactical_bombers
				cost_reduction = 0.25
				uses = 3
				category = operational_integrity_tree
			}
        }
	}

	focus = {
		id = SOV_pe2
		prerequisite = { focus = SOV_pe1}
		icon = GFX_SOV_strat_bomber_doctrine
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY  FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_pe1
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_heavy_fighter_bonus
				bonus = 0.75
				uses = 1
				category = cat_heavy_fighter
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_attack_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_attack_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_defence_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_defence_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_range_factor_var_10_tt
			add_to_variable = { SOV_red_air_force_air_range_factor_var = 0.1 }
			custom_effect_tooltip = SOV_red_air_force_air_superiority_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_superiority_efficiency_var = 0.05 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_disorganized_airforce
				add_idea = SOV_pe_industry
			}
		}
	}

	focus = {
		id = SOV_pe3
		prerequisite = { focus = SOV_pe2}
		icon = GFX_SOV_long_range_escorts
		x = 0
		y = 1

		search_filters = {FOCUS_FILTER_INDUSTRY  FOCUS_FILTER_RESEARCH }

		relative_position_id = SOV_pe2
		cost = 3
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		allow_branch = {
			NOT = { has_country_flag = SOV_great_patriotic_war_start }
		}

		completion_reward = {
			mio:SOV_tupolev_design_bureau_organization = {
				add_mio_funds_gain_factor = 0.15
				add_mio_funds = 1000
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_agility_factor_var_-5_tt
			add_to_variable = { SOV_red_air_force_air_agility_factor_var = -0.05 }
			custom_effect_tooltip = SOV_red_air_force_air_defence_factor_var_10_tt
			add_to_variable = { SOV_red_air_force_air_defence_factor_var = 0.1 }
			custom_effect_tooltip = SOV_red_air_force_air_superiority_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_superiority_efficiency_var = 0.05 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = SOV_pe_industry
				add_idea = SOV_pe_industry1
			}
		}
	}
	
	focus = {
		id = SOV_war_mobilisation
		icon = GFX_SOV_rework124
		x = -45
		y = 15
		cost = 1

		offset = {
			x = 60
			y = 0
			trigger = {
				has_country_flag = SOV_great_patriotic_war_start
			}
		}
		
		available = {
			any_country = {
 				is_major = yes
 				has_war_with = ROOT
 			}
		}

		allow_branch = {
			always = yes
			#has_country_flag = SOV_great_patriotic_war_start
		}

		completion_reward = {
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_weekly_stability_02_tt
			add_to_variable = { SOV_command_economy_stability_gain_factor_var = 0.002 }
			custom_effect_tooltip = SOV_expected_consumer_goods_-5_tt
			add_to_variable = { SOV_command_economy_consumer_goods_expected_value_var = -0.05 }
			custom_effect_tooltip = SOV_construction_speed_mil_20_tt
			add_to_variable = { SOV_command_economy_production_speed_arms_factory_factor_var = 0.2 }

			hidden_effect = {
				SOV_check_equipment_stockpile = yes
				USA = {
					country_event = {  id = soviet.3100 }
				}
				ENG = {
					country_event = {  id = soviet.3100 }
				}
			}

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_treacherous_enemy
			unlock_decision_tooltip = SOV_propaganda_do_not_blab
			custom_effect_tooltip = propaganda_campaign_requirement_tt
			set_technology = {
				militia_tech = 1
			}
		}
	}

	focus = {
		id = SOV_partisan_organisation
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = SOV_war_mobilisation }
		x = 1
		y = 1
		relative_position_id = SOV_war_mobilisation
		cost = 2
		
		available = {
		}

		completion_reward = {
			unlock_decision_category_tooltip = SOV_organise_partisans
		}
	}

	focus = {
		id = SOV_the_road_of_life
		icon = GFX_focus_SOV_the_road_of_life
		prerequisite = { focus = SOV_war_mobilisation }
		x = -1
		y = 1
		relative_position_id = SOV_war_mobilisation
		cost = 5

		available = {
			OR = {
				195 = { #LENINGRAD
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				219 = { #MOSCOW
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				217 = { #STALINGRAD
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				137 = { #SEVASTOPOL
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				202 = { #Kiev
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
			}
		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_supply_node_range_5_tt
			add_to_variable = { SOV_red_army_supply_node_range_var = 0.05 }
			
			custom_effect_tooltip = SOV_red_army_supply_combat_penalties_on_core_factor_-15_tt
			add_to_variable = { SOV_red_army_supply_combat_penalties_on_core_factor_var = -0.15 }	

			custom_effect_tooltip = SOV_red_army_out_of_supply_factor_var_-15_tt
			add_to_variable = { SOV_army_force_out_of_supply_factor_var = -0.15 }
		}
	}
	
	focus = {
		id = SOV_found_state_defense_committee
		icon = GFX_SOV_rework272
		prerequisite = { focus = SOV_war_mobilisation }
		x = 5
		y = 1

		relative_position_id = SOV_war_mobilisation
		cost = 5
		
		available = {
		}

		completion_reward = {
			add_offsite_building = { type = arms_factory level = 15 }
			add_ideas = sov_state_defense_committee
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_completed_focus = SOV_mil26 }
				}
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = SOV_okmo_organization
			}

			if = {
				limit = {
					NOT = { has_completed_focus = SOV_mil27 }
				}
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = SOV_kirov_organization
			}			
		}
	}

	focus = {
		id = SOV_improve_eastern_infrastructure
		icon = GFX_SOV_rework247
		prerequisite = { focus = SOV_found_state_defense_committee }
		x = 1
		y = 1

		relative_position_id = SOV_found_state_defense_committee
		cost = 4
		
		available = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_infra_10_tt
			add_to_variable = { SOV_command_economy_production_speed_infrastructure_factor_var = 0.1 }
			
			custom_effect_tooltip = generic_skip_one_line_tt

			249 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			251 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			651 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			582 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			572 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			403 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			571 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			570 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			569 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			568 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			567 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			566 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			564 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			563 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			561 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			657 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			409 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			408 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			405 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			586 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			653 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			403 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			398 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_develop_backwaters
		icon = GFX_SOV_rework246
		prerequisite = { focus = SOV_improve_eastern_infrastructure }
		x = 0
		y = 1


		relative_position_id = SOV_improve_eastern_infrastructure
		cost = 4
		
		available = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_infra_5_tt
			add_to_variable = { SOV_command_economy_production_speed_infrastructure_factor_var = 0.05 }
			
			custom_effect_tooltip = generic_skip_one_line_tt

			538 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			590 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			882 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			588 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			402 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			573 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			578 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			560 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			574 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			562 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			329 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			40 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			584 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			407 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_coordinate_industry
		icon = GFX_SOV_increase_production
		prerequisite = { focus = SOV_found_state_defense_committee }
		x = 5
		y = 1
		relative_position_id = SOV_found_state_defense_committee
		cost = 5


		
		available = {
			surrender_progress > 0.25
		}

		completion_reward = {
			add_timed_idea = { idea = SOV_coordinate_industry_idea days = 270 }
			add_offsite_building = { type = industrial_complex level = 15 }
			add_offsite_building = { type = arms_factory level = 20 }
		}
	}
	
	focus = {
		id = SOV_focus_forced_labour
		icon = GFX_SOV_great_archipelago
		prerequisite = { focus = SOV_coordinate_industry }
		x = 1
		y = 1
		relative_position_id = SOV_coordinate_industry
		cost = 5
		ai_will_do = {
			factor = 5
		}



		available_if_capitulated = yes
		
		available = {
			surrender_progress > 0.35
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			
			custom_effect_tooltip = SOV_weekly_stability_-01_tt
			add_to_variable = { SOV_command_economy_stability_gain_factor_var = -0.001 }
			custom_effect_tooltip = SOV_construction_speed_10_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.1 }
			custom_effect_tooltip = SOV_factory_output_10_tt
			add_to_variable = { SOV_command_economy_industrial_capacity_factory_var = 0.1 }
			add_offsite_building = { type = industrial_complex level = 15 }
			add_offsite_building = { type = arms_factory level = 20 }
		}
	}

	focus = {
		id = SOV_mass_tank_production
		icon = GFX_SOV_tankograd
		prerequisite = { focus = SOV_coordinate_industry }
		x = -1
		y = 1
		relative_position_id = SOV_coordinate_industry
		cost = 5

		available = {
			surrender_progress > 0.3
		}



		completion_reward = {
			add_ideas = SOV_mass_tank_production_idea
			add_offsite_building = { type = arms_factory level = 15 }
		}
	}

	focus = {
		id = SOV_empower_stavka

		icon = GFX_sov_stalin_writing

		prerequisite = { focus = SOV_found_state_defense_committee }
		relative_position_id = SOV_found_state_defense_committee
		x = 0
		y = 3
		cost = 5 # Make cheaper if dynamic focus cost possible

		ai_will_do = {
			factor = 1
		}



		available = {

		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_max_planning_factor_10_tt
			add_to_variable = { SOV_red_army_max_planning_factor_var = 0.1 }

			custom_effect_tooltip = SOV_red_army_planning_speed_5_tt
			add_to_variable = { SOV_red_army_planning_speed_var = 0.05 }
		}
	}

	focus = {
		id = SOV_winter_training

		icon = GFX_SOV_rework88

		prerequisite = { focus = SOV_empower_stavka }
		relative_position_id = SOV_empower_stavka
		x = 1
		y = 1
		cost = 2

		ai_will_do = {
			factor = 1
		}



		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_winter_attrition_factor_-15_tt
			add_to_variable = { SOV_red_army_winter_attrition_factor_var = -0.15 }

			custom_effect_tooltip = SOV_red_army_acclimatization_cold_climate_gain_factor_15_tt
			add_to_variable = { SOV_red_army_acclimatization_cold_climate_gain_factor_var = 0.15 }
		}
	}
	
	focus = {
		id = SOV_military_research
		icon = GFX_SOV_closed_city_network
		prerequisite = { focus = SOV_found_state_defense_committee }
		x = 3
		y = 1
		relative_position_id = SOV_found_state_defense_committee
		cost = 7



		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SOV_emergency_rubber_production
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = SOV_found_state_defense_committee }
		x = -1
		y = 1
		relative_position_id = SOV_found_state_defense_committee
		cost = 2
		
		available = {
			is_embargoed_by = JAP
		}



		completion_reward = {
			add_timed_idea = {
				idea = SOV_emergency_rubber_production
				days = 240
			}
		}
	}

	focus = {
		id = SOV_allied_lend_lease
		icon = GFX_SOV_production_targets
		prerequisite = { focus = SOV_war_mobilisation }
		relative_position_id = SOV_war_mobilisation
		x = -4
		y = 1
		cost = 1



		available = {
			surrender_progress > 0.1
		}

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_lend_lease_port_mechanic_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			every_other_country = {
				limit = {
					OR = {
						has_government = democratic
						has_government = communism
					}
					NOT = { has_war_with = ROOT }
				}
				add_opinion_modifier = { target = SOV modifier = SOV_anti_fascist_policies_good } 
			}
			SOV = {
				add_equipment_to_stockpile = {
					type = convoy
					amount = 200
					producer = ENG
				}
				add_equipment_to_stockpile = {
					type = convoy
					amount = 200
					producer = USA
				}
			}
		}
	}

	focus = {
		id = SOV_technical_assistance
		icon = GFX_SOV_usa_sov_agreement
		prerequisite = { focus = SOV_allied_lend_lease }
		x = -2
		y = 1


		relative_position_id = SOV_allied_lend_lease
		cost = 5
		
		available = {
			any_country = {
 				is_major = yes
 				has_war_with = ROOT
 			}
			USA = {
				any_country = {
 					is_major = yes
 					has_war_with = USA
 				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt

			custom_effect_tooltip = SOV_efficiency_growth_10_tt
			add_to_variable = { SOV_command_economy_production_factory_efficiency_gain_factor_var = 0.1 }
			add_to_variable = { 
           	 	SOV_command_economy_production_factory_max_efficiency_factor_var = 0.075
            	tooltip = production_factory_max_efficiency_factor_tt
            }
		}
	}

	focus = {
		id = SOV_research_assistance
		icon = GFX_SOV_rework53
		prerequisite = { focus = SOV_technical_assistance }
		x = 1
		y = 1


		relative_position_id = SOV_technical_assistance
		cost = 5

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_075_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.075 }
		}
	}

	focus = {
		id = SOV_american_rubber_assistance
		icon = GFX_focus_generic_befriend_usa
		prerequisite = { focus = SOV_technical_assistance }
		x = -1
		y = 1
		relative_position_id = SOV_technical_assistance
		cost = 5
		
		available = {
			USA = { has_completed_focus = USA_rubber_reserve_company }
		}



		completion_reward = {
			add_tech_bonus = {
				name = SOV_american_rubber_tech
				bonus = 0.75
				uses = 2
				technology = improved_rubber_processing
				technology = advanced_rubber_processing
				technology = modern_rubber_processing
			}
			if = {
				limit = {
					NOT = { has_tech = synth_oil_experiments }
				}
				set_technology = { synth_oil_experiments = 1 }
			}
			if = {
				limit = {
					NOT = { has_tech = rubber_processing }
				}
				set_technology = { rubber_processing = 1 }
			}

			404 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_rubber_refinery
					level = 2
					instant_build = yes
				}
			}
			881 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_rubber_refinery
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_american_logistical_assistance
		icon = GFX_SOV_rework74
		prerequisite = { focus = SOV_technical_assistance }
		x = 0
		y = 2
		relative_position_id = SOV_technical_assistance
		cost = 5

		available = {
			surrender_progress > 0.15
		}



		completion_reward = {
			add_equipment_to_stockpile = { type = motorized_equipment amount = 2000 producer = USA }
			add_equipment_to_stockpile = { type = train_equipment amount = 100 producer = USA }

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_supply_node_range_10_tt
			add_to_variable = { SOV_red_army_supply_node_range_var = 0.1 }
		}
	}

	focus = {
		id = SOV_persian_corridor
		icon = GFX_SOV_rework235
		prerequisite = { focus = SOV_allied_lend_lease }
		x = 2
		y = 1
		relative_position_id = SOV_allied_lend_lease
		cost = 5


		
		available = { ENG = { has_completed_focus = ENG_operation_countenance }}
		
		completion_reward = {
			add_equipment_to_stockpile = { type = mechanized_equipment amount = 350 producer = USA }
			add_equipment_to_stockpile = { type = infantry_equipment amount = 7000 producer = USA }
			add_equipment_to_stockpile = { type = squad_equipment amount = 3500 producer = USA }
			add_equipment_to_stockpile = { type = motorized_equipment amount = 1400 producer = USA }
			add_equipment_to_stockpile = { type = support_equipment amount = 700 producer = USA }
			add_equipment_to_stockpile = { type = radio_equipment amount = 700 producer = USA }
			add_equipment_to_stockpile = { type = anti_tank_equipment amount = 700 producer = USA }
			add_equipment_to_stockpile = { type = artillery_equipment amount = 700 producer = USA }
			add_equipment_to_stockpile = { type = anti_air_equipment amount = 500 producer = USA }
			add_equipment_to_stockpile = { type = train_equipment amount = 55 producer = USA }
		}
	}

	focus = {
		id = SOV_allied_industrial_assistance
		icon = GFX_SOV_rework86
		prerequisite = { focus = SOV_persian_corridor }
		x = 1
		y = 1
		relative_position_id = SOV_persian_corridor
		cost = 5


		
		available = { ENG = { has_completed_focus = ENG_operation_countenance }}
		
		completion_reward = {
			586 = {
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = arms_factory
					level = 6
					instant_build = yes
				}
			}
			405 = {
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = arms_factory
					level = 6
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_northwest_passage
		icon = GFX_focus_POL_develop_polish_shipbuilding
		prerequisite = { focus = SOV_allied_lend_lease }
		x = 0
		y = 1
		relative_position_id = SOV_allied_lend_lease
		cost = 5


		
		available = {
			controls_state = 214
		}
		
		completion_reward = {
			if = {
				limit = {
					214 = {
						naval_base < 2
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 200 producer = ENG }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 4000 producer = ENG }
				add_equipment_to_stockpile = { type = squad_equipment amount = 2000 producer = ENG }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 800 producer = ENG }
				add_equipment_to_stockpile = { type = support_equipment amount = 400 producer = ENG }
				add_equipment_to_stockpile = { type = radio_equipment amount = 400 producer = ENG }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 400 producer = ENG }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 400 producer = ENG }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 280 producer = ENG }
				add_equipment_to_stockpile = { type = train_equipment amount = 30 producer = ENG }			
			} else_if = {
				limit = {
					214 = {
						naval_base < 4
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 275 producer = ENG }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 5500 producer = ENG }
				add_equipment_to_stockpile = { type = squad_equipment amount = 2750 producer = ENG }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 1100 producer = ENG }
				add_equipment_to_stockpile = { type = support_equipment amount = 550 producer = ENG }
				add_equipment_to_stockpile = { type = radio_equipment amount = 550 producer = ENG }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 550 producer = ENG }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 550 producer = ENG }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 400 producer = ENG }
				add_equipment_to_stockpile = { type = train_equipment amount = 40 producer = ENG }
			} else_if = {
				limit = {
					214 = {
						naval_base < 6
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 350 producer = ENG }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7000 producer = ENG }
				add_equipment_to_stockpile = { type = squad_equipment amount = 3500 producer = ENG }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 1400 producer = ENG }
				add_equipment_to_stockpile = { type = support_equipment amount = 700 producer = ENG }
				add_equipment_to_stockpile = { type = radio_equipment amount = 700 producer = ENG }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 700 producer = ENG }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 700 producer = ENG }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 500 producer = ENG }
				add_equipment_to_stockpile = { type = train_equipment amount = 55 producer = ENG }
			} else_if = {
				limit = {
					214 = {
						naval_base < 8
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 425 producer = ENG }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 8500 producer = ENG }
				add_equipment_to_stockpile = { type = squad_equipment amount = 4250 producer = ENG }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 1700 producer = ENG }
				add_equipment_to_stockpile = { type = support_equipment amount = 850 producer = ENG }
				add_equipment_to_stockpile = { type = radio_equipment amount = 850 producer = ENG }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 850 producer = ENG }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 850 producer = ENG }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 600 producer = ENG }
				add_equipment_to_stockpile = { type = train_equipment amount = 65 producer = ENG }
			} else_if = {
				limit = {
					214 = {
						naval_base < 10
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 500 producer = ENG }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 10000 producer = ENG }
				add_equipment_to_stockpile = { type = squad_equipment amount = 5000 producer = ENG }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 2000 producer = ENG }
				add_equipment_to_stockpile = { type = support_equipment amount = 1000 producer = ENG }
				add_equipment_to_stockpile = { type = radio_equipment amount = 1000 producer = ENG }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 1000 producer = ENG }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 1000 producer = ENG }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 700 producer = ENG }
				add_equipment_to_stockpile = { type = train_equipment amount = 75 producer = ENG }
			}
		}
	}

	focus = {
		id = SOV_arctic_route
		icon = GFX_focus_generic_refit_civilian_ships
		prerequisite = { focus = SOV_allied_lend_lease }
		x = 1
		y = 2
		relative_position_id = SOV_allied_lend_lease
		cost = 5


		
		available = {
			controls_state = 408
		}
		
		completion_reward = {
			if = {
				limit = {
					408 = {
						naval_base < 3
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 200 producer = USA }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 4000 producer = USA }
				add_equipment_to_stockpile = { type = squad_equipment amount = 2000 producer = USA }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 800 producer = USA }
				add_equipment_to_stockpile = { type = support_equipment amount = 400 producer = USA }
				add_equipment_to_stockpile = { type = radio_equipment amount = 400 producer = USA }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 400 producer = USA }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 400 producer = USA }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 280 producer = USA }
				add_equipment_to_stockpile = { type = train_equipment amount = 30 producer = USA }			
			} else_if = {
				limit = {
					OR = {
						408 = {
							naval_base < 5
						}
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 275 producer = USA }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 5500 producer = USA }
				add_equipment_to_stockpile = { type = squad_equipment amount = 2750 producer = USA }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 1100 producer = USA }
				add_equipment_to_stockpile = { type = support_equipment amount = 550 producer = USA }
				add_equipment_to_stockpile = { type = radio_equipment amount = 550 producer = USA }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 550 producer = USA }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 550 producer = USA }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 400 producer = USA }
				add_equipment_to_stockpile = { type = train_equipment amount = 40 producer = USA }
			} else_if = {
				limit = {
					408 = {
						naval_base < 7
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 350 producer = USA }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7000 producer = USA }
				add_equipment_to_stockpile = { type = squad_equipment amount = 3500 producer = USA }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 1400 producer = USA }
				add_equipment_to_stockpile = { type = support_equipment amount = 700 producer = USA }
				add_equipment_to_stockpile = { type = radio_equipment amount = 700 producer = USA }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 700 producer = USA }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 700 producer = USA }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 500 producer = USA }
				add_equipment_to_stockpile = { type = train_equipment amount = 55 producer = USA }
			} else_if = {
				limit = {
					408 = {
						naval_base < 9
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 425 producer = USA }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 8500 producer = USA }
				add_equipment_to_stockpile = { type = squad_equipment amount = 4250 producer = USA }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 1700 producer = USA }
				add_equipment_to_stockpile = { type = support_equipment amount = 850 producer = USA }
				add_equipment_to_stockpile = { type = radio_equipment amount = 850 producer = USA }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 850 producer = USA }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 850 producer = USA }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 600 producer = USA }
				add_equipment_to_stockpile = { type = train_equipment amount = 65 producer = USA }
			} else_if = {
				limit = {
					OR = {
						408 = {
							naval_base < 11
						}
					}
				}
				add_equipment_to_stockpile = { type = mechanized_equipment amount = 500 producer = USA }
				add_equipment_to_stockpile = { type = infantry_equipment amount = 10000 producer = USA }
				add_equipment_to_stockpile = { type = squad_equipment amount = 5000 producer = USA }
				add_equipment_to_stockpile = { type = motorized_equipment amount = 2000 producer = USA }
				add_equipment_to_stockpile = { type = support_equipment amount = 1000 producer = USA }
				add_equipment_to_stockpile = { type = radio_equipment amount = 1000 producer = USA }
				add_equipment_to_stockpile = { type = anti_tank_equipment amount = 1000 producer = USA }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 1000 producer = USA }
				add_equipment_to_stockpile = { type = anti_air_equipment amount = 700 producer = USA }
				add_equipment_to_stockpile = { type = train_equipment amount = 75 producer = USA }
			}
		}
	}
	
	focus = {
		id = SOV_expand_baku
		icon = GFX_SOV_rework255
		prerequisite = { focus = SOV_found_state_defense_committee }
		x = -3
		y = 1
		relative_position_id = SOV_found_state_defense_committee
		cost = 3


		completion_reward = {
 			add_resource = {
				type = oil
				amount = 300
				state = 229
			}
	 		add_resource = {
				type = rubber
				amount = 300
				state = 229
			}

		}
	}
	
	focus = {
		id = SOV_caucasus_mines
		icon = GFX_SOV_goals_renovation_of_siberia
		prerequisite = { focus = SOV_found_state_defense_committee }
		x = -2
		y = 2
		relative_position_id = SOV_found_state_defense_committee
		cost = 3


		completion_reward = {
 			add_resource = {
				type = tungsten
				amount = 500
				state = 233
			}
	 		add_resource = {
				type = chromium
				amount = 500
				state = 233
			}

		}
	}
	
	focus = {
		id = SOV_order_270
		icon = GFX_SOV_rework126
		prerequisite = { focus = SOV_war_mobilisation }
		x = 0
		y = 5
		relative_position_id = SOV_war_mobilisation
		cost = 1


		
		available = {
			surrender_progress > 0.2
		}

		completion_reward = {
			add_timed_idea = { idea = SOV_order_270_idea days = 200 }  # TODO: ADD RETREAT SPEED HERE
			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_glory_to_partisans
			unlock_decision_tooltip = SOV_propaganda_death_to_invaders
			unlock_decision_tooltip = SOV_propaganda_sweep_scum_out
			custom_effect_tooltip = propaganda_campaign_requirement_tt

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			custom_effect_tooltip = SOV_red_army_army_org_factor_5_tt
			add_to_variable = { SOV_red_army_army_org_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_army_army_core_defence_factor_5_tt
			add_to_variable = { SOV_red_army_army_core_defence_factor_var = 0.05 }

			if = {
				limit = {
					has_idea = SOV_army_disorganized
				}
				remove_ideas = {
					SOV_army_disorganized
				}
			}

			custom_effect_tooltip = SOV_lessons_of_war_cowed_trait_tt
			hidden_effect = {
				every_army_leader = {
					remove_unit_leader_trait =  trait_SOV_cowed_by_stalin_army
					remove_unit_leader_trait =  trait_SOV_cowed_by_stalin_army_weaker
				}
				every_navy_leader = {
					limit = {
						has_trait = trait_SOV_cowed_by_stalin_navy
					}
					remove_unit_leader_trait =  trait_SOV_cowed_by_stalin_navy
				}
				SOV = { country_event = soviet.2223 }
			}

			hidden_effect = {
				SOV_check_equipment_stockpile = yes
				USA = {
					country_event = {  id = soviet.3100 }
				}
				ENG = {
					country_event = {  id = soviet.3100 }
				}
			}
		}
	}

	focus = {
		id = SOV_open_old_stockpiles
		icon = GFX_focus_ETH_freedom_at_gunpoint
		prerequisite = { focus = SOV_order_270 }
		x = 2
		y = 1
		relative_position_id = SOV_order_270
		cost = 3


		
		available = {
			surrender_progress > 0.6
		}

		completion_reward = {
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 25000 producer = SOV }
			add_equipment_to_stockpile = { type = squad_equipment_0 amount = 10000 producer = SOV }
			add_equipment_to_stockpile = { type = support_equipment amount = 500 producer = SOV }
			add_equipment_to_stockpile = { type = horse_equipment amount = 2500 producer = SOV }
			add_equipment_to_stockpile = { type = anti_tank_equipment_1 amount = 1000 producer = SOV }
			add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 1000 producer = SOV }
			add_equipment_to_stockpile = { type = anti_air_equipment_1 amount = 750 producer = SOV }
		}
	}

	focus = {
		id = SOV_defend_moscow
		icon = GFX_focus_SOV_the_defense_of_moscow
		prerequisite = { focus = SOV_order_270 }
		x = -5
		y = 1
		relative_position_id = SOV_order_270
		cost = 2


		
		available = {
			OR = {
				NOT = { controls_state = 242 }
				NOT = { controls_state = 246 }
				NOT = { controls_state = 247 }
				NOT = { controls_state = 205 }
			}
			controls_state = 219
		}

		completion_reward = {
			219 = {
				add_dynamic_modifier = { modifier = SOV_defend_city }
				add_building_construction = {
					type = bunker
					level = 5
					province = 3391
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 6414
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 301
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 9378
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 6283
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 3259
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 11282
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 7
					province = 6380
					instant_build = yes
				}
			}
			253 = {	
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
			hidden_effect = {
				hidden_effect = {
					division_template = {
						name = "Mobilized Infantry"
						priority = 0
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 1 y = 3 }

							infantry = { x = 2 y = 0 }	

							artillery_brigade = { x = 3 y = 0}
							anti_tank_brigade = { x = 3 y = 1}
						}
						support = {
							hq_company = { x = 0 y = 0 } 
							engineer = { x = 0 y = 1 }   
							anti_air = { x = 0 y = 2 }
							recon = { x = 0 y = 3 }
							military_police = { x = 1 y = 0 }
							logistics_company  = { x = 1 y = 1 }
						}
					}
					219 = {
						# 30 Spawn ins
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					}
				}
			}
			# if = {
			# 	limit = {
			# 		GER = {has_idea = GER_barbarossa}
			# 	}
			# 	GER = {
			# 		remove_ideas = {
			# 			GER_barbarossa
			# 		}
			# 	}
			# }

			custom_effect_tooltip = SOV_defend_moscow_tt
		}
	}
	
	focus = {
		id = SOV_defend_stalingrad
		icon = GFX_SOV_defend_city
		prerequisite = { focus = SOV_order_270 }
		x = -6
		y = 2
		relative_position_id = SOV_order_270
		cost = 2


		
		available = {
			OR = {
				NOT = { controls_state = 218 }
				NOT = { controls_state = 234 }
				NOT = { controls_state = 228 }
				NOT = { controls_state = 260 }
			}
			controls_state = 217
		}

		completion_reward = {
			217 = {
				add_dynamic_modifier = { modifier = SOV_defend_city }
				add_building_construction = {
					type = bunker
					level = 5
					province = 9504
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 6527
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 498
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 11474
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 11484
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 3555
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 8
					province = 3259
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 6503
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 9474
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 3529
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
			829 = {	
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
			hidden_effect = {
				hidden_effect = {
					division_template = {
						name = "Mobilized Infantry"
						priority = 0
						regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }

						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 1 y = 3 }

						infantry = { x = 2 y = 0 }	

						artillery_brigade = { x = 3 y = 0}
							anti_tank_brigade = { x = 3 y = 1}
						}
						support = {
							hq_company = { x = 0 y = 0 } 
							engineer = { x = 0 y = 1 }   
							anti_air = { x = 0 y = 2 }
							recon = { x = 0 y = 3 }
							military_police = { x = 1 y = 0 }
							logistics_company  = { x = 1 y = 1 }
						}
					}
					217 = {
						# 40 Spawn ins
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
						create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					}
				}
			}
			# if = {
			# 	limit = {
			# 		GER = {has_idea = GER_barbarossa}
			# 	}
			# 	GER = {
			# 		remove_ideas = {
			# 			GER_barbarossa
			# 		}
			# 	}
			# }
			custom_effect_tooltip = SOV_defend_stalingrad_tt
		}
	}
	
	focus = {
		id = SOV_defend_leningrad
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_order_270 }
		x = -7
		y = 1


		relative_position_id = SOV_order_270
		cost = 2
		
		available = {
			OR = {
				NOT = { controls_state = 146 }
				NOT = { controls_state = 208 }
				NOT = { controls_state = 209 }
				NOT = { controls_state = 263 }
			}
			controls_state = 195
		}

		completion_reward = {
			195 = {
				add_dynamic_modifier = { modifier = SOV_defend_city }
				add_building_construction = {
					type = bunker
					level = 3
					province = 6174
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 79
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11068
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 149
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 3151
					instant_build = yes
				}
			}
			244 = {	
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 195 #LENINGRAD
				}
				195 = { #LENINGRAD
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = {
							id = 3151
							id = 6174
						}
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = {
							id = 3151
							id = 6174
						}
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_krasnaya_gorka_battery scope = SOV }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 208 #LUGA
				}
				208 = { #LUGA
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_seraya_loshad_battery scope = SOV }
				}
			}
			hidden_effect = {
				division_template = {
					name = "Mobilized Infantry"
					priority = 0
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }

						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 1 y = 3 }

						infantry = { x = 2 y = 0 }	

						artillery_brigade = { x = 3 y = 0}
						anti_tank_brigade = { x = 3 y = 1}
					}
					support = {
						hq_company = { x = 0 y = 0 } 
						engineer = { x = 0 y = 1 }   
						anti_air = { x = 0 y = 2 }
						recon = { x = 0 y = 3 }
						military_police = { x = 1 y = 0 }
						logistics_company  = { x = 1 y = 1 }
					}
				}
				195 = {
					# 20 Spawn ins
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
					create_unit = { division = "division_template = \"Mobilized Infantry\" start_experience_factor = 0.20 start_manpower_factor = 0.60 force_equipment_variants = { infantry_equipment_1 = { owner = \"SOV\" } } force_equipment_variants = { squad_equipment_0 = { owner = \"SOV\" } }" owner = SOV }
				}
			}
			custom_effect_tooltip = SOV_defend_leningrad_tt
		}
	}

	focus = {
		id = SOV_form_penal_battalions
		icon = GFX_focus_SOV_penal_battalions
		prerequisite = { focus = SOV_empower_stavka }
		x = -1
		y = 1
		relative_position_id = SOV_empower_stavka
		cost = 2


		
		available = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_penal_battalions_spawn_tt
			unlock_decision_tooltip = SOV_raise_penal_units
			hidden_effect = {
				set_technology = { penal_infantry = 1 popup = no }

				division_template = {
					name = "Shtrafnaya Chast"
					division_names_group = SOV_PEN_01
					is_locked = yes

					regiments = {
						penal_battalion = { x = 0 y = 0 }
						penal_battalion = { x = 0 y = 1 }
						penal_battalion = { x = 0 y = 2 }
						penal_battalion = { x = 1 y = 0 }
						penal_battalion = { x = 1 y = 1 }
						penal_battalion = { x = 1 y = 2 }
						penal_battalion = { x = 2 y = 0 }
						penal_battalion = { x = 2 y = 1 }
						penal_battalion = { x = 2 y = 2 }
						penal_battalion = { x = 3 y = 0 }
					}
				}

				SOV_spawn_penal_divisions_effect = yes
			}			
		}
	}

	focus = {
		id = SOV_reorganize_red_army
		icon = GFX_SOV_rework68
		prerequisite = { focus = SOV_order_270 focus = SOV_empower_stavka }
		x = 5
		y = 1
		relative_position_id = SOV_order_270
		cost = 5 # TODO: MAKE DYNAMIC IF POSSIBLE (14 days if order 227 has been done, 70 if not)


		
		available = {

		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_army_org_factor_10_tt
			add_to_variable = { SOV_red_army_army_org_factor_var = 10 }
			
			custom_effect_tooltip = SOV_red_army_experience_gain_army_factor_10_tt
			add_to_variable = { SOV_red_army_experience_gain_army_factor_var = 0.1 }

			custom_effect_tooltip = SOV_red_army_experience_loss_factor_-5_tt
			add_to_variable = { SOV_red_army_experience_loss_factor_var = 0.05 }
		}
	}

	focus = {
		id = SOV_slacken_training_standarts
		icon = GFX_SOV_rework122
		prerequisite = { focus = SOV_order_270 }
		x = -3
		y = 1
		relative_position_id = SOV_order_270
		cost = 2



		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_minimum_training_level_-15_tt
			add_to_variable = { SOV_red_army_minimum_training_level_var = -0.05 }

			custom_effect_tooltip = SOV_red_army_experience_loss_factor_5_tt
			add_to_variable = { SOV_red_army_experience_loss_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_training_time_factor_-10_tt
			add_to_variable = { SOV_red_army_training_time_factor_var = -0.1 }
		}
	}

	focus = {
		id = SOV_slacken_armor
		icon = GFX_SOV_rework242
		prerequisite = { focus = SOV_slacken_training_standarts }		
		cost = 4
		x = 1
		y = 1


		relative_position_id = SOV_slacken_training_standarts
		available = {
			surrender_progress > 0.35
		}
		completion_reward = {
			
			hidden_effect = {
				set_technology = {
					sov_slacken_armor_tech = 1
				}
				add_ideas = SOV_slacken_armor_idea 
			}			
			custom_effect_tooltip = SOV_slacken_armor_tt
		}
	}

	focus = {
		id = SOV_slacken_inf
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = SOV_slacken_training_standarts }		
		cost = 4
		x = -1
		y = 1


		relative_position_id = SOV_slacken_training_standarts

		available = {
			surrender_progress > 0.35
		}

		completion_reward = {
			
			hidden_effect = {
				set_technology = {
					slacken_inf_tech = 1
				}
				add_ideas = SOV_slacken_infantry 
			}
			custom_effect_tooltip = SOV_slacken_inf_tt
		}
	}

	focus = {
		id = SOV_guards
		icon = GFX_goal_soviet_guards
		prerequisite = { focus = SOV_reorganize_red_army }
		x = -2
		y = 1
		relative_position_id = SOV_reorganize_red_army
		cost = 2



		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_experience_loss_factor_-15_tt
			add_to_variable = { SOV_red_army_experience_loss_factor_var = -0.15 }
		}
	}

	focus = {
		id = SOV_enforced_fanaticism
		icon = GFX_SOV_rework128
		prerequisite = { focus = SOV_guards }
		x = 0
		y = 1
		relative_position_id = SOV_guards
		cost = 2

		available = {
			surrender_progress > 0.3
		}



		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_army_core_defence_factor_075_tt
			add_to_variable = { SOV_red_army_army_core_defence_factor_var = 0.075 }
		}
	}

	focus = {
		id = SOV_new_doctrine
		icon = GFX_SOV_rework135
		prerequisite = { focus = SOV_reorganize_red_army }
		x = 2
		y = 1
		relative_position_id = SOV_reorganize_red_army
		cost = 3


		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_land_doctrine_cost_factor_-10_tt
			add_to_variable = { SOV_red_army_land_doctrine_cost_factor_var = -0.1 }
		}
	}

	focus = {
		id = SOV_learn_from_our_losses
		icon = GFX_SOV_rework78
		prerequisite = { focus = SOV_new_doctrine }
		x = 0
		y = 1
		relative_position_id = SOV_new_doctrine
		cost = 3

		available = {
			surrender_progress > 0.2
		}


		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_land_doctrine_cost_factor_-5_tt
			add_to_variable = { SOV_red_army_land_doctrine_cost_factor_var = -0.05 }

			add_doctrine_cost_reduction = {
				name = doc_bonus
				cost_reduction = 0.4
				uses = 2
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SOV_learn_from_losses_2
		icon = GFX_SOV_rework127
		prerequisite = { focus = SOV_learn_from_our_losses }
		x = 0
		y = 1
		relative_position_id = SOV_learn_from_our_losses
		cost = 3

		available = {
			surrender_progress > 0.4
		}





		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_land_doctrine_cost_factor_-10_tt
			add_to_variable = { SOV_red_army_land_doctrine_cost_factor_var = -0.1 }

			add_doctrine_cost_reduction = {
				name = doc_bonus
				cost_reduction = 0.6
				uses = 4
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SOV_new_leadership
		icon = GFX_SOV_rework26
		prerequisite = { focus = SOV_reorganize_red_army }
		x = 0
		y = 1
		relative_position_id = SOV_reorganize_red_army
		cost = 3



		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			
			custom_effect_tooltip = SOV_red_army_experience_gain_army_factor_5_tt
			add_to_variable = { SOV_red_army_experience_gain_army_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_leader_experience_gain_factor_10_tt
			add_to_variable = { SOV_red_army_experience_gain_factor_var = 0.1 }

			if = {
				limit = { NOT = { has_country_flag = SOV_army_promotion_cost_reduced } }
				custom_effect_tooltip = SOV_red_army_promote_cost_factor_-500_tt
				add_to_variable = { SOV_red_army_promote_cost_factor_var = -5 }
				add_to_variable = { 
				SOV_red_army_army_leader_cost_factor_var = -5
				tooltip = army_leader_cost_factor_tt
				}
				SOV_georgy_zhukov = { 
					promote_leader = yes
				}
			}
		}
	}

	focus = {
		id = SOV_standardize_tank_doctrine
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_new_leadership }
		x = 0
		y = 1
		relative_position_id = SOV_new_leadership
		cost = 3
		
		available = {
		}

		completion_reward = {
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			
			custom_effect_tooltip = SOV_red_army_armor_attack_factor_5_tt
			add_to_variable = { SOV_red_army_armor_attack_factor_var = 0.05 }
			custom_effect_tooltip = SOV_red_army_armor_defence_5_tt
			add_to_variable = { SOV_red_army_armor_defence_var = 0.05 }

			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.15
			}
		}
	}

	focus = {
		id = SOV_reset_tank_doctrine
		icon = GFX_goal_continuous_armor_production
		prerequisite = { focus = SOV_standardize_tank_doctrine }
		x = 0
		y = 1
		relative_position_id = SOV_standardize_tank_doctrine
		cost = 8
		
		available = {
			has_army_experience > 100
			power_balance_value = {
				id = SOV_army_bop
				value > 0
			}
		}

		completion_reward = {
			army_experience = -100
			custom_effect_tooltip = SOV_generic_modify_red_army_tt
			
			custom_effect_tooltip = SOV_red_army_set_armor_defence_0_tt
			set_variable = { SOV_red_army_armor_attack_factor_var = 0 }
			custom_effect_tooltip = SOV_red_army_set_armor_attack_factor_0_tt
			set_variable = { SOV_red_army_armor_defence_var = 0 }
			
			custom_effect_tooltip = SOV_red_army_cavalry_attack_factor_-10_tt
			add_to_variable = { SOV_red_army_cavalry_attack_factor_var = -0.1 }
			custom_effect_tooltip = SOV_red_army_cavalry_defence_factor_-10_tt
			add_to_variable = { SOV_red_army_cavalry_defence_factor_var = -0.1 }

			add_power_balance_value = {
				id = SOV_army_bop
				value = 0.25
			}
		}
	}
	
	focus = {
		id = SOV_frontline_mob
		icon = GFX_SOV_rework116
		prerequisite = { focus = SOV_order_270 }
		x = 0
		y = 1
		relative_position_id = SOV_order_270
		cost = 1


		
		available = {
			surrender_progress > 0.3
		}

		completion_reward = {
			hidden_effect = {
				SOV_check_equipment_stockpile = yes
				USA = {
					country_event = {  id = soviet.3100 }
				}
				ENG = {
					country_event = {  id = soviet.3100 }
				}
			}
			hidden_effect = {
				division_template = {
					name = "Strelki"
					priority = 0
					regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 1 y = 3 }

							infantry = { x = 2 y = 0 }	

							artillery_brigade = { x = 3 y = 0}
							anti_tank_brigade = { x = 3 y = 1}
						}
						support = {
							hq_company = { x = 0 y = 0 } 
							engineer = { x = 0 y = 1 }   
							anti_air = { x = 0 y = 2 }
							recon = { x = 0 y = 3 }
							military_police = { x = 1 y = 0 }
							logistics_company  = { x = 1 y = 1 }
						}
				}
				if = {
					limit = {
						has_war_with = JAP
					}
					every_state = {
						limit = {	
							AND = {
								any_neighbor_state = { OR = { is_controlled_by = GER is_controlled_by = ROM is_controlled_by = HUN is_controlled_by = FIN is_controlled_by = ITA is_controlled_by = BUL  is_controlled_by = SPR is_controlled_by = VIC is_controlled_by = YUG is_controlled_by = JAP is_controlled_by = MAN is_controlled_by = SIA} }
								is_controlled_by = SOV
								NOT = {	state = 262 }
								NOT = {	state = 825 }
							}
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.4 start_manpower_factor = 0.80 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.4 start_manpower_factor = 0.80 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.4 start_manpower_factor = 0.80 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.4 start_manpower_factor = 0.80 start_equipment_factor = 1.0"
							owner = SOV
						}
					}
				}
				else = {
					every_state = {
						limit = {	
							AND = {
								any_neighbor_state = { OR = { is_controlled_by = GER is_controlled_by = ROM is_controlled_by = HUN is_controlled_by = FIN is_controlled_by = ITA is_controlled_by = BUL  is_controlled_by = SPR is_controlled_by = VIC is_controlled_by = YUG} }
								is_controlled_by = SOV
								NOT = {	state = 262 }
								NOT = {	state = 825 }
							}
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.4 start_manpower_factor = 0.80 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.4 start_manpower_factor = 0.80 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.4 start_manpower_factor = 0.80 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.4 start_manpower_factor = 0.80 start_equipment_factor = 1.0"
							owner = SOV
						}
					}
				}

			}
			custom_effect_tooltip = SOV_frontline_mob_tt
		}
	}

	focus = {
		id = SOV_second_wave_mob
		icon = GFX_focus_SOV_restore_cossack_units
		prerequisite = { focus = SOV_frontline_mob }
		x = 0
		y = 1
		relative_position_id = SOV_frontline_mob
		cost = 1


		
		available = {
			surrender_progress > 0.5
		}

		completion_reward = {
			hidden_effect = {
				SOV_check_equipment_stockpile = yes
				USA = {
					country_event = {  id = soviet.3100 }
				}
				ENG = {
					country_event = {  id = soviet.3100 }
				}
			}
			hidden_effect = {
				division_template = {
					name = "Strelki"
					priority = 0
					regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 1 y = 3 }

							infantry = { x = 2 y = 0 }	

							artillery_brigade = { x = 3 y = 0}
							anti_tank_brigade = { x = 3 y = 1}
						}
						support = {
							hq_company = { x = 0 y = 0 } 
							engineer = { x = 0 y = 1 }   
							anti_air = { x = 0 y = 2 }
							recon = { x = 0 y = 3 }
							military_police = { x = 1 y = 0 }
							logistics_company  = { x = 1 y = 1 }
						}
				}
				if = {
					limit = {
						has_war_with = JAP
					}
					every_state = {
						limit = {	
							AND = {
								any_neighbor_state = { OR = { is_controlled_by = GER is_controlled_by = ROM is_controlled_by = HUN is_controlled_by = FIN is_controlled_by = ITA is_controlled_by = BUL  is_controlled_by = SPR is_controlled_by = VIC is_controlled_by = YUG is_controlled_by = JAP is_controlled_by = MAN is_controlled_by = SIA} }
								is_controlled_by = SOV
								NOT = {	state = 262 }
								NOT = {	state = 825 }
							}
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.5 start_manpower_factor = 0.60 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.5 start_manpower_factor = 0.60 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.5 start_manpower_factor = 0.60 start_equipment_factor = 1.0"
							owner = SOV
						}						
					}
				}
				else = {
					every_state = {
						limit = {	
							AND = {
								any_neighbor_state = { OR = { is_controlled_by = GER is_controlled_by = ROM is_controlled_by = HUN is_controlled_by = FIN is_controlled_by = ITA is_controlled_by = BUL  is_controlled_by = SPR is_controlled_by = VIC is_controlled_by = YUG} }
								is_controlled_by = SOV
								NOT = {	state = 262 }
								NOT = {	state = 825 }
							}
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = SOV
						}
						create_unit = {
							division = "division_template = \"Strelki\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = SOV
						}						
					}
				}
			}
			custom_effect_tooltip = SOV_frontline_mob_tt2
		}
	}

	focus = {
		id = SOV_fix_airforce
		icon = GFX_SOV_rework232
		prerequisite = { focus = SOV_reorganize_red_army }
		x = 5
		y = 1
		relative_position_id = SOV_reorganize_red_army
		cost = 5


		
		available = {
			has_air_experience > 150
		}

		completion_reward = {

			air_experience = -150
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_mission_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_mission_efficiency_var = 0.05 }

			custom_effect_tooltip = SOV_red_air_force_air_accidents_factor_var_-25_tt
			add_to_variable = { SOV_red_air_force_air_accidents_factor_var = -0.25 }

			#custom_effect_tooltip = SOV_red_air_force_air_ace_generation_chance_factor_var_15_tt
			#add_to_variable = { SOV_red_air_force_air_ace_generation_chance_factor_var = 0.15 }

			custom_effect_tooltip = SOV_red_air_force_air_home_defence_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_home_defence_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_air_force_air_wing_xp_loss_when_killed_factor_var_-20_tt
			add_to_variable = { SOV_red_air_force_air_wing_xp_loss_when_killed_factor_var = -0.2 }

			custom_effect_tooltip = SOV_red_air_force_air_doctrine_cost_factor_var_-10_tt
			add_to_variable = { SOV_red_air_force_air_doctrine_cost_factor_var = -0.1 }
		}
	}

	focus = {
		id = SOV_fix_fighters
		icon = GFX_SOV_rework24
		prerequisite = { focus = SOV_fix_airforce }
		x = 1
		y = 1
		relative_position_id = SOV_fix_airforce
		cost = 5


		
		available = {
			has_air_experience > 100
		}

		completion_reward = {

			air_experience = -100
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_mission_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_mission_efficiency_var = 0.05 }

			custom_effect_tooltip = SOV_red_air_force_air_accidents_factor_var_-15_tt
			add_to_variable = { SOV_red_air_force_air_accidents_factor_var = -0.15 }

			#custom_effect_tooltip = SOV_red_air_force_air_ace_generation_chance_factor_var_10_tt
			#add_to_variable = { SOV_red_air_force_air_ace_generation_chance_factor_var = 0.1 }

			custom_effect_tooltip = SOV_red_air_force_air_home_defence_factor_var_5_tt
			add_to_variable = { SOV_red_air_force_air_home_defence_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_air_force_air_wing_xp_loss_when_killed_factor_var_-10_tt
			add_to_variable = { SOV_red_air_force_air_wing_xp_loss_when_killed_factor_var = -0.1 }

			custom_effect_tooltip = SOV_red_air_force_air_doctrine_cost_factor_var_-10_tt
			add_to_variable = { SOV_red_air_force_air_doctrine_cost_factor_var = -0.1 }
		}
	}

	focus = {
		id = SOV_fix_cas
		icon = GFX_SOV_rework138
		prerequisite = { focus = SOV_fix_airforce }
		x = -1
		y = 1
		relative_position_id = SOV_fix_airforce
		cost = 5


		
		available = {
			has_air_experience > 100
		}

		completion_reward = {

			air_experience = -100
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = SOV_generic_modify_red_air_force_tt

			custom_effect_tooltip = SOV_red_air_force_air_mission_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_mission_efficiency_var = 0.05 }
			
			custom_effect_tooltip = SOV_red_air_force_air_cas_efficiency_var_5_tt
			add_to_variable = { SOV_red_air_force_air_cas_efficiency_var = 0.05 }

			custom_effect_tooltip = SOV_red_air_force_air_wing_xp_loss_when_killed_factor_var_-10_tt
			add_to_variable = { SOV_red_air_force_air_wing_xp_loss_when_killed_factor_var = -0.1 }

			custom_effect_tooltip = SOV_red_air_force_air_doctrine_cost_factor_var_-10_tt
			add_to_variable = { SOV_red_air_force_air_doctrine_cost_factor_var = -0.1 }
		}
	}
}
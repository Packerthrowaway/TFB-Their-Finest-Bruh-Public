####### NO STEP BACK! #######
@DAYS_DETERMINED = 180 #Used for propaganda campaign SOV_heroes_forward -> Value should be the same as SOV_default_propaganda_campaign_duration

##### BEGINNING NEW STUFF ##############################
SOV_fon_decisions = {
	SOV_fon_1 = {

		visible = {
			NOT = {has_country_flag = SOV_fon_flag1}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_5_or_greater_tt
				check_variable = { SOV_propaganda_campaigns_taken = 5 compare = greater_than_or_equals }
			}
			NOT = {has_country_flag = SOV_fon_flag1}
		}
		cost = 0
		fire_only_once = no
		icon = GFX_decision_SOV_stalinist_state
		days_remove = 0
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			swap_ruler_traits = {
				remove = stalin_father_of_nations1
				add = stalin_father_of_nations2
			}
			set_country_flag = SOV_fon_flag1
			set_country_flag = SOV_fon_desc_flag1
		}
	}

	SOV_fon_2 = {

		visible = {
			NOT = {has_country_flag = SOV_fon_flag1}
		}

		available = {
			custom_trigger_tooltip = { 
				tooltip = SOV_propaganda_campaigns_taken_5_or_greater_tt
				check_variable = { SOV_propaganda_campaigns_taken = 5 compare = greater_than_or_equals }
			}
			NOT = {has_country_flag = SOV_fon_flag1}
		}
		cost = 0
		fire_only_once = no
		icon = GFX_decision_SOV_stalinist_state
		days_remove = 0
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			swap_ruler_traits = {
				remove = stalin_father_of_nations1
				add = stalin_father_of_nations3
			}
			set_country_flag = SOV_fon_flag1
			set_country_flag = SOV_fon_desc_flag2
		}
	}

	SOV_fon_3 = {

		visible = {
			NOT = {has_country_flag = SOV_fon_flag2}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_15_or_greater_tt
				check_variable = { SOV_propaganda_campaigns_taken = 15 compare = greater_than_or_equals }
			}
			has_country_flag = SOV_fon_flag1
			NOT = {has_country_flag = SOV_fon_flag2}
		}
		cost = 0
		fire_only_once = no
		icon = GFX_decision_SOV_stalinist_state
		days_remove = 0
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			custom_effect_tooltip = stalin_fon_tt1
			set_country_flag = SOV_fon_flag2
			IF = { 
				LIMIT = {has_country_flag = SOV_fon_desc_flag1}
			swap_ruler_traits = {
				remove = stalin_father_of_nations2
				add = stalin_father_of_nations21
			}
			}
			IF = { 
				LIMIT = {has_country_flag = SOV_fon_desc_flag2}
			swap_ruler_traits = {
				remove = stalin_father_of_nations3
				add = stalin_father_of_nations31
			}
			}
			set_country_flag = SOV_fon_desc_flagx1
		}
	}

	SOV_fon_4 = {

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_15_or_greater_tt
				check_variable = { SOV_propaganda_campaigns_taken = 15 compare = greater_than_or_equals }
			}
			has_country_flag = SOV_fon_flag1
			NOT = {has_country_flag = SOV_fon_flag2}
		}

		visible = {
			NOT = {has_country_flag = SOV_fon_flag2}
		}

		cost = 0
		fire_only_once = no
		icon = GFX_decision_SOV_stalinist_state
		days_remove = 0
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			custom_effect_tooltip = stalin_fon_tt2
			set_country_flag = SOV_fon_flag2
			IF = { 
				LIMIT = {has_country_flag = SOV_fon_desc_flag1}
			swap_ruler_traits = {
				remove = stalin_father_of_nations2
				add = stalin_father_of_nations22
			}
			}
			IF = { 
				LIMIT = {has_country_flag = SOV_fon_desc_flag2}
			swap_ruler_traits = {
				remove = stalin_father_of_nations3
				add = stalin_father_of_nations32
			}
			}
			set_country_flag = SOV_fon_desc_flagx2
		}
	}

	SOV_fon_5 = {

		visible = {
			NOT = {has_country_flag = SOV_fon_flag3}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_20_or_greater_tt
				check_variable = { SOV_propaganda_campaigns_taken = 20 compare = greater_than_or_equals }
			}
			has_country_flag = SOV_fon_flag2
			NOT = {has_country_flag = SOV_fon_flag3}
		}
		cost = 0
		fire_only_once = no
		icon = GFX_decision_SOV_stalinist_state
		days_remove = 0
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			custom_effect_tooltip = stalin_fon_tt3
			set_country_flag = SOV_fon_flag3
			IF = { 
				LIMIT = {AND = {has_country_flag = SOV_fon_desc_flagx1 has_country_flag = SOV_fon_desc_flag1 }}
			swap_ruler_traits = {
				remove = stalin_father_of_nations21
				add = stalin_father_of_nations211
			}
			}
			IF = { 
				LIMIT = {AND = {has_country_flag = SOV_fon_desc_flagx2 has_country_flag = SOV_fon_desc_flag1 }}
			swap_ruler_traits = {
				remove = stalin_father_of_nations22
				add = stalin_father_of_nations221
			}
			}
			IF = { 
				LIMIT = {AND = {has_country_flag = SOV_fon_desc_flagx1 has_country_flag = SOV_fon_desc_flag2 }}
			swap_ruler_traits = {
				remove = stalin_father_of_nations31
				add = stalin_father_of_nations311
			}
			}
			IF = { 
				LIMIT = {AND = {has_country_flag = SOV_fon_desc_flagx2 has_country_flag = SOV_fon_desc_flag2 }}
			swap_ruler_traits = {
				remove = stalin_father_of_nations32
				add = stalin_father_of_nations321
			}
			}
			set_country_flag = SOV_fon_desc_flagx2
		}
	}

	SOV_fon_6 = {

		visible = {
			NOT = {has_country_flag = SOV_fon_flag3}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_20_or_greater_tt
				check_variable = { SOV_propaganda_campaigns_taken = 20 compare = greater_than_or_equals }
			}
			has_country_flag = SOV_fon_flag2
			NOT = {has_country_flag = SOV_fon_flag3}
		}
		cost = 0
		fire_only_once = no
		icon = GFX_decision_SOV_stalinist_state
		days_remove = 0
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			custom_effect_tooltip = stalin_fon_tt4
			set_country_flag = SOV_fon_flag3
			IF = { 
				LIMIT = {AND = {has_country_flag = SOV_fon_desc_flagx1 has_country_flag = SOV_fon_desc_flag1 }}
			swap_ruler_traits = {
				remove = stalin_father_of_nations21
				add = stalin_father_of_nations212
			}
			}
			IF = { 
				LIMIT = {AND = {has_country_flag = SOV_fon_desc_flagx2 has_country_flag = SOV_fon_desc_flag1 }}
			swap_ruler_traits = {
				remove = stalin_father_of_nations22
				add = stalin_father_of_nations222
			}
			}
			IF = { 
				LIMIT = {AND = {has_country_flag = SOV_fon_desc_flagx1 has_country_flag = SOV_fon_desc_flag2 }}
			swap_ruler_traits = {
				remove = stalin_father_of_nations31
				add = stalin_father_of_nations312
			}
			}
			IF = { 
				LIMIT = {AND = {has_country_flag = SOV_fon_desc_flagx2 has_country_flag = SOV_fon_desc_flag2 }}
			swap_ruler_traits = {
				remove = stalin_father_of_nations32
				add = stalin_father_of_nations322
			}
			}
		}
	}
}

SOV_purge_bop_decisions = {

	SOV_forge = {

		visible = {
			always = yes
		}
		cost = 20
		fire_only_once = no
		days_remove = 90
		
		ai_will_do = {
			factor = 1
		}

		complete_effect = {
			add_stability = -0.025
			add_war_support = -0.025
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.15
			}
		}
	}

	SOV_forge2 = {

		visible = {
			always = yes
		}
		cost = 60
		fire_only_once = no
		days_remove = 90
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			add_stability = 0.02
			add_power_balance_value = {
				
				id = SOV_purge_bop
				value = -0.125
			}
		}
	}

	SOV_forge3 = {

		visible = {
			always = yes
		}
		cost = 0
		fire_only_once = no
		days_remove = 120
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.25
			}
		}
		modifier = {
			civilian_factory_use = 12
		}
	}

	SOV_forge4 = {

		visible = {
			always = yes
		}
		fire_only_once = no
		days_remove = 120
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.125
			}
		}
		modifier = {
			stability_weekly = -0.002
			political_power_gain = -0.25
		}
	}

	SOV_forge5 = {

		visible = {
			always = yes
		}
		fire_only_once = yes
		days_remove = 600
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			army_experience = -50
			add_power_balance_value = {
				id = SOV_purge_bop
				value = -0.3
			}
		}

		available = {
			has_army_experience > 50
		}

		modifier = {
			
			experience_gain_army_factor = -0.15
		}
	}
}


	



SOV_gosplan_decisions_category = {

	SOV_gosplan_decisions_heavy_expand_magnitogorsk_steel = {
		icon = generic_factory

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			582
		}
		
		visible = {
			has_variable = gosplan_heavy_industry
			custom_trigger_tooltip = {
				tooltip = SOV_need_less_magnitogorsk_6_tt
				NOT = { check_variable = { SOV_var_magnitogorsk_development = 6 compare = greater_than_or_equals } }
			}
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		available = {
			has_completed_focus = SOV_heavy_expand_closed_cities
			has_war = no
			custom_trigger_tooltip = {
				tooltip = SOV_need_less_magnitogorsk_6_tt
				NOT = { check_variable = { SOV_var_magnitogorsk_development = 6 compare = greater_than_or_equals } }
			}
		}
		
		fire_only_once = no

		modifier = {
			civilian_factory_use = 7
		}

		days_remove = 160

		cost = 20
		
		remove_effect = {
			582 = {
				add_extra_state_shared_building_slots = 1
			}
			add_resource = {
				type = steel
				amount = 350
				state = 582
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			
			add_to_variable = { SOV_var_magnitogorsk_development = 1 }
			clamp_variable = {
				var = SOV_var_magnitogorsk_development
				max = 7
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 5 }
		
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_5_tt
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100 
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	SOV_gosplan_decisions_heavy_build_chelyabinsk_plant = {
		icon = generic_merge_plant_materiel

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			572
		}
		
		visible = {
			has_variable = gosplan_heavy_industry
			custom_trigger_tooltip = {
				tooltip = SOV_need_less_chelyabinsk_6_tt
				NOT = { check_variable = { SOV_var_chelyabinsk_development = 6 compare = greater_than_or_equals } }
			}
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		available = {
			has_completed_focus = SOV_heavy_expand_closed_cities
			has_war = no
			custom_trigger_tooltip = {
				tooltip = SOV_need_less_chelyabinsk_6_tt
				NOT = { check_variable = { SOV_var_chelyabinsk_development = 6 compare = greater_than_or_equals } }
			}
		}
		
		fire_only_once = no

		modifier = {
			civilian_factory_use = 7
		}

		days_remove = 180

		cost = 25

		remove_effect = {
			572 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			
			add_to_variable = { SOV_var_chelyabinsk_development = 1 }
			clamp_variable = {
				var = SOV_var_chelyabinsk_development
				max = 7
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 5 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_5_tt
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	SOV_gosplan_decisions_heavy_move_labour_to_norilsk = {
		icon = eng_blackshirt_march

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			579
		}
		
		visible = {
			has_variable = gosplan_heavy_industry
			custom_trigger_tooltip = {
				tooltip = SOV_need_less_norilsk_6_tt
				NOT = { check_variable = { SOV_var_norilsk_development = 6 compare = greater_than_or_equals } }
			}
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		available = {
			has_completed_focus = SOV_heavy_expand_closed_cities
			has_war = no
			custom_trigger_tooltip = {
				tooltip = SOV_need_less_norilsk_6_tt
				NOT = { check_variable = { SOV_var_norilsk_development = 6 compare = greater_than_or_equals } }
			}
		}
		
		fire_only_once = no

		modifier = {
			stability_weekly = -0.001
			weekly_manpower = -500
			communism_drift = -0.03
		}

		days_remove = 120

		cost = 50

		remove_effect = {
			579 = {
				add_extra_state_shared_building_slots = 1
			}
			add_resource = {
				type = chromium
				amount = 200
				state = 579
			}
			add_resource = {
				type = tungsten
				amount = 250
				state = 579
			}
			custom_effect_tooltip = SOV_upgrade_cities_1_tt 
			
			add_to_variable = { SOV_var_norilsk_development = 1 }
			clamp_variable = {
				var = SOV_var_norilsk_development
				max = 7
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
		
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	SOV_gosplan_decisions_far_eastern_resource_extraction = {
		icon = generic_construction

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			566
		}
		
		visible = {
			has_variable = gosplan_heavy_industry
			NOT = { has_completed_focus = SOV_heavy_model_cities }
		}
		
		available = {
			has_completed_focus = SOV_heavy_special_settlements
			has_war = no
		}
		
		fire_only_once = yes

		modifier = {
			stability_weekly = -0.001
			weekly_manpower = -200
			communism_drift = -0.01
		}

		days_remove = 160

		cost = 75

		remove_effect = {
			add_resource = {
				type = chromium
				amount = 200
				state = 574
			}
			add_resource = {
				type = chromium
				amount = 150
				state = 565
			}
			add_resource = {
				type = tungsten
				amount = 300
				state = 40
			}
			add_resource = {
				type = tungsten
				amount = 200
				state = 569
			}
			add_resource = {
				type = aluminium
				amount = 200
				state = 566
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_west_dev_map_counter = 20 }
			clamp_variable = {
				var = var_siberia_west_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
			custom_effect_tooltip = SOV_regional_development_20_tt
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_east_dev_map_counter = 20 }
			clamp_variable = {
				var = var_siberia_east_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_east_tt
			custom_effect_tooltip = SOV_regional_development_20_tt	
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	SOV_gosplan_decisions_far_eastern_infrastructure = {
		icon = generic_forestry

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			566
		}
		
		visible = {
			has_variable = gosplan_heavy_industry
			NOT = { has_completed_focus = SOV_heavy_model_cities }
		}
		
		available = {
			has_completed_focus = SOV_heavy_special_settlements
			has_war = no
		}
		
		fire_only_once = yes

		modifier = {
			stability_weekly = -0.001
			weekly_manpower = -200
			communism_drift = -0.01
		}

		days_remove = 160

		cost = 75

		remove_effect = {
			574 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			565 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			569 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			40 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			566 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_west_dev_map_counter = 30 }
			clamp_variable = {
				var = var_siberia_west_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_west_tt
			custom_effect_tooltip = SOV_regional_development_30_tt
			
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_siberia_east_dev_map_counter = 30 }
			clamp_variable = {
				var = var_siberia_east_dev_map_counter
				max = 100
			}
			custom_effect_tooltip = SOV_generic_modify_siberia_east_tt
			custom_effect_tooltip = SOV_regional_development_30_tt	
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_3_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 3 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	SOV_gosplan_specialise_steel_refinery_steel = {
		icon = steel
		
		visible = {
			has_variable = gosplan_heavy_industry
			has_country_flag = SOV_steel_refinery_specialisation_active
			NOT = { has_country_flag = SOV_steel_refinery_specialisation_done }
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		fire_only_once = yes

		modifier = {
			research_speed_factor = -0.05
			civilian_factory_use = 3
		}

		days_remove = 120

		cost = 25

		complete_effect = {
			set_country_flag = SOV_steel_refinery_specialisation_done
		}

		remove_effect = {
			modify_building_resources = {
        	   building = steel_refinery
        	   resource = steel
        	   amount = 40
        	}
		}
	}
	
	SOV_gosplan_specialise_steel_refinery_tungsten = {
		icon = tungsten
		
		visible = {
			has_variable = gosplan_heavy_industry
			has_country_flag = SOV_steel_refinery_specialisation_active
			NOT = { has_country_flag = SOV_steel_refinery_specialisation_done }
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		fire_only_once = yes

		modifier = {
			research_speed_factor = -0.05
			civilian_factory_use = 3
		}

		days_remove = 120

		cost = 25
		
		complete_effect = {
			set_country_flag = SOV_steel_refinery_specialisation_done
		}

		remove_effect = {
			modify_building_resources = {
        	   building = steel_refinery
        	   resource = tungsten
        	   amount = 40
        	}
		}
	}
	
	SOV_gosplan_specialise_steel_refinery_aluminium = {
		icon = aluminium
		
		visible = {
			has_variable = gosplan_heavy_industry
			has_country_flag = SOV_steel_refinery_specialisation_active
			NOT = { has_country_flag = SOV_steel_refinery_specialisation_done }
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		fire_only_once = yes

		modifier = {
			research_speed_factor = -0.05
			civilian_factory_use = 3
		}

		days_remove = 120

		cost = 25
		
		complete_effect = {
			set_country_flag = SOV_steel_refinery_specialisation_done
		}

		remove_effect = {
			modify_building_resources = {
        	   building = steel_refinery
        	   resource = aluminium
        	   amount = 30
        	}
		}
	}
	
	SOV_gosplan_specialise_steel_refinery_chromium = {
		icon = chromium
		
		visible = {
			has_variable = gosplan_heavy_industry
			has_country_flag = SOV_steel_refinery_specialisation_active
			NOT = { has_country_flag = SOV_steel_refinery_specialisation_done }
			NOT = { has_completed_focus = SOV_heavy_industrial_powerhouses }
		}
		
		fire_only_once = yes

		modifier = {
			research_speed_factor = -0.05
			civilian_factory_use = 3
		}

		days_remove = 120

		cost = 25
		
		complete_effect = {
			set_country_flag = SOV_steel_refinery_specialisation_done
		}

		remove_effect = {
			modify_building_resources = {
        	   building = steel_refinery
        	   resource = chromium
        	   amount = 20
        	}
		}
	}
	
	develop_kyzyl_tungsten_deposits = { #404 State not found
		icon = tungsten

		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 404
		}

		highlight_states = {
			highlight_state_targets = {
				state = 404
			}
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 404
			404 = {
				NOT = {
					has_state_flag = kyzla_tungsten_developed
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = tungsten
					amount < 1
				}
			}
		}

		remove_effect = {
			404 = { set_state_flag = kyzla_tungsten_developed }
			404 = {
				add_resource = {
					type = tungsten
					amount = 100
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_central_asia_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_central_asia_dev_map_counter = 10 }
			clamp_variable = {
				var = var_central_asia_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	develop_zlatoust_aluminium_deposits_1 = { #573
		icon = aluminium

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			573
		}

		available = {
			has_tech = construction2
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 573
		}

		highlight_states = {
			highlight_state_targets = {
				state = 573
			}
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 573
			573 = {
				NOT = {
					has_state_flag = zlatoust_aluminium_developed
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = aluminium
					amount < 1
				}
			}
		}

		remove_effect = {
			573 = { set_state_flag = zlatoust_aluminium_developed }
			573 = {
				add_resource = {
					type = aluminium
					amount = 150
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	develop_zlatoust_aluminium_deposits_2 = { #573
		icon = aluminium

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			573
		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 4
			controls_state = 573
		} 

		highlight_states = {
			highlight_state_targets = {
				state = 573
			}
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 573
			573 = {
				NOT = {
					has_state_flag = zlatoust_aluminium_developed_2
				}
				has_state_flag = zlatoust_aluminium_developed
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = aluminium
					amount < 1
				}
			}
		}

		remove_effect = {
			573 = { set_state_flag = zlatoust_aluminium_developed_2 }
			573 = {
				add_resource = {
					type = aluminium
					amount = 200
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_urals_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			add_to_variable = { var_urals_dev_map_counter = 10 }
			clamp_variable = {
				var = var_urals_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	develop_kursk_steel_deposits = { #220
		icon = steel

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			220
		}

		highlight_states = {
			highlight_state_targets = {
				state = 220
			}
		}

		available = {
			has_tech = excavation1
			num_of_civilian_factories_available_for_projects > 4
			controls_state = 220
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 220
			220 = {
				NOT = {
					has_state_flag = {
						flag = kursk_steel_developed
						value = 5
					}
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		cost = 25
		days_remove = SOV_kursk_steel_duration?30

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}

		remove_effect = {
			add_to_variable = { var = SOV_kursk_steel_duration value = 30 }
			220 = {
				if = {
					limit = {
						NOT = {
							has_state_flag = kursk_steel_developed
						}
					}
					set_state_flag = {
						flag = kursk_steel_developed
						value = 1
					}
				}
				else = {
					modify_state_flag = {
						flag = kursk_steel_developed
						value = 1
					}
				}
			}
			220 = {
				add_resource = {
					type = steel
					amount = 220
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		complete_effect = {
			if = {
				limit = {
					check_variable = { var = SOV_kursk_steel_duration value = 30 compare = less_than }
				}
				set_variable = { var = SOV_kursk_steel_duration value = 30 }
			}
		}
	}
	develop_kursk_steel_deposits_2 = { #220
		icon = steel

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			220
		}

		highlight_states = {
			highlight_state_targets = {
				state = 220
			}
		}

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
			controls_state = 220
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 220
			220 = {
				NOT = {
					has_state_flag = {
						flag = kursk_steel_developed_2
						value = 5
					}
				}
				has_state_flag = {
					flag = kursk_steel_developed
					value = 5
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		cost = 25
		days_remove = SOV_kursk_steel_duration_2?30

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}

		remove_effect = {
			add_to_variable = { var = SOV_kursk_steel_duration_2 value = 30 }
			220 = {
				if = {
					limit = {
						NOT = {
							has_state_flag = kursk_steel_developed_2
						}
					}
					set_state_flag = {
						flag = kursk_steel_developed_2
						value = 1
					}
				}
				else = {
					modify_state_flag = {
						flag = kursk_steel_developed_2
						value = 1
					}
				}
			}
			220 = {
				add_resource = {
					type = steel
					amount = 220
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		complete_effect = {
			if = {
				limit = {
					check_variable = { var = SOV_kursk_steel_duration_2 value = 30 compare = less_than }
				}
				set_variable = { var = SOV_kursk_steel_duration_2 value = 30 }
			}
		}
	}
	develop_kursk_steel_deposits_3 = { #220
		icon = steel

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			220
		}

		highlight_states = {
			highlight_state_targets = {
				state = 220
			}
		}

		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 4
			controls_state = 220
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 220
			220 = {
				NOT = {
					has_state_flag = {
						flag = kursk_steel_developed_3
						value = 5
					}
				}
				has_state_flag = {
					flag = kursk_steel_developed_2
					value = 5
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		fire_only_once = yes

		cost = 25
		days_remove = SOV_kursk_steel_duration_3?30

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}

		remove_effect = {
			add_to_variable = { var = SOV_kursk_steel_duration_3 value = 30 }
			220 = {
				if = {
					limit = {
						NOT = {
							has_state_flag = kursk_steel_developed_3
						}
					}
					set_state_flag = {
						flag = kursk_steel_developed_3
						value = 1
					}
				}
				else = {
					modify_state_flag = {
						flag = kursk_steel_developed_3
						value = 1
					}
				}
			}
			220 = {
				add_resource = {
					type = steel
					amount = 220
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		complete_effect = {
			if = {
				limit = {
					check_variable = { var = SOV_kursk_steel_duration_3 value = 30 compare = less_than }
				}
				set_variable = { var = SOV_kursk_steel_duration_3 value = 30 }
			}
		}
	}
	develop_Belgorod_steel_deposits = { #240
		icon = steel

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			240
		}

		highlight_states = {
			highlight_state_targets = {
				state = 240
			}
		}

		available = {
			has_tech = excavation1
			num_of_civilian_factories_available_for_projects > 4
			controls_state = 240
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 240
			240 = {
				NOT = {
					has_state_flag = {
						flag = Belgorod_steel_developed
						value = 5
					}
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		cost = 25
		days_remove = SOV_Belgorod_steel_duration?30

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}

		remove_effect = {
			add_to_variable = { var = SOV_Belgorod_steel_duration value = 30 }
			240 = {
				if = {
					limit = {
						NOT = {
							has_state_flag = Belgorod_steel_developed
						}
					}
					set_state_flag = {
						flag = Belgorod_steel_developed
						value = 1
					}
				}
				else = {
					modify_state_flag = {
						flag = Belgorod_steel_developed
						value = 1
					}
				}
			}
			240 = {
				add_resource = {
					type = steel
					amount = 220
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		complete_effect = {
			if = {
				limit = {
					check_variable = { var = SOV_Belgorod_steel_duration value = 30 compare = less_than }
				}
				set_variable = { var = SOV_Belgorod_steel_duration value = 30 }
			}
		}
	}
	develop_Belgorod_steel_deposits_2 = { #240
		icon = steel

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			240
		}

		highlight_states = {
			highlight_state_targets = {
				state = 240
			}
		}

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
			controls_state = 240
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 240
			240 = {
				NOT = {
					has_state_flag = {
						flag = Belgorod_steel_developed_2
						value = 5
					}
				}
				has_state_flag = {
					flag = Belgorod_steel_developed
					value = 5
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		cost = 25
		days_remove = SOV_Belgorod_steel_duration_2?30

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}

		remove_effect = {
			add_to_variable = { var = SOV_Belgorod_steel_duration_2 value = 30 }
			240 = {
				if = {
					limit = {
						NOT = {
							has_state_flag = Belgorod_steel_developed_2
						}
					}
					set_state_flag = {
						flag = Belgorod_steel_developed_2
						value = 1
					}
				}
				else = {
					modify_state_flag = {
						flag = Belgorod_steel_developed_2
						value = 1
					}
				}
			}
			240 = {
				add_resource = {
					type = steel
					amount = 220
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		complete_effect = {
			if = {
				limit = {
					check_variable = { var = SOV_Belgorod_steel_duration_2 value = 30 compare = less_than }
				}
				set_variable = { var = SOV_Belgorod_steel_duration_2 value = 30 }
			}
		}
	}
	develop_Belgorod_steel_deposits_3 = { #240
		icon = steel

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			240
		}

		highlight_states = {
			highlight_state_targets = {
				state = 240
			}
		}

		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 4
			controls_state = 240
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 240
			240 = {
				NOT = {
					has_state_flag = {
						flag = Belgorod_steel_developed_3
						value = 5
					}
				}
				has_state_flag = {
					flag = Belgorod_steel_developed_2
					value = 5
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		cost = 25
		days_remove = SOV_Belgorod_steel_duration_3?30

		modifier = {
			civilian_factory_use = 5
		}

		fire_only_once = yes

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}

		remove_effect = {
			add_to_variable = { var = SOV_Belgorod_steel_duration_3 value = 30 }
			240 = {
				if = {
					limit = {
						NOT = {
							has_state_flag = Belgorod_steel_developed_3
						}
					}
					set_state_flag = {
						flag = Belgorod_steel_developed_3
						value = 1
					}
				}
				else = {
					modify_state_flag = {
						flag = Belgorod_steel_developed_3
						value = 1
					}
				}
			}
			240 = {
				add_resource = {
					type = steel
					amount = 190
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_ukraine_east_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_ukraine_east_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_ukraine_east_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		complete_effect = {
			if = {
				limit = {
					check_variable = { var = SOV_Belgorod_steel_duration_3 value = 30 compare = less_than }
				}
				set_variable = { var = SOV_Belgorod_steel_duration_3 value = 30 }
			}
		}
	}
	
	develop_uralsk_chromium_deposits_1 = { #407
		icon = chromium

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			407
		}

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
			controls_state = 407
		}

		highlight_states = {
			highlight_state_targets = {
				state = 407
			}
		}

		visible = {
			has_variable = gosplan_heavy_industry
			controls_state = 407
			407 = {
				NOT = {
					has_state_flag = uralsk_chromium_developed
				}
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = chromium
					amount < 1
				}
			}
		}

		remove_effect = {
			407 = { set_state_flag = uralsk_chromium_developed }
			407 = {
				add_resource = {
					type = chromium
					amount = 180
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_volga_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	develop_uralsk_chromium_deposits_2 = { #407
		icon = chromium

		state_target = yes
		on_map_mode = map_and_decisions_view
		targets = {
			407
		}

		available = {
			has_tech = excavation4
			controls_state = 407
			num_of_civilian_factories_available_for_projects > 8
		}

		highlight_states = {
			highlight_state_targets = {
				state = 407
			}
		}

		visible = {
			controls_state = 407
			407 = {
				NOT = {
					has_state_flag = uralsk_chromium_developed_2
				}
				has_state_flag = uralsk_chromium_developed
			}
			has_completed_focus = SOV_heavy_wealth_of_the_motherland
			has_variable = gosplan_heavy_industry
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 9
		}

		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				OR = {
					AND = { #Ultimatum decisions are available and we should prio them
						original_tag = SOV
						OR = {
							SOV_save_pp_for_manpower_trouble = yes
							SOV_we_want_to_send_ultimatums = yes
						}
					}
					AND = { #Too low MP we need to save PP for the laws
						has_manpower < 10000
						NOT = { has_idea = scraping_the_barrel }
					}
				}
			}
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = chromium
					amount < 1
				}
			}
		}

		remove_effect = {
			407 = { set_state_flag = uralsk_chromium_developed_2 }
			407 = {
				add_resource = {
					type = chromium
					amount = 250
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_generic_modify_volga_tt
			custom_effect_tooltip = SOV_regional_development_10_tt
			add_to_variable = { var_volga_dev_map_counter = 10 }
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			clamp_variable = {
				var = var_volga_dev_map_counter
				max = 100
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}
	}
	
	SOV_military_construction_focus = {
		icon = generic_industry
		priority = 1
		
		visible = {
			has_variable = gosplan_heavy_industry
			has_completed_focus = SOV_heavy_industrial_expansion
			NOT = { has_country_flag = SOV_contruction_focus_taken }
		}
		
		available = {
			has_completed_focus = SOV_heavy_industrial_expansion
			has_war = no
		}
		
		fire_only_once = yes

		complete_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_-5_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = -0.05 }
			set_country_flag = SOV_contruction_focus_taken
		}
		
		remove_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_5_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.05 }
			custom_effect_tooltip = SOV_construction_speed_mil_5_tt
			add_to_variable = { SOV_command_economy_production_speed_arms_factory_factor_var = 0.05 }
			custom_effect_tooltip = SOV_construction_speed_civ_-5_tt
			add_to_variable = { SOV_command_economy_production_speed_industrial_complex_factor_var = -0.05 }
		}

		days_remove = 180

		cost = 35
	}
	
	SOV_civilian_construction_focus = {

		icon = generic_industry
		
		priority = 1
		
		visible = {
			has_variable = gosplan_heavy_industry
			has_completed_focus = SOV_heavy_industrial_expansion
			NOT = { has_country_flag = SOV_contruction_focus_taken }
		}
		
		available = {
			has_completed_focus = SOV_heavy_industrial_expansion
			has_war = no
		}
		
		fire_only_once = yes

		complete_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_-5_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = -0.05 }
			set_country_flag = SOV_contruction_focus_taken
		}
		
		remove_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_construction_speed_5_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.05 }
			custom_effect_tooltip = SOV_construction_speed_mil_-5_tt
			add_to_variable = { SOV_command_economy_production_speed_arms_factory_factor_var = -0.05 }
			custom_effect_tooltip = SOV_construction_speed_civ_5_tt
			add_to_variable = { SOV_command_economy_production_speed_industrial_complex_factor_var = 0.05 }
		}

		days_remove = 180

		cost = 35
	}
	
	### LIGHT ###

	SOV_light_state_sponsored_public_works = {
		icon = GFX_decision_hol_attract_foreign_investors
		cost = 50

		priority = 1
	
		days_remove = 180 
		days_re_enable = 180 

		available = {
			has_completed_focus = SOV_light_commissariat_light_industry
			haS_stability < 0.9
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_light_industry
		}

		complete_effect = {
			custom_effect_tooltip = SOV_construction_speed_-075_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = -0.075 }
		}

		remove_effect = {
			add_stability = 0.05
			custom_effect_tooltip = SOV_construction_speed_075_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = 0.075 }
		}

		modifier = {
			
		}
	}

	SOV_light_communist_agitation = {
		icon = GFX_decision_category_generic_communism
		cost = 50

		priority = 1
	
		days_remove = 180 
		days_re_enable = 180 

		available = {
			has_completed_focus = SOV_light_commissariat_light_industry
			communism < 0.9
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_light_industry
		}

		modifier = {
			political_power_gain = -0.1
			communism_drift = 0.2
		}
	}

	SOV_improved_worker_conditions = {

		icon = generic_consumer_goods
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
		}
		
		available = {
			has_stability < 1.0
			has_completed_focus = SOV_light_increase_consumer_goods
			has_war = no
		}
		
		fire_only_once = no

		modifier = {
			stability_weekly = 0.003
			consumer_goods_factor = 0.075
			industrial_capacity_factory = -0.1
			political_power_factor = 0.1
			communism_drift = 0.01
		}
		
		remove_effect = {
			custom_effect_tooltip = SOV_increase_5_year_plan_-1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = -1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		days_remove = 180
		days_re_enable = 360

		cost = 30
	}
	
	SOV_increase_production_quotas = {

		icon = SOV_the_workers_dictatorship
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
		}
		
		available = {
			has_completed_focus = SOV_light_decrease_rations
		}
		
		fire_only_once = no

		modifier = {
			political_power_factor = -0.1
			industrial_capacity_factory = 0.075
			communism_drift = -0.03
		}

		days_remove = 180
		days_re_enable = 180

		cost = 0

		remove_effect = {
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability > 0.8
			}
		}
	}
	
	SOV_promote_kulturnost = {

		icon = GFX_decision_category_SOV_permanent_revolution
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
		}
		
		available = {
			has_completed_focus = SOV_light_new_soviet_man
			has_war = no
		}
		
		fire_only_once = yes

		modifier = {
			political_power_factor = -0.15
			consumer_goods_factor = 0.05
			stability_weekly = -0.001
		}

		days_remove = 365

		cost = 50

		remove_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_075_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.075 }
			
			custom_effect_tooltip = SOV_efficiency_growth_5_tt
			add_to_variable = { SOV_command_economy_production_factory_efficiency_gain_factor_var = 0.05 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability > 0.8
			}
		}
	}
	
	SOV_standardize_clothing = {

		icon = SOV_secure_the_administration
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
		}
		
		available = {
			has_completed_focus = SOV_light_fabric_of_new_society
			has_war = no
			num_of_civilian_factories_available_for_projects > 3
		}
		
		fire_only_once = yes

		modifier = {
			political_power_gain = 0.1
			civilian_factory_use = 3
		}

		days_remove = 720

		cost = 100

		complete_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_stability_-5_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = -0.05 }
		}
		
		remove_effect = {
            custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_stability_15_tt
			add_to_variable = { SOV_command_economy_stability_factor_var = 0.15 }
			
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = SOV_increase_5_year_plan_1_tt 
			add_to_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 1 }
			clamp_variable = {
				var = var_SOV_second_5_year_plan_progress_bar_counter
				max = 100
			}
			add_to_variable = { SOV_gosplan_gui_dirty_var = 1 }
			
			if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					NOT = { has_country_flag = SOV_second_5_year_plan_completed }
				}
				country_event = { id = soviet.600 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
				set_country_flag = SOV_second_5_year_plan_completed
			}
			else_if = {
				limit = {
					check_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 99 compare = greater_than }
					has_country_flag = SOV_second_5_year_plan_completed
				}
				country_event = { id = soviet.699 }
				set_variable = { var_SOV_second_5_year_plan_progress_bar_counter = 0 }
			}
 		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability > 0.8
			}
		}
	}
	
	SOV_increase_research_funding = {

		icon = SOV_academy_of_sciences
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
		}
		
		available = {
			has_completed_focus = SOV_light_expand_belarusian_science_academy
			has_war = no
		}
		
		fire_only_once = no

		days_re_enable = 180

		cost = 25

		complete_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_5_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.05 }
			
			custom_effect_tooltip = SOV_construction_speed_-5_tt
			add_to_variable = { SOV_command_economy_production_speed_buildings_factor_var = -0.05 }
		}

		ai_will_do = {
			base = 0
		}
	}
	
	
	SOV_short_term_science = {

		icon = generic_research
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
			NOT = { has_country_flag = SOV_long_research_decision_clicked }
		}
		
		available = {
			OR = {
				has_completed_focus = SOV_light_narrow_research_efforts
				has_completed_focus = SOV_light_broad_research_efforts
			}
		}
		
		fire_only_once = yes

		days_remove = 360

		cost = 0

		modifier = {
			research_speed_factor = 0.125
		}
		
		complete_effect = {
			set_country_flag = SOV_short_research_decision_clicked
		}

		remove_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_-5_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = -0.05 }
		}

		ai_will_do = {
			base = 0
		}
	}
	
	SOV_long_term_science = {

		icon = generic_research
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
			NOT = { has_country_flag = SOV_short_research_decision_clicked }
		}
		
		available = {
			OR = {
				has_completed_focus = SOV_light_narrow_research_efforts
				has_completed_focus = SOV_light_broad_research_efforts
			}
		}
		
		fire_only_once = yes

		days_remove = 360

		cost = 0

		modifier = {
			research_speed_factor = -0.075
		}
		
		complete_effect = {
			set_country_flag = SOV_long_research_decision_clicked
		}

		remove_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_5_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.05 }
		}

		ai_will_do = {
			base = 0
		}
	}
	
	SOV_increase_exports = {

		icon = GFX_decision_category_generic_trade
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
			has_completed_focus = SOV_light_state_trade_monopoly
			NOT = { has_country_flag = SOV_exports_adjusted }
		}
		
		available = {
			has_completed_focus = SOV_light_perfecting_trade_apparatus
		}
		
		fire_only_once = yes

		days_remove = 90

		cost = 50

		modifier = {
			political_power_gain = -0.1
		}
		
		complete_effect = {
			set_country_flag = SOV_exports_adjusted
		}

		remove_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_market_access_5_tt
			add_to_variable = { SOV_command_economy_min_export_var = 0.05 }
		}

		ai_will_do = {
			base = 0
		}
	}
	
	SOV_decrease_exports = {

		icon = GFX_decision_category_generic_trade
		
		priority = 1
		
		visible = {
			has_variable = gosplan_light_industry
			has_completed_focus = SOV_light_state_trade_monopoly
			NOT = { has_country_flag = SOV_exports_adjusted }
		}
		
		available = {
			has_completed_focus = SOV_light_perfecting_trade_apparatus
		}
		
		fire_only_once = yes

		days_remove = 90

		cost = 50

		modifier = {
			political_power_gain = -0.1
		}
		
		complete_effect = {
			set_country_flag = SOV_exports_adjusted
		}

		remove_effect = {
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_market_access_-5_tt
			add_to_variable = { SOV_command_economy_min_export_var = -0.05 }
		}

		ai_will_do = {
			base = 0
		}
	}
	
	##### Foreign Industrial Concern ####
	SOV_gosproyektstroy_bring_foreign_experts = {
		priority = 100

		icon = hol_attract_foreign_investors

		ai_will_do = {
			base = 100
		}

		targets = { USA ENG GER JAP }

		visible = {
			has_variable = gosplan_light_industry
			has_idea = SOV_gosproyektstroy_1
			NOT = { has_idea = SOV_state_trade_monopoly }
			NOT = { has_country_flag = SOV_gosproyektstroy_level_2_flag }
			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
			country_exists = FROM
			NOT = { has_war_with = FROM }
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_completed_focus = SOV_light_perfecting_trade_apparatus
			has_idea = SOV_gosproyektstroy_1
			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
			FROM = {
				has_opinion = {
					target = ROOT
					value > 29
				}
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
			}
		}

		days_remove = 180

		fire_only_once = yes
		
		cost = 100

		modifier = {
			civilian_factory_use = 6
		}

		complete_effect = {
			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}

		remove_effect = {
			if = {
				limit = {
					FROM = { tag = USA }
				}
				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_1
					add_idea = SOV_gosproyektstroy_2_usa
				}
			}
			else_if = {
				limit = {
					FROM = { tag = ENG }
				}
				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_1
					add_idea = SOV_gosproyektstroy_2_eng
				}
			}
			else_if = {
				limit = {
					FROM = { tag = GER }
				}
				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_1
					add_idea = SOV_gosproyektstroy_2_ger
				}
			}
			else_if = {
				limit = {
					FROM = { tag = JAP }
				}
				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_1
					add_idea = SOV_gosproyektstroy_2_jap
				}
			}

			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}
	}

	SOV_gosproyektstroy_focus_civ = {
		priority = 13

		icon = generic_construction

		ai_will_do = {
			base = 0.75
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					any_other_country = {
						OR ={
							is_justifying_wargoal_against = ROOT
							ROOT = { is_justifying_wargoal_against = PREV }
						}
					}
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa #Done like this for tooltip purposes
				hidden_trigger = {
					OR = {
						has_idea = SOV_gosproyektstroy_2_eng
						has_idea = SOV_gosproyektstroy_2_ger
						has_idea = SOV_gosproyektstroy_2_jap
					}
				}
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
		}

		days_remove = 180

		fire_only_once = yes

		visible = {
			has_variable = gosplan_light_industry
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa
				has_idea = SOV_gosproyektstroy_2_eng
				has_idea = SOV_gosproyektstroy_2_ger
				has_idea = SOV_gosproyektstroy_2_jap
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
		}

		cost = 50

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}

		remove_effect = {
			set_country_flag = { flag = SOV_gosproyektstroy_level_3_flag value = 1 } #CIV
			if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_usa
					add_idea = SOV_gosproyektstroy_3_usa_civ
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_eng
					add_idea = SOV_gosproyektstroy_3_eng_civ
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_ger
					add_idea = SOV_gosproyektstroy_3_ger_civ
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_jap
					add_idea = SOV_gosproyektstroy_3_jap_civ
				}
			}

			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}
	}

	SOV_gosproyektstroy_focus_mil = {
		priority = 12

		icon = generic_industry

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				OR = {
					has_war = yes
					any_other_country = {
						OR ={
							is_justifying_wargoal_against = ROOT
							ROOT = { is_justifying_wargoal_against = PREV }
						}
					}
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa #Done like this for tooltip purposes
				hidden_trigger = {
					OR = {
						has_idea = SOV_gosproyektstroy_2_eng
						has_idea = SOV_gosproyektstroy_2_ger
						has_idea = SOV_gosproyektstroy_2_jap
					}
				}
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
		}

		days_remove = 180

		fire_only_once = yes

		visible = {
			has_variable = gosplan_light_industry
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa
				has_idea = SOV_gosproyektstroy_2_eng
				has_idea = SOV_gosproyektstroy_2_ger
				has_idea = SOV_gosproyektstroy_2_jap
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
		}

		cost = 50

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}

		remove_effect = {
			set_country_flag = { flag = SOV_gosproyektstroy_level_3_flag value = 2 } #MIL
			if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_usa
					add_idea = SOV_gosproyektstroy_3_usa_mil
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_eng
					add_idea = SOV_gosproyektstroy_3_eng_mil
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_ger
					add_idea = SOV_gosproyektstroy_3_ger_mil
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_jap
					add_idea = SOV_gosproyektstroy_3_jap_mil
				}
			}

			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}
	}

	SOV_defense_host_military_parade = {
		icon = GFX_decision_eng_blackshirt_march
		cost = 0

		priority = 1
	
		days_re_enable = 180 

		available = {
			has_completed_focus = SOV_defence1
			has_army_experience > 50
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_defense_industry
		}

		complete_effect = {
			army_experience = -50
			add_stability = 0.05
		}

		modifier = {
			
		}
	}

	SOV_defense_develop_the_zis30 = {
		icon = GFX_decision_generic_tank
		cost = 30

		priority = 1
	
		days_remove = 120

		available = {
			has_completed_focus = SOV_mil28
			has_army_experience > 25
			has_tech = sov_light_tank_2
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_defense_industry
		}

		complete_effect = {
			army_experience = -25
		}

		remove_effect = {
			set_technology = {
				sov_zis30_tech = 1
			}
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 15
			research_speed_factor = -0.075
		}
	}

	SOV_defense_develop_the_t44 = {
		icon = GFX_decision_generic_tank
		cost = 50

		priority = 1
	
		days_remove = 180

		available = {
			has_completed_focus = SOV_mil29
			has_army_experience > 50
			has_tech = sov_medium_tank_1
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_defense_industry
		}

		complete_effect = {
			army_experience = -50
		}

		remove_effect = {
			add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					technology = sov_medium_tank_4
				}
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 20
			research_speed_factor = -0.1
		}
	}

	SOV_defense_develop_the_IS = {
		icon = GFX_decision_generic_tank
		cost = 50

		priority = 1
	
		days_remove = 180

		available = {
			has_completed_focus = SOV_mil42
			has_army_experience > 50
			has_tech = sov_heavy_tank_2
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_defense_industry
		}

		complete_effect = {
			army_experience = -50
		}

		remove_effect = {
			add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					technology = sov_heavy_tank_5
				}
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 20
			research_speed_factor = -0.1
		}
	}

	SOV_defense_found_speznaz = {
		icon = GFX_decision_generic_military
		cost = 0

		priority = 1
	
		available = {
			has_completed_focus = SOV_mil24
			has_completed_focus = SOV_army_kuli
			has_army_experience > 50
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_defense_industry
			OR = {
				has_completed_focus = SOV_mil24
				has_completed_focus = SOV_army_kuli
			}
		}

		complete_effect = {
			army_experience = -50
			custom_effect_tooltip = SOV_generic_modify_red_army_tt

			custom_effect_tooltip = SOV_red_army_special_forces_attack_factor_5_tt
			add_to_variable = { SOV_red_army_special_forces_attack_factor_var = 0.05 }

			custom_effect_tooltip = SOV_red_army_special_forces_defence_factor_5_tt
			add_to_variable = { SOV_red_army_special_forces_defence_factor_var = 0.05 }
		}

		fire_only_once = yes
	}

	SOV_defense_naval_experimental_research = {
		icon = GFX_decision_generic_merge_plant_ship
		cost = 25

		priority = 1
	
		days_remove = 180

		available = {
			has_completed_focus = SOV_merge_naval_plants
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_defense_industry
		}

		remove_effect = {
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 1
			}
			navy_experience = 50
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_1_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.01 }
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 10
			research_speed_factor = 0.025
		}
	}

	SOV_defense_army_experimental_research = {
		icon = GFX_decision_generic_merge_plant_tank
		cost = 25

		priority = 1
	
		days_remove = 180

		available = {
			has_completed_focus = SOV_mil1
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_defense_industry
		}

		remove_effect = {
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.75
			}
			army_experience = 25
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_1_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.01 }
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 10
			research_speed_factor = 0.025
		}
	}

	SOV_defense_air_experimental_research = {
		icon = GFX_decision_generic_merge_plant_aircraft
		cost = 25

		priority = 1
	
		days_remove = 180

		available = {
			has_completed_focus = SOV_share5
		}
	
		visible = {
			original_tag = SOV
			has_variable = gosplan_defense_industry
		}

		remove_effect = {
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.75
			}
			air_experience = 25
			custom_effect_tooltip = SOV_generic_modify_command_economy_tt
			custom_effect_tooltip = SOV_research_speed_1_tt
			add_to_variable = { SOV_command_economy_research_speed_factor_var = 0.01 }
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 10
			research_speed_factor = 0.025
		}
	}
}


##### END NEW STUFF ##############################

debug_decisions = {
	SOV_debug_show_paranoia_system = { #This is a duplicate of the decision present in the Paranoia category
		priority = 202

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
		}

		cost = 0

		complete_effect = {
			custom_effect_tooltip = "This will make the Paranoia System visible in the tab. It does NOT activate the Paranoia system."
			set_country_flag = SOV_debug_show_paranoia_system_flag
		}
	}

	SOV_debug_show_propaganda_system = { #This is a duplicate of the decision present in the Paranoia category
		priority = 201

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = { has_country_flag = SOV_debug_show_propaganda_system_flag }
		}

		cost = 0

		complete_effect = {
			custom_effect_tooltip = "This will make the Propaganda system visible in the tab. It does NOT activate the Propaganda system."
			set_country_flag = SOV_debug_show_propaganda_system_flag
		}
	}

	SOV_TEST_ULTIMATE_CONTINENTS = {
		priority = 200

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			always = yes
		}

		cost = 0

		complete_effect = {
			#log = "WARNING: This takes a while"
			# every_state = {
			# 	limit = {
			# 		is_on_continent = asia
			# 	}
			# 	TIB = { transfer_state = PREV }
			# }
			every_state = {
				limit = {
					is_on_continent = europe
				}
				LUX = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = middle_east
				}
				YEM = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = africa
				}
				ETH = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = australia
				}
				NZL = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = north_america
				}
				CAN = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = south_america
				}
				PER = { transfer_state = PREV }
			}
		}
	}
}

foreign_politics = {
	SOV_pol_invade_poland = {

		allowed = {
			original_tag = SOV
		}

		available = {
			has_completed_focus = SOV_prepare_expansion
		}

		ai_will_do = {
			factor = 100
		}

		visible = {
			always = yes
		}

		cost = 25

		fire_only_once = yes
		complete_effect = {
			add_state_claim = 89
			add_state_claim = 91
			add_state_claim = 93
			add_state_claim = 94
			add_state_claim = 95
			add_state_claim = 784
			add_state_claim = 96
			add_state_claim = 97
			SOV = { transfer_state = 89 }
			SOV = { transfer_state = 91 }
			SOV = { transfer_state = 93 }
			SOV = { transfer_state = 94 }
			SOV = { transfer_state = 95 }
			SOV = { transfer_state = 784 }
			SOV = { transfer_state = 96 }
			SOV = { transfer_state = 97 }
			add_named_threat = { threat = 5 name = SOV_claims_on_baltic }
		}
	}

	SOV_pol_claims_on_baltics = {

		allowed = {
			original_tag = SOV
		}

		available = {
			has_completed_focus = SOV_prepare_expansion
		}

		ai_will_do = {
			factor = 100
		}

		visible = {
			always = yes
		}

		cost = 20

		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = SOV_claims_in_baltics_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_state_claim = 811
			add_state_claim = 812
			add_state_claim = 13
			add_state_claim = 813
			add_state_claim = 191
			add_state_claim = 12
			add_state_claim = 810
			add_state_claim = 808
			add_state_claim = 809
			add_state_claim = 190
			add_named_threat = { threat = 2 name = SOV_claims_on_baltic }
			annex_country = { target = EST transfer_troops = yes }
			annex_country = { target = LAT transfer_troops = yes }
			
			if = {
				limit = {
					has_global_flag = sov_yes_pact
				}
				add_state_claim = 189
				add_state_claim = 815
				add_state_claim = 11
				add_state_claim = 814				
				annex_country = { target = LIT transfer_troops = yes }
			}
		}
	}
}

foreign_politics = {
	SOV_annex_mon = {

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				SOV = { has_war_with = GER }
				date > 1941.1.1
			}
			MON = {is_ai = yes}
		}

		ai_will_do = {
			factor = 0
		}

		visible = {
			always = yes
		}
		fire_only_once = yes
		complete_effect = {
			annex_country = { target = MON transfer_troops = yes }
			287 = { set_compliance = 60 }
			329 = { set_compliance = 60 }
			330 = { set_compliance = 60 }
			617 = { set_compliance = 60 }
			618 = { set_compliance = 60 }
			619 = { set_compliance = 60 }
			759 = { set_compliance = 60 }
			760 = { set_compliance = 60 }
			817 = { set_compliance = 60 }
			818 = { set_compliance = 60 }
			819 = { set_compliance = 60 }
			820 = { set_compliance = 60 }
		}
	}

	#first border incident
	SOV_test_the_japanese = {
		icon = border_war
		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_global_flag = border_war_in_progress
				has_global_flag = border_war_conclusive_winner
			}
			NOT = {
				has_war_with = JAP
				is_in_faction_with = JAP
				has_non_aggression_pact_with = JAP	
				JAP = { is_puppet_of = SOV }
			}
			408 = {
				any_neighbor_state = {
					is_controlled_by = JAP
				}
			}
		}

		visible = {
		}

		highlight_states = {
			highlight_state_targets = {
				state = 408
				state = 1028
			}
		}
		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				date < 1939.1.1
				factor = 0	
			}	
			modifier = { # We won't do this if we are supporting the opposition	
				OR = {	
					has_country_flag = SOV_CSW_transfer_vladivostok_flag
					has_country_flag = SOV_CSW_transfer_sakhalin_flag	
				}
				factor = 0
			}
		}
		cost = 50
		days_remove = 30
		war_with_on_remove = JAP
		complete_effect = {
			set_global_flag = border_war_in_progress
			1028 = {
				save_event_target_as = JAP_SOV_defender_state
				set_state_flag = border_incident_active
			}
			408 = {
				save_event_target_as = JAP_SOV_attacker_state
				set_state_flag = border_incident_active
			}
			JAP = {
				country_event = { id = japan_border_conflict.1 days = 1 }
				activate_targeted_decision = { target = SOV decision = SOV_border_conflict_warning_JAP }
			}
		}
		remove_effect = {
			activate_targeted_decision = { target = JAP decision = SOV_border_incident_forgotten }
			activate_targeted_decision = { target = JAP decision = SOV_escalate_incident_to_border_conflict_JAP }
		}
	}

	#Mission for defender warning that a conflict with FROM is coming
	SOV_border_conflict_warning_JAP = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			hidden_trigger = { always = no }
		}

		war_with_target_on_timeout = yes
		ai_will_do = {
			base = 0
			modifier = {
				
			}
		}

		days_mission_timeout = 30

		fire_only_once = yes

		is_good = no
		
		timeout_effect = {
			custom_effect_tooltip = escalation_possible_tooltip_for_defender
			custom_effect_tooltip = effects_if_border_conflict_is_lost
			effect_tooltip = {
				add_doctrine_cost_reduction = {
					name = sov_jap_border_conflict_won
					category = land_doctrine
					cost_reduction = 0.99
				}
				add_tech_bonus = {
					name = sov_jap_border_conflict_won
					category = armor
					bonus = 1.0
				}
				set_global_flag = SOV_border_war_win
			}
			hidden_effect = {
				remove_targeted_decision = { target = SOV decision = SOV_border_conflict_warning_JAP }
				activate_targeted_decision = { target = SOV decision = SOV_border_conflict_escalation_warning_JAP }
			}
		}
	}

	#Mission for defender warning FROM can escalate to war at any point is coming
	SOV_border_conflict_escalation_warning_JAP = {

		icon = border_war

		allowed = { always = no } #Activated from effect
		visible = { hidden_trigger = { NOT = { has_border_war_with = SOV } } }	
		cancel_if_not_visible = yes 

		available = {
			#var:ROOT.defender_state_vs_@FROM = {
			#	has_ROOT_at_least_1_div_in_current_state_scope = yes
			#}
			hidden_trigger = { always = no }
		}

		war_with_target_on_timeout = yes
		ai_will_do = {
			base = 0
			modifier = {
				
			}
		}

		days_mission_timeout = 30

		fire_only_once = yes

		is_good = no

		timeout_effect = {
			custom_effect_tooltip = from_cannot_escalate
			custom_effect_tooltip = effects_if_border_conflict_is_lost
			effect_tooltip = {
				add_doctrine_cost_reduction = {
					name = sov_jap_border_conflict_won
					category = land_doctrine
					cost_reduction = 0.99
				}
				add_tech_bonus = {
					name = sov_jap_border_conflict_won
					category = armor
					bonus = 1.0
				}
				set_global_flag = SOV_border_war_victory
			}
		}		
	}
	#Mission for attacker to escalate or incident is forgotten
	SOV_border_incident_forgotten = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			has_border_war_with = JAP # Japan shouldn't lose war support if they actually use the window of opportunity
		}

		highlight_states = {
			highlight_state_targets = {
					state = 1028
					state = 408
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				
			}
		}

		days_mission_timeout = 30

		fire_only_once = yes

		is_good = no
		
		timeout_effect = {
			clr_global_flag = border_war_in_progress
			remove_targeted_decision = { target = JAP decision = SOV_escalate_incident_to_border_conflict_JAP }
			add_political_power = -100
			add_war_support = -0.1 #Shameful Display
			hidden_effect = {
				JAP = { remove_targeted_decision = { target = SOV decision = SOV_border_conflict_escalation_warning_JAP } }
				JAP = {
					1028 = {
						clr_state_flag = border_incident_active
					}
					408 = {
						clr_state_flag = border_incident_active
					}
				}
			}
		}
	}

	#Decision to escalate incident on border with SOV to border conflict
	SOV_escalate_incident_to_border_conflict_JAP = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			408 = {
				OR = {
					is_fully_controlled_by = ROOT
					CONTROLLER = {
						is_subject_of = ROOT
					}
					CONTROLLER = {
						is_in_faction_with = ROOT
					}
				}
			}
			divisions_in_border_state = {
				state = 408
				border_state = 1028
				size > 0
			}
		}

		highlight_states = {
			highlight_state_targets = {
					state = 1028
					state = 408			
			}
		}

		ai_will_do = {
			base = 10
			modifier = { 
				has_war = no
				factor = 10
			}
		}

		fire_only_once = yes #Reactivation handled in effect

		complete_effect = {
			remove_targeted_decision = { target = JAP decision = SOV_border_incident_forgotten }
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 408
					num_provinces = 4
					on_win = japan_border_conflict.3
					on_lose = japan_border_conflict.2
					on_cancel = japan_border_conflict.4
				}
				
				defender = {
					state = 1028
					num_provinces = 4
					on_win = japan_border_conflict.2
					on_lose = japan_border_conflict.3
					on_cancel = japan_border_conflict.4
				}
			}
			JAP = {
				activate_targeted_decision = { target = SOV decision = SOV_border_conflict_escalate_conflict }
				activate_targeted_decision = { target = SOV decision = SOV_border_conflict_time_until_cancelled }
			}
			activate_targeted_decision = { target = JAP decision = SOV_border_conflict_escalate_conflict }
			activate_targeted_decision = { target = JAP decision = SOV_border_conflict_time_until_cancelled }
		}
	}
	#Mission for attacker to win border war against FROM in X days
	SOV_border_conflict_time_until_cancelled = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			1028 = { has_border_war = no }
			408 = { has_border_war = no }
		}
		
		highlight_states = {
			highlight_state_targets = {
					state = 408
					state = 1028
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				
			}
		}

		days_mission_timeout = 90
		is_good = no

		fire_only_once = yes #Reactivation handled in effect

		complete_effect = {

		}

		timeout_effect = {
			cancel_border_war = {
				defender = 408
				attacker = 1028
			}
			hidden_effect = {
				clr_global_flag = border_war_in_progress
				remove_targeted_decision = { target = JAP decision = SOV_border_conflict_escalate_conflict }
				remove_targeted_decision = { target = SOV decision = SOV_border_conflict_escalate_conflict }
			}
		}
	}

	#Decision to escalate conflict further
	SOV_border_conflict_escalate_conflict = {

		icon = generic_ignite_civil_war

		allowed = { always = no } #Activated from effect

		visible = {
			has_border_war_with = FROM
		}

		highlight_states = {
			highlight_state_targets = {
				state = 1028
				state = 408
			} 
		}

		cost = 200

		ai_will_do = {
			base = 0
			# modifier = {
			# 	add = 100 	
			# 	is_historical_focus_on = no 	
			# }	
			# modifier = {	
			# 	add = 50 	
			# 	AND = {	
			# 		tag = JAP 	
			# 		has_completed_focus = JAP_support_the_kodoha_faction	
			# 	}	
			# }	
			# modifier = {	
			# 	factor = 0	
			# 	has_war = yes 	
			# }
		}

		fire_only_once = yes #Reactivation handled in effect

		complete_effect = {
			if = {
				limit = { original_tag = JAP }
				set_border_war_data = {
					attacker = 408
					defender = 1028
					defender_modifier = 0.15
					combat_width = 100
				}	
				SOV = {	
					set_country_flag = {	
						flag = WTT_border_conflict_escalate_to_war_cooldown	
						days = 60	
						value = 1	
					}	
					remove_targeted_decision = { target = JAP decision = SOV_border_conflict_escalate_conflict }	
				}	
				set_country_flag = {	
					flag = WTT_border_conflict_escalate_to_war_cooldown	
					days = 60	
					value = 1	
				}	
				custom_effect_tooltip = in_60_days	
				activate_targeted_decision = { target = SOV decision = SOV_border_conflict_escalate_to_war }
			}
			else = {	
				set_border_war_data = {	
					attacker = 408
					defender = 1028
					attacker_modifier = 0.15	
					combat_width = 100	
				}	
				JAP = {	
					set_country_flag = {	
						flag = WTT_border_conflict_escalate_to_war_cooldown	
						days = 60	
						value = 1	
					}	
					remove_targeted_decision = { target = SOV decision = SOV_border_conflict_escalate_conflict }	
				}	
				set_country_flag = {	
					flag = WTT_border_conflict_escalate_to_war_cooldown	
					days = 60	
					value = 1	
				}	
				custom_effect_tooltip = in_60_days	
				activate_targeted_decision = { target = JAP decision = SOV_border_conflict_escalate_to_war }	
			}	
			
		}
	}

	#Decision to escalate conflict further
	SOV_border_conflict_escalate_to_war = {

		icon = generic_ignite_civil_war

		allowed = { always = no } #Activated from effect

		visible = {
			NOT = { has_country_flag = WTT_border_conflict_escalate_to_war_cooldown }
			has_border_war_with = FROM
		}
		cancel_trigger = {	
			NOT = { has_border_war = yes }	
		}

		highlight_states = {
			highlight_state_targets = {
				state = 408
				state = 1028
			} 
		}

		cost = 150

		ai_will_do = {
			base = 0
			# modifier = {	
			# 	add = 100 	
			# 	is_historical_focus_on = no 	
			# }	
			# modifier = {	
			# 	add = 50 	
			# 	AND = {	
			# 		tag = JAP 	
			# 		has_completed_focus = JAP_support_the_kodoha_faction	
			# 	}	
			# }	
			# modifier = {	
			# 	factor = 0	
			# 	has_war = yes 	
			# }
		}

		days_remove = 15

		fire_only_once = yes #Reactivation handled in effect

		war_with_target_on_remove = yes

		complete_effect = {
			clr_global_flag = border_war_in_progress
			if = {
				limit = { original_tag = SOV }
				1028 = { save_event_target_as = their_state }
				408 = { save_event_target_as = our_state }
				SOV = {	
					country_event = { id = japan_border_conflict.6 hours = 1 }	
					hidden_effect = {	
						remove_targeted_decision = { target = JAP decision = SOV_border_conflict_escalate_to_war }	
					}	
				}
			}
			else = {
				408 = { save_event_target_as = our_state }
				1028 = { save_event_target_as = their_state }
				JAP = {	
					country_event = { id = japan_border_conflict.5 hours = 1 }	
					hidden_effect = {	
						remove_targeted_decision = { target = SOV decision = JAP_border_conflict_escalate_to_war }	
					}	
				}
			}
		}

		remove_effect = {
			clr_global_flag = border_war_in_progress
			cancel_border_war = {
				dont_fire_events = yes
				defender = 1028
				attacker = 408
			}
			clr_global_flag = border_war_in_progress
			declare_war_on = { target = FROM type = annex_everything }
			if = {
				limit = { original_tag = SOV }
				408 = {
					clr_state_flag = border_incident_active
				}
				1028 = {
					clr_state_flag = border_incident_active
				}
				
			}
			else = {
				FROM = {
					408 = {
						clr_state_flag = border_incident_active
					}
					1028 = {
						clr_state_flag = border_incident_active
					}
				}
			}
		}
	}

	#Decision to back down from conflict
	SOV_border_conflict_back_out_of_conflict = {

		allowed = { always = no } #Activated from effect

		visible = {
			has_border_war_with = FROM
		}

		highlight_states = {
			highlight_state_targets = {
				state = 1028
				state = 408
			} 
		}

		ai_will_do = {
			base = 0
			modifier = {
				
			}
		}

		fire_only_once = yes #Reactivation handled in effect

		complete_effect = {
			clr_global_flag = border_war_in_progress
			if = {
				limit = { original_tag = JAP }
				finalize_border_war = {
					attacker_win = yes
					attacker = 408
					defender = 1028
				}
			}
			else = {
				finalize_border_war = {
					attacker = 408
					defender = 1028
					defender_win = yes
				}
			}
		}
	}
}

########     ###    ########     ###    ##    ##  #######  ####    ###    
##     ##   ## ##   ##     ##   ## ##   ###   ## ##     ##  ##    ## ##   
##     ##  ##   ##  ##     ##  ##   ##  ####  ## ##     ##  ##   ##   ##  
########  ##     ## ########  ##     ## ## ## ## ##     ##  ##  ##     ## 
##        ######### ##   ##   ######### ##  #### ##     ##  ##  ######### 
##        ##     ## ##    ##  ##     ## ##   ### ##     ##  ##  ##     ## 
##        ##     ## ##     ## ##     ## ##    ##  #######  #### ##     ## 


SOV_paranoia_system = {

	SOV_forge_production_reports = { #Repeatable decision to reduce Paranoia
		priority = 310

		icon = GFX_decision_eng_trade_unions_support

		ai_will_do = {
			factor = 1.0
			modifier = {
				add = var:SOV_paranoia
			}
			modifier = {
				factor = 1.2
				SOV_is_opposition = yes
			}
			modifier = {
				factor = 0
				check_variable = { SOV_paranoia < 20 }
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		cost = SOV_paranoia_calm_down_stalin_decision_cost

		days_re_enable = SOV_paranoia_calm_down_stalin_re_enable_days

		days_remove = 90

		modifier = {
			consumer_goods_factor = 0.05
		}

		complete_effect = {
			SOV_paranoia_medium_decrease_effect = yes

			custom_effect_tooltip = SOV_paranoia_calm_down_stalin_cd_tt
		}
	}

	SOV_inspection_in_the_administration = { #Repeatable decision to reduce Paranoia // Target Administration
		priority = 309

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			custom_trigger_tooltip = {
				tooltip = SOV_paranoia_administration_purgeable_tt
				OR = {
					any_character = {
						is_character_slot = political_advisor
						SOV_character_can_be_purged = yes
					}
					NOT = { has_idea = SOV_understaffed_bureaucracy }
					NOT = { has_idea = SOV_lavrenty_beriya }
				}
			}
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			OR = {
				any_character = {
					is_character_slot = political_advisor
					SOV_character_can_be_purged = yes
				}
				NOT = { has_idea = SOV_understaffed_bureaucracy }
				NOT = { has_idea = SOV_lavrenty_beriya }
			}
			SOV_is_stalinist = yes
		}

		cost = SOV_paranoia_inspection_decision_cost

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_decision_flag days = 15 } #Used to prevent random purges from popping up immediately after this is completed

			SOV_pick_regular_purge_administration_type_effect = yes
			SOV_paranoia_low_decrease_effect = yes

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_army = { #Repeatable decision to reduce Paranoia // Target Army
		priority = 308

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			custom_trigger_tooltip = {
				tooltip = SOV_paranoia_army_purgeable_tt
				OR = {
					any_army_leader = {
						SOV_character_can_be_purged = yes
					}
					NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_army }
					NOT = { has_idea = SOV_training_activities_curtailed }
				}
			}
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			OR = {
				any_army_leader = {
					SOV_character_can_be_purged = yes
				}
				NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_army }
				NOT = { has_idea = SOV_training_activities_curtailed }
			}
			SOV_is_stalinist = yes
		}

		cost = SOV_paranoia_inspection_decision_cost

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_decision_flag days = 15 } #Used to prevent random purges from popping up immediately after this is completed

			SOV_pick_regular_purge_army_type_effect = yes
			SOV_paranoia_medium_decrease_effect = yes
			IF = {
				limit = { SOV_is_opposition = yes }
				SOV_decrease_all_opposition_army = yes
			}

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_navy = { #Repeatable decision to reduce Paranoia // Target Navy
		priority = 307

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			factor = 0.9
			modifier = {
				add = var:SOV_paranoia
			}
			modifier = {
				factor = 0
				check_variable = { SOV_paranoia < 20 }
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			custom_trigger_tooltip = {
				tooltip = SOV_paranoia_navy_purgeable_tt
				OR = {
					any_navy_leader = {
						SOV_character_can_be_purged = yes
					}
					NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_navy }
					NOT = { has_idea = SOV_shipyard_staff_purged }
				}
			}
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			OR = {
				any_navy_leader = {
					SOV_character_can_be_purged = yes
				}
				NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_navy }
				NOT = { has_idea = SOV_shipyard_staff_purged }
			}
			SOV_is_stalinist = yes
		}

		cost = SOV_paranoia_inspection_decision_cost

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_decision_flag days = 15 } #Used to prevent random purges from popping up immediately after this is completed

			SOV_pick_regular_purge_navy_type_effect = yes
			SOV_paranoia_low_decrease_effect = yes
			IF = {
				limit = { SOV_is_opposition = yes }
				SOV_decrease_all_opposition_navy = yes
			}

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_airforce = { #Repeatable decision to reduce Paranoia // Target Airforce
		priority = 306

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			custom_trigger_tooltip = {
				tooltip = SOV_paranoia_airforce_purgeable_tt
				OR = {
					NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_airforce }
					NOT = { has_idea = SOV_ground_based_training }
				}
			}
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			OR = {
				NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_airforce }
				NOT = { has_idea = SOV_ground_based_training }
			}
			SOV_is_stalinist = yes
		}

		cost = SOV_paranoia_inspection_decision_cost

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_decision_flag days = 15 } #Used to prevent random purges from popping up immediately after this is completed

			SOV_pick_regular_purge_airforce_type_effect = yes
			SOV_paranoia_low_decrease_effect = yes
			IF = {
				limit = { SOV_is_opposition = yes }
				SOV_decrease_all_opposition_air = yes
			}
			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_loosen_prohibitions_in_military_academies_dec = {
		priority = 300

		icon = generic_brainwash

		ai_will_do = {
			base = 2
			modifier = {
				factor = 2
				any_enemy_country = {
					is_major = yes
				}
			}
			modifier = {
				factor = 5
				has_idea = SOV_anti_soviet_military_thinking_banned_army
			}
			modifier = {
				factor = 2
				has_idea = SOV_anti_soviet_military_thinking_banned_airforce
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			if = {
				limit = {
					has_country_flag = SOV_assassinated_stalin_flag
				}
				has_country_flag = SOV_assassinated_stalin_flag
			}
			else_if = {
				limit = {
					has_global_flag = SOV_soviet_civil_war
				}
				has_global_flag = SOV_soviet_civil_war
			}
			else = {
				has_country_flag = { flag = SOV_third_moscow_trial_flag days > 365 }
			}
		}

		visible = {
			OR = {
				has_idea = SOV_anti_soviet_military_thinking_banned_army
				has_idea = SOV_anti_soviet_military_thinking_banned_navy
				has_idea = SOV_anti_soviet_military_thinking_banned_airforce
			}
			OR = {
				SOV_is_stalinist = yes
				has_country_flag = SOV_assassinated_stalin_flag
			}
		}

		days_remove = 30

		cost = 50

		modifier = {
			command_power_gain = -0.2
			political_power_gain = -0.2
		}

		complete_effect = {
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = SOV_anti_soviet_military_thinking_banned_army
				}
				remove_ideas = SOV_anti_soviet_military_thinking_banned_army
			}
			if = {
				limit = {
					has_idea = SOV_anti_soviet_military_thinking_banned_navy
				}
				remove_ideas = SOV_anti_soviet_military_thinking_banned_navy
			}
			if = {
				limit = {
					has_idea = SOV_anti_soviet_military_thinking_banned_airforce
				}
				remove_ideas = SOV_anti_soviet_military_thinking_banned_airforce
			}
		}
	}

	SOV_reinforce_army_officer_ranks_with_veterans_dec = {
		priority = 291

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 10
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 5
				has_idea = SOV_purged_junior_army_officers_2
			}
			modifier = {
				factor = 10
				has_idea = SOV_purged_junior_army_officers_3
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = { flag = SOV_third_moscow_trial_flag days > 365 }
		}

		visible = {
			OR = {
				has_idea = SOV_purged_junior_army_officers_1
				has_idea = SOV_purged_junior_army_officers_2
				has_idea = SOV_purged_junior_army_officers_3
			}
			SOV_is_stalinist = yes
		}

		days_remove = SOV_reinforce_officer_ranks_days

		days_re_enable = 1

		ai_hint_pp_cost = 50
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
			has_army_experience > 49
		}
		custom_cost_text = decision_cost_CP_50_pp_50_ArmXP_50

		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				add_political_power = -50
				army_experience = -50
			}
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = SOV_purged_junior_army_officers_3
				}
				swap_ideas = {
					remove_idea = SOV_purged_junior_army_officers_3
					add_idea = SOV_purged_junior_army_officers_2
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_purged_junior_army_officers_2
				}
				swap_ideas = {
					remove_idea = SOV_purged_junior_army_officers_2
					add_idea = SOV_purged_junior_army_officers_1
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_purged_junior_army_officers_1
				}
				remove_ideas = SOV_purged_junior_army_officers_1
			}
		}
	}

	SOV_reinforce_navy_officer_ranks_with_veterans_dec = {
		priority = 290

		icon = generic_naval

		ai_will_do = {
			base = 10
			modifier = {
				factor = 10
				has_war = yes
			}
			modifier = {
				factor = 10
				has_idea = SOV_purged_junior_navy_officers_2
			}
			modifier = {
				factor = 50
				has_idea = SOV_purged_junior_navy_officers_3
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = { flag = SOV_third_moscow_trial_flag days > 365 }
		}

		visible = {
			OR = {
				has_idea = SOV_purged_junior_navy_officers_1
				has_idea = SOV_purged_junior_navy_officers_2
				has_idea = SOV_purged_junior_navy_officers_3
			}
			SOV_is_stalinist = yes
		}

		days_remove = SOV_reinforce_officer_ranks_days

		days_re_enable = 1

		ai_hint_pp_cost = 50
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
			has_navy_experience > 49
		}
		custom_cost_text = decision_cost_CP_50_pp_50_NavXP_50

		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				add_political_power = -50
				navy_experience = -50
			}
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = SOV_purged_junior_navy_officers_3
				}
				swap_ideas = {
					remove_idea = SOV_purged_junior_navy_officers_3
					add_idea = SOV_purged_junior_navy_officers_2
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_purged_junior_navy_officers_2
				}
				swap_ideas = {
					remove_idea = SOV_purged_junior_navy_officers_2
					add_idea = SOV_purged_junior_navy_officers_1
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_purged_junior_navy_officers_1
				}
				remove_ideas = SOV_purged_junior_navy_officers_1
			}
			else = {
				#log = "I CANNOT REMOVE A NS THAT DOESN'T EXIST!"
			}
		}
	}

	SOV_reinstate_mig_design_bureau = {
		priority = 285

		icon = generic_air

		ai_will_do = {
			base = 2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = {
				flag = SOV_mig_design_bureau_dissolved_flag
				days > 365
			}
			custom_trigger_tooltip = {
				tooltip = SOV_mig_design_bureau_dissolved_days_tt
				has_country_flag = {
					flag = SOV_mig_design_bureau_dissolved_flag
					days > 365
				}
			}
			num_of_civilian_factories_available_for_projects > 1
		}

		visible = {
			has_country_flag = SOV_mig_design_bureau_dissolved_flag
		}

		days_remove = SOV_reinstate_aircraft_designer_days

		days_re_enable = 1

		cost = 0

		modifier = {
			political_power_gain = -0.25
			civilian_factory_use = 2
		}

		remove_effect = {
			clr_country_flag = SOV_mig_design_bureau_dissolved_flag
		}
	}

	SOV_reinstate_ilyushin_design_bureau = {
		priority = 284

		icon = generic_air

		ai_will_do = {
			base = 2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = {
				flag = SOV_ilyushin_design_bureau_dissolved_flag
				days > 365
			}
			custom_trigger_tooltip = {
				tooltip = SOV_ilyushin_design_bureau_dissolved_days_tt
				has_country_flag = {
					flag = SOV_ilyushin_design_bureau_dissolved_flag
					days > 365
				}
			}
			num_of_civilian_factories_available_for_projects > 1
		}

		visible = {
			has_country_flag = SOV_ilyushin_design_bureau_dissolved_flag
		}

		days_remove = SOV_reinstate_aircraft_designer_days

		days_re_enable = 1

		cost = 0

		modifier = {
			political_power_gain = -0.25
			civilian_factory_use = 2
		}

		remove_effect = {
			clr_country_flag = SOV_ilyushin_design_bureau_dissolved_flag
		}
	}

	SOV_reinstate_tupolev_design_bureau = {
		priority = 283

		icon = generic_air

		ai_will_do = {
			base = 2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = {
				flag = SOV_tupolev_design_bureau_dissolved_flag
				days > 365
			}
			custom_trigger_tooltip = {
				tooltip = SOV_tupolev_design_bureau_dissolved_days_tt
				has_country_flag = {
					flag = SOV_tupolev_design_bureau_dissolved_flag
					days > 365
				}
			}
			num_of_civilian_factories_available_for_projects > 1
		}

		visible = {
			has_country_flag = SOV_tupolev_design_bureau_dissolved_flag
		}

		days_remove = SOV_reinstate_aircraft_designer_days

		days_re_enable = 1

		cost = 0

		modifier = {
			political_power_gain = -0.25
			civilian_factory_use = 2
		}

		remove_effect = {
			clr_country_flag = SOV_tupolev_design_bureau_dissolved_flag
		}
	}

	SOV_reinstate_yakovlev_design_bureau = {
		priority = 282

		icon = generic_air

		ai_will_do = {
			base = 2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = {
				flag = SOV_yakovlev_design_bureau_dissolved_flag
				days > 365
			}
			custom_trigger_tooltip = {
				tooltip = SOV_yakovlev_design_bureau_dissolved_days_tt
				has_country_flag = {
					flag = SOV_yakovlev_design_bureau_dissolved_flag
					days > 365
				}
			}
			num_of_civilian_factories_available_for_projects > 1
		}

		visible = {
			has_country_flag = SOV_yakovlev_design_bureau_dissolved_flag
		}

		days_remove = SOV_reinstate_aircraft_designer_days

		days_re_enable = 1

		cost = 0

		modifier = {
			political_power_gain = -0.25
			civilian_factory_use = 2
		}

		remove_effect = {
			clr_country_flag = SOV_yakovlev_design_bureau_dissolved_flag
		}
	}



	SOV_DEBUG_ACTIVATE_PARANOIA = { #TODO_Manu: Comment out
		priority = 281

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			custom_effect_tooltip = "THIS ACTIVATES THE PARANOIA SYSTEM"
			SOV_initiate_paranoia_effect = yes
		}
	}

	SOV_DEBUG_DEACTIVATE_PARANOIA = { #TODO_Manu: Comment out
		priority = 281

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			custom_effect_tooltip = "THIS REMOVES THE PARANOIA SYSTEM"
			SOV_remove_paranoia_effect = yes
		}
	}

	SOV_DEBUG_show_debug_purge_decisions = { #TODO_Manu: Comment out
		priority = 281

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = { has_country_flag = SOV_TEST_show_debug_purge_decisions_flag }
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_TEST_show_debug_purge_decisions_flag
			#SOV_initiate_paranoia_effect = yes
		}
	}

	SOV_DEBUG_hide_debug_purge_decisions = { #TODO_Manu: Comment out
		priority = 201

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_TEST_show_debug_purge_decisions_flag
			#SOV_remove_paranoia_effect = yes
		}
	}

	SOV_DEBUG_MAKE_PURGE_DECISIONS_FASTER_HERE = {
		priority = 151

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = {
				has_country_flag = SOV_debug_fast_purge_decisions_flag
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_fast_purge_decisions_flag
			set_variable = { SOV_reinforce_officer_ranks_days = 3 }
			set_variable = { SOV_reinstate_aircraft_designer_days = 3 }
		}
	}

	SOV_DEBUG_REGULAR_PURGE_DECISIONS_DURATION_HERE = {
		priority = 150

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			has_country_flag = SOV_debug_fast_purge_decisions_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_debug_fast_purge_decisions_flag
			set_variable = { SOV_reinforce_officer_ranks_days = 365 }
			set_variable = { SOV_reinstate_aircraft_designer_days = 180 }
		}
	}

	SOV_DEBUG_trigger_great_purge_trial_of_the_generals_dec = {
		priority = 99

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_great_purge_army_trial_of_the_generals_effect = yes
		}
	}

	SOV_DEBUG_trigger_great_purge_army_junior_officers_dec = {
		priority = 98

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_great_purge_army_junior_officers_effect = yes
		}
	}

	SOV_DEBUG_trigger_random_army_great_purge_dec = {
		priority = 97

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_pick_great_purge_army_type_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_general_accused_dec = {
		priority = 96

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_regular_purge_general_accused_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_conspiracy_in_the_academy_dec = {
		priority = 95

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_regular_purge_conspiracy_in_the_academy_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_anti_saboteur_campaign_dec = {
		priority = 94

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_regular_purge_anti_saboteur_campaign_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_general_accuses_general_dec = {
		priority = 93

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_regular_purge_general_accuses_general_effect = yes
		}
	}

	SOV_DEBUG_trigger_great_purge_moscow_trial_dec = {
		priority = 89

		icon = eng_trade_unions_support

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_great_purge_moscow_trial_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_advisor_accused_dec = {
		priority = 83

		icon = eng_trade_unions_support

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_regular_purge_advisor_accused_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_civil_servants_dec = {
		priority = 82

		icon = eng_trade_unions_support

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_regular_purge_civil_servants_purged_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_nkvd_dec = {
		priority = 81

		icon = eng_trade_unions_support

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_regular_purge_nkvd_effect = yes
		}
	}



	SOV_DEBUG_trigger_great_purge_trial_of_the_admirals_dec = {
		priority = 79

		icon = generic_naval

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_great_purge_trial_of_the_admirals_effect = yes
		}
	}

	SOV_DEBUG_trigger_great_purge_junior_naval_officers_effect = {
		priority = 78

		icon = generic_naval

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_great_purge_junior_naval_officers_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_admiral_accused_dec = {
		priority = 73

		icon = generic_naval

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_regular_purge_admiral_accused_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_naval_conspiracy_in_the_academys_dec = {
		priority = 72

		icon = generic_naval

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_regular_purge_naval_conspiracy_in_the_academy_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_naval_anti_saboteur_campaign_dec = {
		priority = 71

		icon = generic_naval

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_regular_purge_naval_anti_saboteur_campaign_effect = yes
		}
	}




	SOV_DEBUG_trigger_great_purge_airforce_chiefs_dec = {
		priority = 69

		icon = generic_air

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_great_purge_airforce_chiefs_effect = yes
		}
	}

	SOV_DEBUG_trigger_great_purge_airforce_design_bureau_dissolved_dec = {
		priority = 68

		icon = generic_air

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_great_purge_design_bureau_dissolved_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_airforce_conspiracy_in_the_academys_dec = {
		priority = 62

		icon = generic_air

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_regular_purge_airforce_conspiracy_in_the_academy_effect = yes
		}
	}

	SOV_DEBUG_trigger_regular_purge_airforce_anti_saboteur_campaign_dec = {
		priority = 61

		icon = generic_air

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_trigger_regular_purge_airforce_anti_saboteur_campaign_effect = yes
		}
	}



	SOV_DEBUG_low_paranoia_increase_dec = {
		priority = 6

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_low_increase_effect = yes
		}
	}

	SOV_DEBUG_medium_paranoia_increase_dec = {
		priority = 5

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_medium_increase_effect = yes
		}
	}

	SOV_DEBUG_high_paranoia_increase_dec = {
		priority = 4

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_high_increase_effect = yes
		}
	}

	SOV_DEBUG_low_paranoia_decrease_dec = {
		priority = 3

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_low_decrease_effect = yes
		}
	}

	SOV_DEBUG_medium_paranoia_decrease_dec = {
		priority = 2

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_medium_decrease_effect = yes
		}
	}

	SOV_DEBUG_high_paranoia_decrease_dec = {
		priority = 1

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_high_decrease_effect = yes
		}
	}

	SOV_DEBUG_show_all_purged_portraits = {
		priority = 1

		icon = eng_ally_imperialist_coup

		ai_will_do = {
			base = 0
		}

		allowed = {
			always = yes
		}

		available = {
			always = yes
		}

		visible = {
			is_debug = yes
		}

		days_re_enable = 1

		cost = 0

		complete_effect = {
			#Custom
			set_variable = { SOV.SOV_paranoia_photo_zinovyev = 8 }
			set_variable = { SOV.SOV_paranoia_photo_radek = 9 }
			set_variable = { SOV.SOV_paranoia_photo_bukharin = 10 }
			set_variable = { SOV.SOV_paranoia_photo_trotsky = 11 }
			set_variable = { SOV.SOV_paranoia_photo_tukhachevsky = 12 }

			#Generic
			set_variable = { SOV_paranoia_portrait_index = 1 }
			set_temp_variable = { i = 0 }
			while_loop_effect = {
				limit = {
					check_variable = { i = 12 compare = less_than }
				}
				set_temp_variable = { SOV_generic_portrait_frame = SOV_paranoia_portrait_index }
				if = { #There are 6 portraits and 12 slots, so second round of generic portraits
					limit = {
						check_variable = { SOV_paranoia_portrait_index = 6 compare = greater_than }
					}
					subtract_from_temp_variable = { SOV_generic_portrait_frame = 6 }
				}
				add_to_temp_variable = { SOV_generic_portrait_frame = 1 }
				#log = "Final FRAME is [?SOV_generic_portrait_frame]"

				add_to_array = {
					array = SOV_paranoia_generic_portraits_array
					value = SOV_generic_portrait_frame
					index = SOV_paranoia_portrait_index
				}

				add_to_variable = { SOV_paranoia_portrait_index = 1 }
				add_to_temp_variable = { i = 1 }
				#log = "New index is [?SOV_paranoia_portrait_index]"
			}
		}
	}
}

########  ########   #######  ########     ###     ######      ###    ##    ## ########     ###        ######     ###    ##     ## ########     ###    ####  ######   ##    ##
##     ## ##     ## ##     ## ##     ##   ## ##   ##    ##    ## ##   ###   ## ##     ##   ## ##      ##    ##   ## ##   ###   ### ##     ##   ## ##    ##  ##    ##  ###   ##
##     ## ##     ## ##     ## ##     ##  ##   ##  ##         ##   ##  ####  ## ##     ##  ##   ##     ##        ##   ##  #### #### ##     ##  ##   ##   ##  ##        ####  ##
########  ########  ##     ## ########  ##     ## ##   #### ##     ## ## ## ## ##     ## ##     ##    ##       ##     ## ## ### ## ########  ##     ##  ##  ##   #### ## ## ##
##        ##   ##   ##     ## ##        ######### ##    ##  ######### ##  #### ##     ## #########    ##       ######### ##     ## ##        #########  ##  ##    ##  ##  ####
##        ##    ##  ##     ## ##        ##     ## ##    ##  ##     ## ##   ### ##     ## ##     ##    ##    ## ##     ## ##     ## ##        ##     ##  ##  ##    ##  ##   ###
##        ##     ##  #######  ##        ##     ##  ######   ##     ## ##    ## ########  ##     ##     ######  ##     ## ##     ## ##        ##     ## ####  ######   ##    ##


SOV_propaganda_campaigns = {
	SOV_debug_unlock_slot = {
		priority = 59

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				check_variable = { SOV_poster_left_icon_frame = SOV_propaganda_locked_slot_index }
				check_variable = { SOV_poster_center_icon_frame = SOV_propaganda_locked_slot_index }
				check_variable = { SOV_poster_right_icon_frame = SOV_propaganda_locked_slot_index }
			}
		}

		visible = {
			OR = {
				check_variable = { SOV_poster_left_icon_frame = SOV_propaganda_locked_slot_index }
				check_variable = { SOV_poster_center_icon_frame = SOV_propaganda_locked_slot_index }
				check_variable = { SOV_poster_right_icon_frame = SOV_propaganda_locked_slot_index }
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}

	SOV_debug_MAKE_CAMPAIGNS_FASTER_HERE = {
		priority = 51

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = {
				has_country_flag = SOV_debug_fast_propaganda_campaigns_flag
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_fast_propaganda_campaigns_flag
			set_variable = { SOV_default_propaganda_campaign_duration = 5 }
			set_variable = { SOV_default_propaganda_campaign_cooldown = 1 }
			set_variable = { SOV_default_propaganda_campaign_old_days = 2 }
		}
	}

	SOV_debug_REGULAR_CAMPAIGN_DURATION_HERE = {
		priority = 51

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			has_country_flag = SOV_debug_fast_propaganda_campaigns_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_debug_fast_propaganda_campaigns_flag
			set_variable = { SOV_default_propaganda_campaign_duration = 180 }
			set_variable = { SOV_default_propaganda_campaign_cooldown = 90 }
			set_variable = { SOV_default_propaganda_campaign_old_days = 150 }
		}
	}

	SOV_debug_UNLOCK_ALL_CAMPAIGNS = {
		priority = 50

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = {
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_unlock_propaganda_campaigns_flag
		}
	}

	SOV_propaganda_motherland_calls = { # ID = 3
		priority = 2

		icon = GFX_decision_generic_military

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				surrender_progress > 0.4
			}
			modifier = {
				add = 10
				has_manpower < 500000
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_motherland_calls_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_motherland_calls_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_motherland_calls_cost > 90 } #Shouldn't even consider doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_motherland_calls_cost

		modifier = {
			weekly_manpower = 1000
			training_time_factor = -0.2
			minimum_training_level = -0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 3 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 3 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			# Okay this looks dumb I know but it's better than having to change 24 operations each time we feel like tweaking how propaganda campaign's cost escalates
			set_variable = { SOV_propaganda_cost = SOV_propaganda_motherland_calls_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_motherland_calls_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_victory_at_hand = { # ID = 4
		priority = 3

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 1
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_victory_at_hand_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_victory_at_hand_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_victory_at_hand_cost > 90 } #Shouldn't even consider doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			surrender_progress < 0.01
			any_enemy_country = {
				is_major = yes
				ROOT = {
					any_controlled_state = {
						is_core_of = PREV.PREV
					}
				}
			}
			SOV_propaganda_victory_at_hand_available = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_victory_at_hand_cost

		modifier = {
			army_speed_factor = 0.1
			org_loss_when_moving = -0.05
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 4 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 4 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_victory_at_hand_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_victory_at_hand_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_defend_moscow = { # ID = 5
		priority = 4

		icon = GFX_decision_generic_fortification

		ai_will_do = {
			base = 500
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_defend_moscow_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_defend_moscow_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_defend_moscow_cost > 90 } #Shouldn't even consider doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			controls_state = 219 #Moscow
			219 = {
				any_neighbor_state = {
					controller = {
						has_war_with = ROOT
					}
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_defend_moscow_cost

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 5 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes

			219 = { #Moscow
				add_dynamic_modifier = { modifier = SOV_defend_moscow scope = SOV }
				every_neighbor_state = {
					add_dynamic_modifier = { modifier = SOV_defend_moscow scope = SOV }
				}
			}
			custom_effect_tooltip = SOV_propaganda_defend_moscow_state_modifier_tt
		}

		remove_effect = {
			219 = { #Moscow
				remove_dynamic_modifier = { modifier = SOV_defend_moscow }
				every_neighbor_state = {
					remove_dynamic_modifier = { modifier = SOV_defend_moscow }
				}
			}

			set_variable = { SOV_propaganda_campaign_to_remove = 5 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_defend_moscow_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_defend_moscow_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_fight_to_the_last = { # ID = 6
		priority = 5

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0.75
			modifier = {
				factor = 10
				OR = {
					AND = {
						stockpile_ratio = {
							archetype = train_equipment
							ratio < 0.75
						}
						stockpile_ratio = {
							archetype = motorized_equipment
							ratio < 0.75
						}
					}
					stockpile_ratio = {
						archetype = convoy
						ratio < 5
					}
				}
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_fight_to_the_last_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_fight_to_the_last_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_fight_to_the_last_cost > 90 } #Shouldn't even consider doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_war = yes
			surrender_progress > 0.1
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown


		cost = SOV_propaganda_fight_to_the_last_cost

		modifier = {
			army_org_factor = 0.05
			out_of_supply_factor = -0.1
			no_supply_grace = 70
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 6 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 6 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_fight_to_the_last_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_fight_to_the_last_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_hit_of_hammer = { # ID = 7
		priority = 6

		icon = generic_factory

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_hit_of_hammer_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_hit_of_hammer_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_hit_of_hammer_cost > 90 } #Shouldn't even consider doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_hit_of_hammer_cost

		modifier = {
			industrial_capacity_factory = 0.05
			industrial_capacity_dockyard = 0.05
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 7 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 7 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_hit_of_hammer_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_hit_of_hammer_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_transport = { # ID = 8
		priority = 7

		icon = GFX_decision_generic_train

		ai_will_do = {
			base = 0.7
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_transport_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_transport_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_transport_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_transport_cost

		modifier = {
			production_speed_supply_node_factor = 0.15
			production_speed_rail_way_factor = 0.15
			supply_consumption_factor = -0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 8 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 8 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_transport_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_transport_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_oil_for_the_motherland = { # ID = 9
		priority = 8

		icon = oil

		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				fuel_ratio < 0.5
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_oil_for_the_motherland_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_oil_for_the_motherland_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_oil_for_the_motherland_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			any_controlled_state = {
				has_resources_amount = {
					resource = oil
					amount > 0
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_oil_for_the_motherland_cost

		modifier = {
			fuel_gain_factor = 0.3
			army_fuel_consumption_factor = -0.25
			air_fuel_consumption_factor = -0.25
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 9 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 9 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_oil_for_the_motherland_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_oil_for_the_motherland_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_more_metal = { # ID = 10
		priority = 9

		icon = steel

		ai_will_do = {
			base = 0.8
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_more_metal_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_more_metal_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_more_metal_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			any_controlled_state = {
				OR = {
					has_resources_amount = {
						resource = steel
						amount > 0
					}
					has_resources_amount = {
						resource = aluminium
						amount > 0
					}
					has_resources_amount = {
						resource = chromium
						amount > 0
					}
					has_resources_amount = {
						resource = tungsten
						amount > 0
					}
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_more_metal_cost

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 10 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			hidden_effect = {
				capital_scope = {
					set_variable = { SOV_steel_bonus = 0 }
					set_variable = { SOV_aluminium_bonus = 0 }
					set_variable = { SOV_chromium_bonus = 0 }
					set_variable = { SOV_tungsten_bonus = 0 }
				}
				every_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = steel
							amount > 0
						}
					}
					capital_scope = { add_to_variable = { SOV_steel_bonus = 10 } }
				}

				every_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = aluminium
							amount > 0
						}
					}
					capital_scope = { add_to_variable = { SOV_aluminium_bonus = 10 } }
				}

				every_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = chromium
							amount > 0
						}
					}
					capital_scope = { add_to_variable = { SOV_chromium_bonus = 10 } }
				}

				every_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = tungsten
							amount > 0
						}
					}
					capital_scope = { add_to_variable = { SOV_tungsten_bonus = 10 } }
				}
			}

			capital_scope = {
				add_dynamic_modifier = { modifier = SOV_increased_metals_production }
			}

			custom_effect_tooltip = SOV_propaganda_more_metal_tt
		}

		remove_effect = {
			capital_scope = {
				remove_dynamic_modifier = { modifier = SOV_increased_metals_production }
			}

			set_variable = { SOV_propaganda_campaign_to_remove = 10 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_more_metal_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_more_metal_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_high_yield = { # ID = 11
		priority = 10

		icon = GFX_decision_generic_consumer_goods

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_high_yield_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_high_yield_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_high_yield_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			surrender_progress < 0.15
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge4
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_high_yield_cost

		modifier = {
			consumer_goods_factor = -0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 11 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 11 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_high_yield_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_high_yield_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_for_the_motherland = { # ID = 12
		priority = 11

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				has_manpower < 300000
			}
			modifier = {
				factor = 2
				OR = {
					command_power < 25
					has_army_experience < 25
				}
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_for_the_motherland_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_for_the_motherland_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_for_the_motherland_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge9
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_for_the_motherland_cost

		modifier = {
			experience_gain_army_factor = 0.15
			command_power_gain_mult = 0.15
			breakthrough_factor = 0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 12 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 12 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_for_the_motherland_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_for_the_motherland_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_heroes_forward = { # ID = 13
		priority = 12

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_heroes_forward_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_heroes_forward_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_heroes_forward_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_unit_leader = {
				is_assigned = yes
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge9
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_heroes_forward_cost

		modifier = {
			army_morale_factor = 0.07
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 13 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes

			custom_effect_tooltip = SOV_propaganda_heroes_forward_tt

			set_temp_variable = { temp_targets_index = 0 }
			while_loop_effect = {
				limit = {
					check_variable = { temp_targets_index = 5 compare = less_than }
				}
				if = {
					limit = {
						any_unit_leader = {
							is_assigned = yes
							NOT = { has_trait = trait_SOV_determined }
						}
					}
					random_unit_leader = {
						limit = {
							is_assigned = yes
							NOT = { has_trait = trait_SOV_determined }
						}
						add_timed_unit_leader_trait = {
							trait = trait_SOV_determined
							days = @DAYS_DETERMINED #Does not seem to support vars
						}
					}
				}
				else = {
					random_unit_leader = {
						limit = {
							NOT = { has_trait = trait_SOV_determined }
						}
						add_timed_unit_leader_trait = {
							trait = trait_SOV_determined
							days = @DAYS_DETERMINED #Does not seem to support vars
						}
					}
				}
				add_to_temp_variable = { temp_targets_index = 1 }
			}
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 13 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_heroes_forward_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_heroes_forward_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	# SOV_propaganda_anti_capitalism = { # ID = 14
	# 	priority = 13

	# 	icon = eng_propaganda_campaigns

	# 	ai_will_do = {
	# 		base = 1
	# 		modifier = {
	# 			factor = 5
	# 			any_enemy_country = {
	# 				is_major = yes
	# 				has_government = democratic
	# 			}
	# 		}
	# 		modifier = {
	# 			factor = 0.1
	# 			check_variable = { SOV_propaganda_anti_capitalism_cost > 30 } #Less likely to do it a third time
	# 		}
	# 		modifier = {
	# 			factor = 0.1
	# 			check_variable = { SOV_propaganda_anti_capitalism_cost > 45 } #Even less likely to do it a fourth time
	# 		}
	# 		modifier = {
	# 			factor = 0
	# 			check_variable = { SOV_propaganda_anti_capitalism_cost > 90 } #Shouldn't even considered doing it a fifth time
	# 		}
	# 	}

	# 	allowed = { 
	# 		original_tag = SOV
	# 	}

	# 	available = {
	# 		SOV_propaganda_poster_slot_available = yes

	# 		any_country = {
	# 			has_government = democratic
	# 			OR = {
	# 				tag = ENG
	# 				tag = FRA
	# 				tag = GER
	# 				tag = ITA
	# 				tag = USA
	# 				tag = JAP
	# 			}
	# 		}
	# 	}

	# 	visible = {
	# 		OR = {
	# 			has_completed_focus = SOV_anti_capitalist_policies
	# 			has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
	# 		}
	# 	}

	# 	days_remove = SOV_default_propaganda_campaign_duration

	# 	days_re_enable = SOV_default_propaganda_campaign_cooldown

	# 	cost = SOV_propaganda_anti_capitalism_cost

	# 	modifier = {
	# 		opinion_gain_monthly_same_ideology_factor = 0.25
	# 		democratic_acceptance = -100
	# 		democratic_drift = -0.1
	# 	}

	# 	complete_effect = {
	# 		set_variable = { SOV_new_propaganda_campaign = 14 }
	# 		SOV_pick_propaganda_campaign_slot_effect = yes
	# 		SOV_achievement_propaganda_counter_effect = yes
	# 		custom_effect_tooltip = SOV_propaganda_anti_capitalism_tt
	# 		set_variable = { SOV_anti_capitalist_target = 0 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 		#Choose the "most powerful" capitalist country based on num of factories
	# 		if = {
	# 			limit = {
	# 				ENG = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_max_factories = ENG.num_of_factories }
	# 			set_variable = { SOV_anti_capitalist_target = 1 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				FRA = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_max_factories = FRA.num_of_factories }
	# 			set_variable = { SOV_anti_capitalist_target = 2 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				GER = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_max_factories = GER.num_of_factories }
	# 			set_variable = { SOV_anti_capitalist_target = 3 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				ITA = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_max_factories = ITA.num_of_factories }
	# 			set_variable = { SOV_anti_capitalist_target = 4 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				USA = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_max_factories = USA.num_of_factories }
	# 			set_variable = { SOV_anti_capitalist_target = 5 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				JAP = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_max_factories = JAP.num_of_factories }
	# 			set_variable = { SOV_anti_capitalist_target = 6 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 		}

	# 		if = {
	# 			limit = {
	# 				FRA = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_compare_factories = FRA.num_of_factories }
	# 			if = { #FIRST Vs FRA
	# 				limit = {
	# 					check_variable = { SOV_max_factories < SOV_compare_factories }
	# 				}
	# 				set_temp_variable = { SOV_max_factories = FRA.num_of_factories }
	# 				set_variable = { SOV_anti_capitalist_target = 2 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 			}
	# 		}

	# 		if = {
	# 			limit = {
	# 				GER = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_compare_factories = GER.num_of_factories }
	# 			if = { #WINNER Vs GER
	# 				limit = {
	# 					check_variable = { SOV_max_factories < SOV_compare_factories }
	# 				}
	# 				set_temp_variable = { SOV_max_factories = GER.num_of_factories }
	# 				set_variable = { SOV_anti_capitalist_target = 3 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 			}
	# 		}

	# 		if = {
	# 			limit = {
	# 				ITA = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_compare_factories = ITA.num_of_factories }
	# 			if = { #WINNER Vs ITA
	# 				limit = {
	# 					check_variable = { SOV_max_factories < SOV_compare_factories }
	# 				}
	# 				set_temp_variable = { SOV_max_factories = ITA.num_of_factories }
	# 				set_variable = { SOV_anti_capitalist_target = 4 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 			}
	# 		}

	# 		if = {
	# 			limit = {
	# 				USA = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_compare_factories = USA.num_of_factories }
	# 			if = { #WINNER Vs USA
	# 				limit = {
	# 					check_variable = { SOV_max_factories < SOV_compare_factories }
	# 				}
	# 				set_temp_variable = { SOV_max_factories = USA.num_of_factories }
	# 				set_variable = { SOV_anti_capitalist_target = 5 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 			}
	# 		}

	# 		if = {
	# 			limit = {
	# 				JAP = { has_government = democratic }
	# 			}
	# 			set_temp_variable = { SOV_compare_factories = JAP.num_of_factories }
	# 			if = { #WINNER Vs JAP
	# 				limit = {
	# 					check_variable = { SOV_max_factories < SOV_compare_factories }
	# 				}
	# 				set_temp_variable = { SOV_max_factories = JAP.num_of_factories }
	# 				set_variable = { SOV_anti_capitalist_target = 6 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
	# 			}
	# 		}

	# 		if = {
	# 			limit = {
	# 				check_variable = { SOV_anti_capitalist_target = 1 }
	# 			}
	# 			add_timed_idea = {
	# 				idea = SOV_anti_capitalist_campaign_eng
	# 				days = SOV_default_propaganda_campaign_duration
	# 			}
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				check_variable = { SOV_anti_capitalist_target = 2 }
	# 			}
	# 			add_timed_idea = {
	# 				idea = SOV_anti_capitalist_campaign_fra
	# 				days = SOV_default_propaganda_campaign_duration
	# 			}
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				check_variable = { SOV_anti_capitalist_target = 3 }
	# 			}
	# 			add_timed_idea = {
	# 				idea = SOV_anti_capitalist_campaign_ger
	# 				days = SOV_default_propaganda_campaign_duration
	# 			}
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				check_variable = { SOV_anti_capitalist_target = 4 }
	# 			}
	# 			add_timed_idea = {
	# 				idea = SOV_anti_capitalist_campaign_ita
	# 				days = SOV_default_propaganda_campaign_duration
	# 			}
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				check_variable = { SOV_anti_capitalist_target = 5 }
	# 			}
	# 			add_timed_idea = {
	# 				idea = SOV_anti_capitalist_campaign_usa
	# 				days = SOV_default_propaganda_campaign_duration
	# 			}
	# 		}
	# 		else_if = {
	# 			limit = {
	# 				check_variable = { SOV_anti_capitalist_target = 6 }
	# 			}
	# 			add_timed_idea = {
	# 				idea = SOV_anti_capitalist_campaign_jap
	# 				days = SOV_default_propaganda_campaign_duration
	# 			}
	# 		}
	# 	}

	# 	remove_effect = {
	# 		set_variable = { SOV_propaganda_campaign_to_remove = 14 }
	# 		SOV_reset_propaganda_campaign_slot_effect = yes

	# 		set_variable = { SOV_propaganda_cost = SOV_propaganda_anti_capitalism_cost }
	# 		SOV_increase_propaganda_campaign_cost_effect = yes
	# 		set_variable = { SOV_propaganda_anti_capitalism_cost = SOV_propaganda_cost }
	# 		clear_variable = SOV_propaganda_cost

	# 		custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
	#		hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
	# 	}
	# }

	SOV_propaganda_anti_fascism = { # ID = 15
		priority = 14

		icon = GFX_decision_generic_GER_flag

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				any_enemy_country = {
					is_major = yes
					has_government = democratic
				}
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_anti_fascism_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_anti_fascism_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_anti_fascism_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			any_country = {
				has_government = fascism
				OR = {
					tag = ENG
					tag = FRA
					tag = GER
					tag = ITA
					tag = USA
					tag = JAP
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_spain_big
				has_completed_focus = SOV_spain_small
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_anti_fascism_cost

		modifier = {
			opinion_gain_monthly_same_ideology_factor = 0.25
			fascism_acceptance = -100
			fascism_drift = -0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 15 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			custom_effect_tooltip = SOV_propaganda_anti_fascism_tt
			set_variable = { SOV_anti_fascist_target = 0 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
			#Choose the "most powerful" fascist country based on num of factories
			if = {
				limit = {
					ENG = { has_government = fascism }
				}
				set_temp_variable = { SOV_max_factories = ENG.num_of_factories }
				set_variable = { SOV_anti_fascist_target = 1 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
			}
			else_if = {
				limit = {
					FRA = { has_government = fascism }
				}
				set_temp_variable = { SOV_max_factories = FRA.num_of_factories }
				set_variable = { SOV_anti_fascist_target = 2 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
			}
			else_if = {
				limit = {
					GER = { has_government = fascism }
				}
				set_temp_variable = { SOV_max_factories = GER.num_of_factories }
				set_variable = { SOV_anti_fascist_target = 3 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
			}
			else_if = {
				limit = {
					ITA = { has_government = fascism }
				}
				set_temp_variable = { SOV_max_factories = ITA.num_of_factories }
				set_variable = { SOV_anti_fascist_target = 4 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
			}
			else_if = {
				limit = {
					USA = { has_government = fascism }
				}
				set_temp_variable = { SOV_max_factories = USA.num_of_factories }
				set_variable = { SOV_anti_fascist_target = 5 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
			}
			else_if = {
				limit = {
					JAP = { has_government = fascism }
				}
				set_temp_variable = { SOV_max_factories = JAP.num_of_factories }
				set_variable = { SOV_anti_fascist_target = 6 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
			}

			if = {
				limit = {
					FRA = { has_government = fascism }
				}
				set_temp_variable = { SOV_compare_factories = FRA.num_of_factories }
				if = { #FIRST Vs FRA
					limit = {
						check_variable = { SOV_max_factories < SOV_compare_factories }
					}
					set_temp_variable = { SOV_max_factories = FRA.num_of_factories }
					set_variable = { SOV_anti_fascist_target = 2 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
				}
			}

			if = {
				limit = {
					GER = { has_government = fascism }
				}
				set_temp_variable = { SOV_compare_factories = GER.num_of_factories }
				multiply_temp_variable = { SOV_compare_factories = 2 }
				if = { #WINNER Vs GER
					limit = {
						check_variable = { SOV_max_factories < SOV_compare_factories }
					}
					set_temp_variable = { SOV_max_factories = GER.num_of_factories }
					set_variable = { SOV_anti_fascist_target = 3 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
				}
			}

			if = {
				limit = {
					ITA = { has_government = fascism }
				}
				set_temp_variable = { SOV_compare_factories = ITA.num_of_factories }
				if = { #WINNER Vs ITA
					limit = {
						check_variable = { SOV_max_factories < SOV_compare_factories }
					}
					set_temp_variable = { SOV_max_factories = ITA.num_of_factories }
					set_variable = { SOV_anti_fascist_target = 4 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
				}
			}

			if = {
				limit = {
					USA = { has_government = fascism }
				}
				set_temp_variable = { SOV_compare_factories = USA.num_of_factories }
				if = { #WINNER Vs USA
					limit = {
						check_variable = { SOV_max_factories < SOV_compare_factories }
					}
					set_temp_variable = { SOV_max_factories = USA.num_of_factories }
					set_variable = { SOV_anti_fascist_target = 5 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
				}
			}

			if = {
				limit = {
					JAP = { has_government = fascism }
				}
				set_temp_variable = { SOV_compare_factories = JAP.num_of_factories }
				if = { #WINNER Vs JAP
					limit = {
						check_variable = { SOV_max_factories < SOV_compare_factories }
					}
					set_temp_variable = { SOV_max_factories = JAP.num_of_factories }
					set_variable = { SOV_anti_fascist_target = 6 } #1=ENG / 2=FRA / 3=GER / 4=ITA / 5=USA / 6=JAP
				}
			}

			if = {
				limit = {
					check_variable = { SOV_anti_fascist_target = 1 }
				}
				add_timed_idea = {
					idea = SOV_anti_fascist_campaign_eng
					days = SOV_default_propaganda_campaign_duration
				}
			}
			else_if = {
				limit = {
					check_variable = { SOV_anti_fascist_target = 2 }
				}
				add_timed_idea = {
					idea = SOV_anti_fascist_campaign_fra
					days = SOV_default_propaganda_campaign_duration
				}
			}
			else_if = {
				limit = {
					check_variable = { SOV_anti_fascist_target = 3 }
				}
				add_timed_idea = {
					idea = SOV_anti_fascist_campaign_ger
					days = SOV_default_propaganda_campaign_duration
				}
			}
			else_if = {
				limit = {
					check_variable = { SOV_anti_fascist_target = 4 }
				}
				add_timed_idea = {
					idea = SOV_anti_fascist_campaign_ita
					days = SOV_default_propaganda_campaign_duration
				}
			}
			else_if = {
				limit = {
					check_variable = { SOV_anti_fascist_target = 5 }
				}
				add_timed_idea = {
					idea = SOV_anti_fascist_campaign_usa
					days = SOV_default_propaganda_campaign_duration
				}
			}
			else_if = {
				limit = {
					check_variable = { SOV_anti_fascist_target = 6 }
				}
				add_timed_idea = {
					idea = SOV_anti_fascist_campaign_jap
					days = SOV_default_propaganda_campaign_duration
				}
			}
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 15 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_anti_fascism_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_anti_fascism_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_treacherous_enemy = { # ID = 16
		priority = 15

		icon = GFX_decision_onmap_recruit_operative

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				agency_upgrade_number > 4
			}
			modifier = {
				factor = 0
				has_intelligence_agency = no
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_treacherous_enemy_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_treacherous_enemy_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_treacherous_enemy_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_war_mobilisation
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
			has_dlc = "La Resistance"
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_treacherous_enemy_cost

		modifier = {
			encryption = 2
			enemy_operative_detection_chance_factor = 0.75
			enemy_operative_capture_chance_factor = 0.75
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 16 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 16 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_treacherous_enemy_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_treacherous_enemy_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_do_not_blab = { # ID = 17
		priority = 16

		icon = GFX_decision_onmap_recruit_operative

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				has_war = yes
			}
			modifier = {
				factor = 5
				any_enemy_country = {
					is_major = yes
				}
			}
			modifier = {
				factor = 0
				has_intelligence_agency = no
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_do_not_blab_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_do_not_blab_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_do_not_blab_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_completed_focus = SOV_order_270
		}

		visible = {
			OR = {
				has_completed_focus = SOV_war_mobilisation
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_do_not_blab_cost

		modifier = {
			army_intel_to_others = -15
			navy_intel_to_others = -15
			airforce_intel_to_others = -15
			civilian_intel_to_others = -15
			foreign_subversive_activites = -0.20
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 17 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 17 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_do_not_blab_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_do_not_blab_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_sweep_scum_out = { # ID = 18
		priority = 17

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0.5
			modifier = {
				add = 100
				has_country_flag = { flag = SOV_great_patriotic_war_flag days > 365 }
			}
			modifier = {
				factor = 0.1
				surrender_progress > 0.75
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_sweep_scum_out_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_sweep_scum_out_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_sweep_scum_out_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_enemy_country = {
				any_controlled_state = {
					is_core_of = ROOT
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_share10
				has_completed_focus = SOV_light_broad_research_efforts
				has_completed_focus = SOV_military_research
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_sweep_scum_out_cost

		modifier = {
			army_core_attack_factor = 0.05
			army_core_defence_factor = 0.05
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 18 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 18 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_sweep_scum_out_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_sweep_scum_out_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_knowledge = { # ID = 19
		priority = 18

		icon = GFX_decision_generic_research

		ai_will_do = {
			base = 5
			modifier = {
				factor = 10
				has_war = no
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_knowledge_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_knowledge_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_knowledge_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_share10
				has_completed_focus = SOV_light_broad_research_efforts
				has_completed_focus = SOV_military_research
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_knowledge_cost

		modifier = {
			research_speed_factor = 0.05
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 19 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 19 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_knowledge_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_knowledge_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_builders_of_communism = { # ID = 20
		priority = 19

		icon = GFX_decision_generic_research

		ai_will_do = {
			base = 2
			modifier = {
				factor = 10
				has_war = no
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_builders_of_communism_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_builders_of_communism_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_builders_of_communism_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_army_04
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_builders_of_communism_cost

		modifier = {
			research_speed_factor = 0.02
			communism_drift = 0.1
			opinion_gain_monthly_same_ideology_factor = 0.25
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 20 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			custom_effect_tooltip = SOV_propaganda_builders_of_communism_effect_tt
			if = {
				limit = {
					any_country = {
						is_subject_of = ROOT
					}
				}
				hidden_effect = {
					every_country = {
						limit = {
							is_subject_of = ROOT
						}
						country_event = NSB_soviet_propaganda_capmaign_events.1
					}
				}
			}
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 20 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_builders_of_communism_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_builders_of_communism_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_glory_to_partisans = { # ID = 21
		priority = 20

		icon = GFX_decision_revolt

		ai_will_do = {
			base = 0.1
			modifier = {
				factor = 10
				agency_upgrade_number > 4
				any_enemy_country = {
					SOV_is_major_not_original_sov = yes
				}
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_glory_to_partisans_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_glory_to_partisans_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_glory_to_partisans_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_enemy_country = {
				NOT = { original_tag = SOV }
				any_controlled_state = {
					is_core_of = ROOT
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_order_270
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_glory_to_partisans_cost

		modifier = {
			operation_targeted_sabotage_resources_outcome = 0.5
			operation_targeted_sabotage_infrastructure_outcome = 0.5
			operation_targeted_sabotage_industry_outcome = 0.5
			operation_make_resistance_contacts_outcome = 0.5
			operation_boost_resistance_outcome = 0.5
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 21 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 21 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_glory_to_partisans_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_glory_to_partisans_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_death_to_invaders = { # ID = 22
		priority = 21

		icon = generic_scorched_earth

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				any_enemy_country = {
					SOV_is_major_not_original_sov = yes
				}
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_death_to_invaders_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_death_to_invaders_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_death_to_invaders_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			date > 1942.10.01
			any_enemy_country = {
				NOT = { original_tag = SOV }
				any_controlled_state = {
					is_core_of = ROOT
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_order_270
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_death_to_invaders_cost

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 22 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			set_global_flag = SOV_propaganda_death_to_invaders_active_flag #This is used to dynamically add/remove the state modifier when a state is gained/lost by SOV

			if = {
				limit = {
					any_enemy_country = {
						any_controlled_state = {
							is_core_of = ROOT
						}
					}
				}
				every_enemy_country = {
					limit = {
						any_controlled_state = {
							is_core_of = ROOT
						}
					}
					every_controlled_state = {
						limit = {
							is_core_of = ROOT
						}
						add_dynamic_modifier = { modifier = SOV_invaders_must_die }
					}
				}
			}
			else = {
				custom_effect_tooltip = SOV_propaganda_death_to_invaders_no_invaders_tt
			}
			custom_effect_tooltip = SOV_propaganda_death_to_invaders_state_modifier_tt
		}

		remove_effect = {
			every_owned_state = {
				limit = {
					has_dynamic_modifier = { modifier = SOV_invaders_must_die }
				}
				remove_dynamic_modifier = { modifier = SOV_invaders_must_die }
			}

			clr_global_flag = SOV_propaganda_death_to_invaders_active_flag

			set_variable = { SOV_propaganda_campaign_to_remove = 22 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_death_to_invaders_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_death_to_invaders_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	SOV_propaganda_stalin = { # ID = 23
		priority = 22

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_stalin_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_stalin_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_stalin_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_pol_purge14
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_stalin_cost

		modifier = {
			political_power_factor = 0.1
			command_power_gain_mult = 0.1
			war_support_weekly = 0.01
			communism_drift = 0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 23 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 23 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_stalin_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_stalin_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
		}
	}

	# SOV_propaganda_rebuild_to_glory = { # ID = 24
	# 	priority = 23

	# 	icon = eng_propaganda_campaigns

	# 	ai_will_do = {
	# 		base = 3
	# 		modifier = {
	# 			factor = 2
	# 			has_war = no
	# 		}
	# 		modifier = {
	# 			factor = 0.1
	# 			check_variable = { SOV_propaganda_rebuild_to_glory_cost > 30 } #Less likely to do it a third time
	# 		}
	# 		modifier = {
	# 			factor = 0.1
	# 			check_variable = { SOV_propaganda_rebuild_to_glory_cost > 45 } #Even less likely to do it a fourth time
	# 		}
	# 		modifier = {
	# 			factor = 0
	# 			check_variable = { SOV_propaganda_rebuild_to_glory_cost > 90 } #Shouldn't even considered doing it a fifth time
	# 		}
	# 	}

	# 	allowed = { 
	# 		original_tag = SOV
	# 	}

	# 	available = {
	# 		SOV_propaganda_poster_slot_available = yes
	# 	}

	# 	visible = {
	# 		OR = {
	# 			has_completed_focus = SOV_restoration_and_development
	# 			has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
	# 		}
	# 	}

	# 	days_remove = SOV_default_propaganda_campaign_duration

	# 	days_re_enable = SOV_default_propaganda_campaign_cooldown

	# 	cost = SOV_propaganda_rebuild_to_glory_cost

	# 	modifier = {
	# 		industry_repair_factor = 0.15
	# 		production_speed_buildings_factor = 0.05
	# 	}

	# 	complete_effect = {
	# 		set_variable = { SOV_new_propaganda_campaign = 24 }
	# 		SOV_pick_propaganda_campaign_slot_effect = yes
	# 		SOV_achievement_propaganda_counter_effect = yes
	# 	}

	# 	remove_effect = {
	# 		set_variable = { SOV_propaganda_campaign_to_remove = 24 }
	# 		SOV_reset_propaganda_campaign_slot_effect = yes

	# 		set_variable = { SOV_propaganda_cost = SOV_propaganda_rebuild_to_glory_cost }
	# 		SOV_increase_propaganda_campaign_cost_effect = yes
	# 		set_variable = { SOV_propaganda_rebuild_to_glory_cost = SOV_propaganda_cost }
	# 		clear_variable = SOV_propaganda_cost

	# 		custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
	#		hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
	# 	}
	# }

	 SOV_propaganda_peace = { # ID = 25
	 	priority = 24

	 	icon = eng_propaganda_campaigns

	 	ai_will_do = {
	 		base = 2
	 		modifier = {
	 			factor = 0
	 			any_country = {
	 				SOV = { is_justifying_wargoal_against = PREV }
	 			}
	 		}
	 		modifier = {
	 			factor = 0.1
	 			check_variable = { SOV_propaganda_peace_cost > 30 } #Less likely to do it a third time
	 		}
	 		modifier = {
	 			factor = 0.1
	 			check_variable = { SOV_propaganda_peace_cost > 45 } #Even less likely to do it a fourth time
	 		}
	 		modifier = {
	 			factor = 0
	 			check_variable = { SOV_propaganda_peace_cost > 90 } #Shouldn't even considered doing it a fifth time
	 		}
	 	}

	 	allowed = { 
	 		original_tag = SOV
	 	}

	 	available = {
			has_completed_focus = SOV_pol_purge9
	 		SOV_propaganda_poster_slot_available = yes

	 		has_war = no
	 		NOT = { has_country_flag = SOV_punished_for_breaking_flag }
	 	}

	 	visible = {
	 	}

	 	days_remove = SOV_default_propaganda_campaign_duration

	 	days_re_enable = SOV_default_propaganda_campaign_cooldown

	 	cost = SOV_propaganda_peace_cost

	 	modifier = {
	 		stability_weekly = 0.001
	 		opinion_gain_monthly_factor = 0.25
	 		enemy_justify_war_goal_time = 0.50
	 		industrial_capacity_factory = -0.1
	 	}

	 	complete_effect = {
	 		set_variable = { SOV_new_propaganda_campaign = 25 }
	 		SOV_pick_propaganda_campaign_slot_effect = yes
	 		SOV_achievement_propaganda_counter_effect = yes

	 		set_country_flag = SOV_propaganda_peace_active_flag
	 	}

	 	remove_effect = {

	 		clr_country_flag = SOV_propaganda_peace_active_flag

			set_variable = { SOV_propaganda_campaign_to_remove = 25 }
			SOV_reset_propaganda_campaign_slot_effect = yes

	 		set_variable = { SOV_propaganda_cost = SOV_propaganda_peace_cost }
	 		SOV_increase_propaganda_campaign_cost_effect = yes
	 		set_variable = { SOV_propaganda_peace_cost = SOV_propaganda_cost }
	 		clear_variable = SOV_propaganda_cost

	 		custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
	 	}
	 }

	 SOV_propaganda_happy_life = { # ID = 26
	 	priority = 25

	 	icon = eng_propaganda_campaigns

	 	ai_will_do = {
	 		base = 3
			modifier = {
	 			factor = 2
	 			has_war = no
			}
	 		modifier = {
	 			factor = 10
	 			has_stability < 0.4
	 		}
	 		modifier = {
	 			factor = 10
	 			has_stability < 0.2
	 		}
	 		modifier = {
	 			factor = 0.1
	 			check_variable = { SOV_propaganda_happy_life_cost > 30 } #Less likely to do it a third time
	 		}
	 		modifier = {
	 			factor = 0.1
	 			check_variable = { SOV_propaganda_happy_life_cost > 45 } #Even less likely to do it a fourth time
	 		}
	 		modifier = {
	 			factor = 0
	 			check_variable = { SOV_propaganda_happy_life_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
	 	}

	 	allowed = { 
	 		original_tag = SOV
	 	}

	 	available = {
			has_completed_focus = SOV_pol_purge11
	 		SOV_propaganda_poster_slot_available = yes

	 		surrender_progress < 0.01
	 	}

	 	visible = {
		}

	 	days_remove = SOV_default_propaganda_campaign_duration

	 	days_re_enable = SOV_default_propaganda_campaign_cooldown

	 	cost = SOV_propaganda_happy_life_cost

	 	modifier = {
	 		stability_weekly = 0.001
			war_support_weekly = -0.001
	 		compliance_growth = 0.05
	 		resistance_decay = 0.05
			resistance_damage_to_garrison = 0.15
	 		consumer_goods_factor = 0.1
	 	}

	 	complete_effect = {
	 		set_variable = { SOV_new_propaganda_campaign = 26 }
	 		SOV_pick_propaganda_campaign_slot_effect = yes
	 		SOV_achievement_propaganda_counter_effect = yes
	 	}

	 	remove_effect = {
	 		set_variable = { SOV_propaganda_campaign_to_remove = 26 }
	 		SOV_reset_propaganda_campaign_slot_effect = yes

	 		set_variable = { SOV_propaganda_cost = SOV_propaganda_happy_life_cost }
	 		SOV_increase_propaganda_campaign_cost_effect = yes
	 		set_variable = { SOV_propaganda_happy_life_cost = SOV_propaganda_cost }
	 		clear_variable = SOV_propaganda_cost

	 		custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
			hidden_effect = { FROM = { country_event = { id = generic.26 hours = 1} } }
	 	}
	 }
}



 ######    #######   ######  ########  ########   #######  ##    ## ######## ##    ## ########  ######  ######## ########   #######  ##    ## 
##    ##  ##     ## ##    ## ##     ## ##     ## ##     ##  ##  ##  ##       ##   ##     ##    ##    ##    ##    ##     ## ##     ##  ##  ##  
##        ##     ## ##       ##     ## ##     ## ##     ##   ####   ##       ##  ##      ##    ##          ##    ##     ## ##     ##   ####   
##   #### ##     ##  ######  ########  ########  ##     ##    ##    ######   #####       ##     ######     ##    ########  ##     ##    ##    
##    ##  ##     ##       ## ##        ##   ##   ##     ##    ##    ##       ##  ##      ##          ##    ##    ##   ##   ##     ##    ##    
##    ##  ##     ## ##    ## ##        ##    ##  ##     ##    ##    ##       ##   ##     ##    ##    ##    ##    ##    ##  ##     ##    ##    
 ######    #######   ######  ##        ##     ##  #######     ##    ######## ##    ##    ##     ######     ##    ##     ##  #######     ##    



# SOV_gosproyektstroy_decision_category = {
# 	SOV_gosproyektstroy_bring_foreign_experts = {
# 		priority = 50

# 		icon = hol_attract_foreign_investors

# 		ai_will_do = {
# 			base = 10
# 		}

# 		targets = { USA ENG GER JAP }

# 		#target_trigger = {
# 		#	FROM = { SOV_is_valid_subject = yes }
# 		#}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_idea = SOV_gosproyektstroy_1
# 			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
# 			FROM = {
# 				has_opinion = {
# 					target = ROOT
# 					value > 29
# 				}
# 				SOV_is_valid_subject = yes
# 				NOT = { has_war_with = ROOT }
# 			}
# 		}

# 		days_remove = 180

# 		fire_only_once = yes

# 		visible = {
# 			has_idea = SOV_gosproyektstroy_1
# 			NOT = { has_country_flag = SOV_gosproyektstroy_level_2_flag }
# 			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
# 			country_exists = FROM
# 			NOT = { has_war_with = FROM }
# 			FROM = { SOV_is_valid_subject = yes }
# 		}

# 		cost = 50

# 		modifier = {
# 			civilian_factory_use = 3
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
# 		}

# 		remove_effect = {
# 			if = {
# 				limit = {
# 					FROM = { tag = USA }
# 				}
# 				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_1
# 					add_idea = SOV_gosproyektstroy_2_usa
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					FROM = { tag = ENG }
# 				}
# 				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_1
# 					add_idea = SOV_gosproyektstroy_2_eng
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					FROM = { tag = GER }
# 				}
# 				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_1
# 					add_idea = SOV_gosproyektstroy_2_ger
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					FROM = { tag = JAP }
# 				}
# 				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_1
# 					add_idea = SOV_gosproyektstroy_2_jap
# 				}
# 			}

# 			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
# 		}
# 	}

# 	SOV_gosproyektstroy_focus_civ = {
# 		priority = 13

# 		icon = generic_construction

# 		ai_will_do = {
# 			base = 0.75
# 			modifier = {
# 				factor = 0
# 				OR = {
# 					has_war = yes
# 					any_other_country = {
# 						OR ={
# 							is_justifying_wargoal_against = ROOT
# 							ROOT = { is_justifying_wargoal_against = PREV }
# 						}
# 					}
# 				}
# 			}
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 			OR = {
# 				has_idea = SOV_gosproyektstroy_2_usa #Done like this for tooltip purposes
# 				hidden_trigger = {
# 					OR = {
# 						has_idea = SOV_gosproyektstroy_2_eng
# 						has_idea = SOV_gosproyektstroy_2_ger
# 						has_idea = SOV_gosproyektstroy_2_jap
# 					}
# 				}
# 			}
# 			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
# 		}

# 		days_remove = 180

# 		fire_only_once = yes

# 		visible = {
# 			OR = {
# 				has_idea = SOV_gosproyektstroy_2_usa
# 				has_idea = SOV_gosproyektstroy_2_eng
# 				has_idea = SOV_gosproyektstroy_2_ger
# 				has_idea = SOV_gosproyektstroy_2_jap
# 			}
# 			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
# 		}

# 		cost = 50

# 		modifier = {
# 			civilian_factory_use = 3
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
# 		}

# 		remove_effect = {
# 			set_country_flag = { flag = SOV_gosproyektstroy_level_3_flag value = 1 } #CIV
# 			if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_usa
# 					add_idea = SOV_gosproyektstroy_3_usa_civ
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_eng
# 					add_idea = SOV_gosproyektstroy_3_eng_civ
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_ger
# 					add_idea = SOV_gosproyektstroy_3_ger_civ
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_jap
# 					add_idea = SOV_gosproyektstroy_3_jap_civ
# 				}
# 			}
			
# 			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
# 		}
# 	}

# 	SOV_gosproyektstroy_focus_mil = {
# 		priority = 12

# 		icon = generic_industry

# 		ai_will_do = {
# 			base = 1
# 			modifier = {
# 				factor = 5
# 				OR = {
# 					has_war = yes
# 					any_other_country = {
# 						OR ={
# 							is_justifying_wargoal_against = ROOT
# 							ROOT = { is_justifying_wargoal_against = PREV }
# 						}
# 					}
# 				}
# 			}
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 			OR = {
# 				has_idea = SOV_gosproyektstroy_2_usa #Done like this for tooltip purposes
# 				hidden_trigger = {
# 					OR = {
# 						has_idea = SOV_gosproyektstroy_2_eng
# 						has_idea = SOV_gosproyektstroy_2_ger
# 						has_idea = SOV_gosproyektstroy_2_jap
# 					}
# 				}
# 			}
# 			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
# 		}

# 		days_remove = 180

# 		fire_only_once = yes

# 		visible = {
# 			OR = {
# 				has_idea = SOV_gosproyektstroy_2_usa
# 				has_idea = SOV_gosproyektstroy_2_eng
# 				has_idea = SOV_gosproyektstroy_2_ger
# 				has_idea = SOV_gosproyektstroy_2_jap
# 			}
# 			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
# 		}

# 		cost = 50

# 		modifier = {
# 			civilian_factory_use = 3
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
# 		}

# 		remove_effect = {
# 			set_country_flag = { flag = SOV_gosproyektstroy_level_3_flag value = 2 } #MIL
# 			if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_usa
# 					add_idea = SOV_gosproyektstroy_3_usa_mil
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_eng
# 					add_idea = SOV_gosproyektstroy_3_eng_mil
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_ger
# 					add_idea = SOV_gosproyektstroy_3_ger_mil
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_jap
# 					add_idea = SOV_gosproyektstroy_3_jap_mil
# 				}
# 			}
			
# 			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
# 		}
# 	}

# 	SOV_gosproyektstroy_focus_dock = {
# 		priority = 11

# 		icon = GFX_decision_generic_naval

# 		ai_will_do = {
# 			base = 0.5
# 			modifier = {
# 				factor = 2
# 				has_completed_focus = SOV_pc_of_the_ussr_navy
# 				has_completed_focus = SOV_expand_shipbuilding_plants
# 			}
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 			OR = {
# 				has_idea = SOV_gosproyektstroy_2_usa #Done like this for tooltip purposes
# 				hidden_trigger = {
# 					OR = {
# 						has_idea = SOV_gosproyektstroy_2_eng
# 						has_idea = SOV_gosproyektstroy_2_ger
# 						has_idea = SOV_gosproyektstroy_2_jap
# 					}
# 				}
# 			}
# 			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
# 		}

# 		days_remove = 180

# 		fire_only_once = yes

# 		visible = {
# 			OR = {
# 				has_idea = SOV_gosproyektstroy_2_usa
# 				has_idea = SOV_gosproyektstroy_2_eng
# 				has_idea = SOV_gosproyektstroy_2_ger
# 				has_idea = SOV_gosproyektstroy_2_jap
# 			}
# 			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
# 		}

# 		cost = 50

# 		modifier = {
# 			civilian_factory_use = 3
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
# 		}

# 		remove_effect = {
# 			set_country_flag = { flag = SOV_gosproyektstroy_level_3_flag value = 3 } #DOCK
# 			if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_usa
# 					add_idea = SOV_gosproyektstroy_3_usa_dock
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_eng
# 					add_idea = SOV_gosproyektstroy_3_eng_dock
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_ger
# 					add_idea = SOV_gosproyektstroy_3_ger_dock
# 				}
# 			}
# 			else_if = {
# 				limit = {
# 					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
# 				}
# 				swap_ideas = {
# 					remove_idea = SOV_gosproyektstroy_2_jap
# 					add_idea = SOV_gosproyektstroy_3_jap_dock
# 				}
# 			}
			
# 			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
# 		}
# 	}
# }



########  #######  ########  ######## ####  ######   ##    ##    ########   #######  ##       #### ######## ####  ######   ######  
##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##     ## ##     ## ##        ##     ##     ##  ##    ## ##    ## 
##       ##     ## ##     ## ##        ##  ##        ####  ##    ##     ## ##     ## ##        ##     ##     ##  ##       ##       
######   ##     ## ########  ######    ##  ##   #### ## ## ##    ########  ##     ## ##        ##     ##     ##  ##        ######  
##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##        ##     ## ##        ##     ##     ##  ##             ## 
##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##        ##     ## ##        ##     ##     ##  ##    ## ##    ## 
##        #######  ##     ## ######## ####  ######   ##    ##    ##         #######  ######## ####    ##    ####  ######   ######  


###############################
### COVERT SUPPORT FOR POUM ###
###############################

# SOV_soviet_aid_to_poum_decision_category = {
# 	SOV_organize_covert_depots_poum = { #DECISION AVAILABLE PRIOR TO THE POUM SPLIT
# 		priority = 50

# 		icon = ger_military_buildup

# 		ai_will_do = {
# 			base = 30
# 			modifier = {
# 				factor = 0.01
# 				has_war = yes
# 				command_power < 50
# 			}
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_global_flag = spanish_civil_war
# 		}

# 		visible = {
# 			NOT = { has_global_flag = SPR_anarchist_uprising_flag }
# 			NOT = { has_global_flag = scw_over }
# 			is_subject = no
# 		}

# 		cancel_if_not_visible = yes

# 		fire_only_once = yes

# 		days_remove = SOV_default_poum_days

# 		custom_cost_trigger = {
# 			command_power > 74
# 		}
# 		custom_cost_text = decision_cost_CP_75

# 		complete_effect = {
# 			hidden_effect = {
# 				add_command_power = -75
# 			}
# 		}

# 		remove_effect = {
# 			set_global_flag = SOV_poum_has_covert_depots_from_soviets_flag
# 			effect_tooltip = {
# 				custom_effect_tooltip = SOV_organize_covert_depots_poum_tt
# 				SPC = {
# 					add_equipment_to_stockpile = {
# 						type = infantry_equipment
# 						amount = 6000
# 						producer = ROOT
# 					}
# 					add_equipment_to_stockpile = {
# 						type = support_equipment
# 						amount = 600
# 						producer = ROOT
# 					}
# 					add_equipment_to_stockpile = {
# 						type = artillery_equipment
# 						amount = 120
# 						producer = ROOT
# 					}
# 					add_equipment_to_stockpile = {
# 						type = motorized_equipment
# 						amount = 60
# 						producer = ROOT
# 					}
# 					add_equipment_to_stockpile = {
# 						type = train_equipment
# 						amount = 6
# 						producer = ROOT
# 					}
# 					add_opinion_modifier = {
# 						target = ROOT
# 						modifier = SOV_sent_us_weapons
# 					}
# 				}
# 			}
# 			custom_effect_tooltip = decision_only_once_tt
# 		}
# 	}

# 	SOV_send_infantry_equipment_poum = {
# 		priority = 50

# 		icon = generic_industry

# 		ai_will_do = {
# 			base = 1.2
# 			modifier = {
# 				factor = 0.1
# 				has_war = yes
# 				has_equipment = { infantry_equipment < 10000 }
# 			}
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 		}

# 		visible = {
# 			SPR_scw_in_progress = yes
# 			country_exists = SPC
# 			#SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
# 			NOT = { has_war_with = SPC }
# 		}

# 		days_remove = SOV_default_poum_days

# 		days_re_enable = SOV_default_poum_cd

# 		custom_cost_trigger = {
# 			command_power > 24
# 		}
# 		custom_cost_text = decision_cost_CP_25			

# 		complete_effect = {
# 			hidden_effect = {
# 				add_command_power = -25
# 			}
# 		}

# 		remove_effect = {	
# 			effect_tooltip = {
# 				SPC = {
# 					add_equipment_to_stockpile = {
# 						type = infantry_equipment
# 						amount = 6000
# 						producer = FROM
# 					}
# 					add_opinion_modifier = {
# 						target = ROOT
# 						modifier = SOV_sent_us_weapons
# 					}
# 				}
# 			}
# 			hidden_effect = {
# 				SPC = {
# 					country_event = { id = NSB_soviet_foreign_politics_events.250 hours = 2 }
# 					add_ai_strategy = {
# 						type = befriend
# 						id = SOV		
# 						value = 5
# 					}
# 				}
# 			}
# 			custom_effect_tooltip = SOV_default_poum_cd_tt
# 		}
# 	}

# 	SOV_organize_popular_brigades_poum = {
# 		priority = 50

# 		icon = generic_nationalism

# 		ai_will_do = {
# 			base = 1.2
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 		}

# 		visible = {
# 			SPR_scw_in_progress = yes
# 			country_exists = SPC
# 			#SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
# 			NOT = { has_war_with = SPC }
# 		}

# 		days_remove = SOV_default_poum_days

# 		days_re_enable = SOV_default_poum_cd

# 		custom_cost_trigger = {
# 			command_power > 24
# 			has_political_power > 24
# 		}
# 		custom_cost_text = decision_cost_CP_25_pp_25	

# 		complete_effect = {
# 			hidden_effect = {
# 				add_command_power = -25
# 				add_political_power = -25
# 			}
# 		}

# 		remove_effect = {
# 			effect_tooltip = {
# 				SPC ={
# 					division_template = {
# 						name = "International Marxist Brigades"
# 						is_locked = yes
# 						priority = 1
# 						template_counter = 14
# 						regiments = {
# 							infantry = { x = 0 y = 0 }
# 							infantry = { x = 0 y = 1 }
# 							infantry = { x = 1 y = 0 }
# 							infantry = { x = 1 y = 1 }
# 						}
# 					}
# 					capital_scope = {
# 						create_unit = { 
# 							division = "name = \"International Marxist Brigade\" division_template = \"International Marxist Brigades\" start_experience_factor = 0.1 start_equipment_factor = 1.0" owner = SPC count = 6
# 						}
# 					}
# 				}
# 			}
# 			hidden_effect = {
# 				SPC = {
# 					country_event = { id = NSB_soviet_spanish_civil_war.2 hours = 1 }
# 					add_ai_strategy = {
# 						type = befriend
# 						id = SOV		
# 						value = 5
# 					}
# 				}
# 			}
# 			custom_effect_tooltip = SOV_default_poum_cd_tt
# 		}
# 	}

# 	SOV_send_elite_commandos_poum = {
# 		priority = 50

# 		icon = generic_military

# 		ai_will_do = {
# 			base = 1.2
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 		}

# 		visible = {
# 			SPR_scw_in_progress = yes
# 			country_exists = SPC
# 			#SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
# 			NOT = { has_war_with = SPC }
# 		}

# 		days_remove = SOV_default_poum_days

# 		days_re_enable = SOV_long_poum_cd

# 		custom_cost_trigger = {
# 			command_power > 49
# 		}
# 		custom_cost_text = decision_cost_CP_50	

# 		complete_effect = {
# 			hidden_effect = {
# 				add_command_power = -50
# 			}
# 		}

# 		remove_effect = {
# 			effect_tooltip = {
# 				SPC ={
# 					add_timed_idea = {
# 						idea = SOV_soviet_commandos_poum
# 						days = 180
# 					}
# 					division_template = {
# 						name = "Soviet Special Brigades"
# 						is_locked = yes
# 						priority = 1
# 						template_counter = 02
# 						regiments = {
# 							infantry = { x = 0 y = 0 }
# 							infantry = { x = 0 y = 1 }
# 							infantry = { x = 0 y = 2 }
# 							infantry = { x = 1 y = 0 }
# 							infantry = { x = 1 y = 1 }
# 							infantry = { x = 1 y = 2 }
# 						}
# 						support = {
# 							engineer = { x = 0 y = 0 }
# 							recon = { x = 0 y = 1 }
# 						}
# 					}
# 					capital_scope = {
# 						create_unit = { 
# 							division = "name = \"Soviet Special Brigade\" division_template = \"Soviet Special Brigades\" start_experience_factor = 0.7 start_equipment_factor = 1.0" owner = SPC count = 2
# 						}
# 					}
# 				}
# 			}
# 			hidden_effect = {
# 				SPC = {
# 					country_event = { id = NSB_soviet_spanish_civil_war.3 hours = 1 }
# 					add_ai_strategy = {
# 						type = befriend
# 						id = SOV		
# 						value = 5
# 					}
# 				}
# 				if = {
# 					limit = {
# 						NOT = { has_country_flag = SOV_send_elite_commandos_poum_flag }
# 					}
# 					set_country_flag = SOV_send_elite_commandos_poum_flag
# 				}
# 			}
# 			custom_effect_tooltip = SOV_long_poum_cd_tt
# 		}
# 	}

# 	SOV_organize_popular_speeches_poum = {
# 		priority = 50

# 		icon = eng_propaganda_campaigns

# 		ai_will_do = {
# 			base = 1.2
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 		}

# 		visible = {
# 			SPR_scw_in_progress = yes
# 			country_exists = SPC
# 			#SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
# 			NOT = { has_war_with = SPC }
# 		}

# 		days_remove = SOV_default_poum_days

# 		days_re_enable = SOV_default_poum_cd

# 		cost = 25

# 		remove_effect = {
# 			effect_tooltip = {
# 				SPC ={
# 					add_timed_idea = {
# 						idea = SOV_popular_speeches_poum
# 						days = 180
# 					}
# 					division_template = {
# 						name = "International Marxist Brigades"
# 						is_locked = yes
# 						priority = 1
# 						template_counter = 14
# 						regiments = {
# 							infantry = { x = 0 y = 0 }
# 							infantry = { x = 0 y = 1 }
# 							infantry = { x = 1 y = 0 }
# 							infantry = { x = 1 y = 1 }
# 						}
# 					}
# 					capital_scope = {
# 						create_unit = { 
# 							division = "name = \"International Marxist Brigade\" division_template = \"International Marxist Brigades\" start_experience_factor = 0.1 start_equipment_factor = 1.0" owner = SPC count = 2
# 						}
# 					}
# 				}
# 			}
# 			hidden_effect = {
# 				SPC = {
# 					country_event = { id = NSB_soviet_spanish_civil_war.4 hours = 1 }
# 					add_ai_strategy = {
# 						type = befriend
# 						id = SOV		
# 						value = 5
# 					}
# 				}
# 			}
# 			custom_effect_tooltip = SOV_default_poum_cd_tt
# 		}
# 	}

# 	SOV_infiltrate_stalinist_plans_in_spain_poum = {
# 		priority = 50

# 		icon = eng_propaganda_campaigns

# 		ai_will_do = {
# 			base = 1.2
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_completed_focus = SOV_send_military_advisors_to_spain
# 			NOT = { has_completed_focus = SOV_coup_detat }
# 			has_country_flag = SOV_send_elite_commandos_poum_flag
# 		}

# 		visible = {
# 			SPR_scw_in_progress = yes
# 			country_exists = SPC
# 			country_exists = SPD
# 			NOT = { has_completed_focus = SOV_coup_detat }
# 			#SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
# 			NOT = { has_war_with = SPC }
# 			NOT = { is_in_faction_with = SPD }
# 		}

# 		cancel_if_not_visible = yes

# 		days_remove = SOV_default_poum_days

# 		fire_only_once = yes

# 		custom_cost_trigger = {
# 			command_power > 49
# 			has_political_power > 14
# 		}
# 		custom_cost_text = decision_cost_CP_50_pp_15

# 		remove_effect = {
# 			effect_tooltip = {
# 				SPC ={
# 					add_timed_idea = {
# 						idea = SOV_agents_in_the_stalinist_command_poum
# 						days = 365
# 					}
# 				}
# 			}
# 			hidden_effect = {
# 				SPC = {
# 					country_event = { id = NSB_soviet_spanish_civil_war.5 hours = 1 }
# 					add_ai_strategy = {
# 						type = befriend
# 						id = SOV		
# 						value = 5
# 					}
# 				}
# 			}
# 			custom_effect_tooltip = decision_only_once_tt
# 		}
# 	}
# }



##############
### BALTIC ###
##############




##############
### NORDIC ###
##############



##############
### BALKAN ###
##############




###################
### MIDDLE EAST ###
###################

# SOV_diplomacy_middle_east_decision_category = {
	


# 	SOV_preparations_for_operation_countenance = { # Mission for SOV (or SOV + ENG) to prepare the invasion of Iran
# 		priority = 50

# 		icon = hol_draw_up_staff_plans

# 		allowed = {
# 			OR = {
# 				original_tag = SOV
# 				original_tag = ENG
# 			}
# 		}

# 		available =  {
# 			hidden_trigger = { always = no }
# 		}

# 		activation = {
# 			always = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				is_subject = yes
# 				NOT = { country_exists = PER }
# 				is_in_faction_with = PER
# 				has_war_with = PER
# 				has_guaranteed = PER
# 				has_non_aggression_pact_with = PER
# 				AND = {
# 					has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
# 					SOV = { has_war_with = ENG }
# 				}
# 			}
# 		}

# 		is_good = yes

# 		days_mission_timeout = SOV.SOV_operation_countenance_preparation_days

# 		timeout_effect = {
# 			if = { #SOV invading alone
# 				limit = {
# 					NOT = { has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag }
# 				}
# 				declare_war_on = {
# 					target = PER
# 					type = puppet_wargoal_focus
# 				}
# 			}
# 			else = { #SOV + ENG invading together
# 				if = { #SOV triggers the actual effects
# 					limit = {
# 						original_tag = SOV
# 					}
# 					declare_war_on = {
# 						target = PER
# 						type = puppet_wargoal_focus
# 					}
# 					ENG = {
# 						add_to_war = { targeted_alliance = SOV enemy = PER hostility_reason = asked_to_join single_target_only = yes }
# 					}
# 				}
# 				else = { #ENG only sees a fake
# 					effect_tooltip = {
# 						SOV = {
# 							declare_war_on = {
# 								target = PER
# 								type = puppet_wargoal_focus
# 							}
# 						}
# 						add_to_war = { targeted_alliance = SOV enemy = PER hostility_reason = asked_to_join single_target_only = yes }
# 					}

# 					hidden_effect = { news_event = { id = nsb_news.104 days = 4 random_days = 2 } } #Only ENG sends the news event.
# 				}
# 			}
# 			activate_mission = SOV_operation_countenance
# 			if = { #Activate mission for ENG if joint operation
# 				limit = {
# 					has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
# 				}
# 				ENG = {
# 					activate_mission = SOV_operation_countenance
# 				}
# 			}
# 			custom_effect_tooltip = SOV_preparations_for_operation_countenance_mission_tt

# 			hidden_effect = { #Add all AI strategies
# 				SOV_anglo_soviet_invasion_add_ai_strategies_effect = yes
# 			}
# 		}
# 	}

# 	SOV_operation_countenance = { # Mission for SOV (or SOV + ENG) to capitulate Iran in time, before they seek foreign help
# 		priority = 50

# 		icon = generic_operation

# 		allowed = {
# 			OR = {
# 				original_tag = SOV
# 				original_tag = ENG
# 			}
# 		}

# 		available =  {
# 			PER = { has_capitulated = yes }
# 			all_of_scopes = {
# 				array = SOV_iranian_initial_states
# 				OR = {
# 					is_controlled_by = SOV
# 					any_allied_country = {
# 						controls_state = PREV
# 					}
# 					AND = {
# 						has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
# 						OR = {
# 							is_controlled_by = ENG
# 							ENG = {
# 								any_allied_country = {
# 									controls_state = PREV
# 								}
# 							}
# 						}
# 					}
# 				}
# 			}
# 		}

# 		activation = {
# 			always = no
# 		}

# 		days_mission_timeout = SOV.SOV_operation_countenance_mission_days

# 		timeout_effect = { #FAIL -> Lose some stuff and Iran wants to enter an alliance
# 			add_political_power = -25
# 			add_command_power = -25
# 			add_war_support = -0.05

# 			hidden_effect = { #AI strategies
# 				if = {
# 					limit = {
# 						OR = {
# 							original_tag = SOV
# 							AND = {
# 								original_tag = ENG
# 								has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
# 								NOT = { country_exists = SOV }
# 							}
# 						}
# 					}
# 					SOV_failed_anglo_soviet_invasion_ai_strategies_effect = yes
# 				}
# 			}
# 		}

# 		complete_effect = {
# 			add_command_power = 50
# 			add_war_support = 0.1

# 			effect_tooltip = {
# 				if = { #Soviets alone (or joint but ENG died)
# 					limit = {
# 						OR = {
# 							has_global_flag = SOV_soviet_invasion_of_iran_flag
# 							AND = {
# 								has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
# 								NOT = { country_exists = ENG }
# 							}
# 						}
# 					}
# 					FROM = {
# 						puppet = ROOT #SOV puppet Iran
# 						transfer_state = 419 #Tibriz (AZB)
# 						transfer_state = 420 #Gilan (AZB)
# 						transfer_state = 416 #Khorasan
# 					}
# 					give_resource_rights = { receiver = SOV state = 411 }
# 					give_resource_rights = { receiver = SOV state = 412 }
# 					give_resource_rights = { receiver = SOV state = 413 }
# 				}
# 				else_if = {
# 					limit = {
# 						has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
# 					}
# 					ENG = {
# 						puppet = ROOT #ENG gets to puppet Iran
# 					}
# 					SOV = {
# 						transfer_state = 419 #Tibriz (AZB)
# 						transfer_state = 420 #Gilan (AZB)
# 						transfer_state = 416 #Khorasan
# 					}
# 					FROM = { 
# 						give_resource_rights = { receiver = SOV state = 411 }
# 						give_resource_rights = { receiver = SOV state = 412 }
# 						give_resource_rights = { receiver = ENG state = 413 }
# 						give_military_access = ROOT
# 					}
# 				}
# 			}
# 		}
# 	}
# }



############
### ASIA ###
############


 ######  #### ##    ## ##    ## ####    ###    ##    ##  ######   ####  ######     ########  ##     ## ##     ## ##     ## #### ########  ######  
##    ##  ##  ###   ## ##   ##   ##    ## ##   ###   ## ##    ##  #### ##    ##    ##     ## ##     ## ###   ### ###   ###  ##  ##       ##    ## 
##        ##  ####  ## ##  ##    ##   ##   ##  ####  ## ##         ##  ##          ##     ## ##     ## #### #### #### ####  ##  ##       ##       
 ######   ##  ## ## ## #####     ##  ##     ## ## ## ## ##   #### ##    ######     ##     ## ##     ## ## ### ## ## ### ##  ##  ######    ######  
      ##  ##  ##  #### ##  ##    ##  ######### ##  #### ##    ##             ##    ##     ## ##     ## ##     ## ##     ##  ##  ##             ## 
##    ##  ##  ##   ### ##   ##   ##  ##     ## ##   ### ##    ##       ##    ##    ##     ## ##     ## ##     ## ##     ##  ##  ##       ##    ## 
 ######  #### ##    ## ##    ## #### ##     ## ##    ##  ######         ######     ########   #######  ##     ## ##     ## #### ########  ######  


# SOV_soviet_aid_decision_category = {
# 	SOV_sinkiang_mineral_prospection_mission_dummy = { # Fake "Mission" for Sinkiang so that they can see Soviet progress on this
# 		priority = 50

# 		icon = generic_construction

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available =  {
# 			hidden_trigger = { always = no }
# 		}

# 		activation = {
# 			always = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_is_valid_subject = no
# 				has_war_with = SOV
# 				NOT = { has_full_control_of_state = 617 } #URUMQI
# 				NOT = { has_full_control_of_state = 619 } #YARKAND
# 				SOV = { is_subject = yes }
# 				SOV = { has_capitulated = yes }
# 			}
# 		}

# 		is_good = yes

# 		days_mission_timeout = SOV.SOV_sinkiang_mineral_prospection_days

# 		timeout_effect = {
# 			effect_tooltip = {
# 				619 = { #YARKAND - Minerals and Infra
# 					add_resource = {
# 						type = aluminium
# 						amount = 3
# 					}
# 					add_resource = {
# 						type = chromium
# 						amount = 3
# 					}
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 				}
# 				617 = { #URUMQI
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 				}
# 				# Urumqi - Kashgar
# 				build_railway = {
# 					path = { 4709 4770 7702 4682 7949 2015 }
# 				}

# 				#Supply Hub in Kashgar
# 				619 = {
# 					add_building_construction = {
# 						type = supply_node
# 						level = 1
# 						province = 2015
# 						instant_build = yes
# 					}
# 				}

# 				custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
# 			}
# 		}
# 	}

# 	SOV_sinkiang_oil_prospection_mission_dummy = { # Fake "Mission" for Sinkiang so that they can see Soviet progress on this
# 		priority = 50

# 		icon = generic_construction

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available =  {
# 			hidden_trigger = { always = no }
# 		}

# 		activation = {
# 			always = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_is_valid_subject = no
# 				has_war_with = SOV
# 				NOT = { has_full_control_of_state = 617 } #URUMQI
# 				NOT = { has_full_control_of_state = 618 } #DZUNGARIA
# 				SOV = { is_subject = yes }
# 				SOV = { has_capitulated = yes }
# 			}
# 		}

# 		is_good = yes

# 		days_mission_timeout = SOV.SOV_sinkiang_oil_prospection_days

# 		timeout_effect = {
# 			effect_tooltip = {
# 				618 = { #DZUNGARIA - Minerals, oil and Infra
# 					add_resource = {
# 						type = aluminium
# 						amount = 3
# 					}
# 					add_resource = {
# 						type = tungsten
# 						amount = 3
# 					}
# 					add_resource = {
# 						type = oil
# 						amount = 6
# 					}
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 				}
# 				give_resource_rights = { receiver = SOV state = 618 } # Grant Resource rights to SOV
# 				617 = { #URUMQI - Infra
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 				}
# 				# Urumqi - Altay
# 				build_railway = {
# 					path = { 4709 10674 1783 1844 12737 4823 }
# 				}
# 				#Supply Hub in Altay
# 				618 = {
# 					add_building_construction = {
# 						type = supply_node
# 						level = 1
# 						province = 4823
# 						instant_build = yes
# 					}
# 				}
				
# 				add_ideas = SOV_expanded_exploitation_of_gold_mines
# 				custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
# 			}
# 		}
# 	}

# 	SOV_sinkiang_military_aid_mission_dummy = { # Fake "Mission" for Sinkiang so that they can see Soviet progress on this
# 		priority = 50

# 		icon = generic_military

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available =  {
# 			hidden_trigger = { always = no }
# 		}

# 		activation = {
# 			always = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_is_valid_subject = no
# 				has_war_with = SOV
# 				NOT = { has_full_control_of_state = 617 } #URUMQI
# 				NOT = { has_full_control_of_state = 759 } #KUNLUN SHAN
# 				SOV = { is_subject = yes }
# 				SOV = { has_capitulated = yes }
# 			}
# 		}

# 		is_good = yes

# 		days_mission_timeout = SOV.SOV_sinkiang_military_aid_days

# 		timeout_effect = {
# 			effect_tooltip = {
# 				617 = { #URUMQI - Mil
# 					if = {
# 						limit = {
# 							free_building_slots = {
# 								building = arms_factory
# 								size > 0
# 								include_locked = yes
# 							}
# 						}
# 						add_extra_state_shared_building_slots = 1
# 						add_building_construction = {
# 							type = arms_factory
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 				}
# 				759 = { #KUNLUN SHAN - Infra + Air base + Forts
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 					if = {
# 						limit = {
# 							air_base < 9
# 						}
# 						add_building_construction = {
# 							type = air_base
# 							level = 2
# 							instant_build = yes
# 						}
# 					}
# 					else_if = {
# 						limit = {
# 							air_base < 10
# 						}
# 						add_building_construction = {
# 							type = air_base
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 					add_building_construction = {
# 						type = bunker
# 						level = 1
# 						province = {
# 							id = 10315
# 							id = 2074
# 							id = 1698
# 							id = 4947
# 						}
# 						instant_build = yes
# 					}
# 				}
# 				if = {  #DABANCHENG - Forts
# 					limit = {
# 						has_full_control_of_state = 760
# 					}
# 					760 = {
# 						add_building_construction = {
# 							type = bunker
# 							level = 1
# 							province = {
# 								id = 1838
# 								id = 4843
# 							}
# 							instant_build = yes
# 						}
# 					}
# 				}
# 				add_tech_bonus = {
# 					name = NSB_soviet_foreign_politics_events.278.t
# 					bonus = 1
# 					uses = 2
# 					category = air_equipment
# 				}
# 				air_experience = 50
# 				army_experience = 50
# 				custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
# 			}
# 		}
# 	}

# 	SOV_sinkiang_support_expansion_mission_dummy = { # Fake "Mission" for Sinkiang so that they can see Soviet progress on this
# 		priority = 50

# 		icon = infiltrate_state

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available =  {
# 			hidden_trigger = { always = no }
# 		}

# 		activation = {
# 			always = no
# 		}

# 		cancel_trigger = {
# 			OR = { #Relevant states under Sinkiang control
# 				SOV_is_valid_subject = no
# 				has_war_with = ROOT
# 				NOT = { is_in_faction_with = ROOT }
# 				NOT = { has_full_control_of_state = 604 } #QINGHAI
# 				NOT = { has_full_control_of_state = 755 } #HAIXI
# 				NOT = { has_full_control_of_state = 756 } #JIUQUAN
# 				NOT = { has_full_control_of_state = 754 } #GOLOG
# 				NOT = { has_full_control_of_state = 753 } #GANNAN
# 				NOT = { has_full_control_of_state = 283 } #GANSU
# 				NOT = { has_full_control_of_state = 616 } #NINGXIA
# 			}
# 			SOV = {
# 				OR = {
# 					is_subject = yes
# 					has_capitulated = yes
# 					has_country_flag = SOV_sinkiang_support_expansion_rejected_flag
# 				}
# 			}
# 		}

# 		is_good = yes

# 		days_mission_timeout = SOV.SOV_sinkiang_support_expansion_days

# 		timeout_effect = {
# 			effect_tooltip = {
# 				755 = { #HAIXI - Infra
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 				}
# 				756 = { #JIUQUAN - Infra + Oil
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 					add_resource = {
# 						type = oil
# 						amount = 12
# 					}
# 				}
# 				604 = { #QINGHAI (Golmud) - Infra 
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 					add_building_construction = {
# 						type = bunker
# 						level = 1
# 						province = {
# 							id = 7940
# 						}
# 						instant_build = yes
# 					}
# 				}
# 				754 = { #GOLOG (Lanzhou) - Infra
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 					add_building_construction = {
# 						type = bunker
# 						level = 1
# 						province = {
# 							id = 12732
# 						}
# 						instant_build = yes
# 					}
# 				}
# 				283 = { #GANSU - Infra + Air Base + Fort
# 					if = {
# 						limit = {
# 							infrastructure < 5
# 						}
# 						add_building_construction = {
# 							type = infrastructure
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 					if = {
# 						limit = {
# 							air_base < 9
# 						}
# 						add_building_construction = {
# 							type = air_base
# 							level = 2
# 							instant_build = yes
# 						}
# 					}
# 					else_if = {
# 						limit = {
# 							air_base < 10
# 						}
# 						add_building_construction = {
# 							type = air_base
# 							level = 1
# 							instant_build = yes
# 						}
# 					}
# 					add_building_construction = {
# 						type = bunker
# 						level = 1
# 						province = {
# 							id = 531
# 						}
# 						instant_build = yes
# 					}
# 				}
# 				custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
# 			}
# 		}
# 	}
# }


########  ########  ######   #######  ##     ## ########   ######  ########    ########  ########   #######   ######  ########  ########  ######  ######## ####  #######  ##    ## 
##     ## ##       ##    ## ##     ## ##     ## ##     ## ##    ## ##          ##     ## ##     ## ##     ## ##    ## ##     ## ##       ##    ##    ##     ##  ##     ## ###   ## 
##     ## ##       ##       ##     ## ##     ## ##     ## ##       ##          ##     ## ##     ## ##     ## ##       ##     ## ##       ##          ##     ##  ##     ## ####  ## 
########  ######    ######  ##     ## ##     ## ########  ##       ######      ########  ########  ##     ##  ######  ########  ######   ##          ##     ##  ##     ## ## ## ## 
##   ##   ##             ## ##     ## ##     ## ##   ##   ##       ##          ##        ##   ##   ##     ##       ## ##        ##       ##          ##     ##  ##     ## ##  #### 
##    ##  ##       ##    ## ##     ## ##     ## ##    ##  ##    ## ##          ##        ##    ##  ##     ## ##    ## ##        ##       ##    ##    ##     ##  ##     ## ##   ### 
##     ## ########  ######   #######   #######  ##     ##  ######  ########    ##        ##     ##  #######   ######  ##        ########  ######     ##    ####  #######  ##    ## 


prospect_for_resources = {

}



##     ## ######## ########   ######   ########    ########  ########  ######  ####  ######   ##    ## ######## ########   ######
###   ### ##       ##     ## ##    ##  ##          ##     ## ##       ##    ##  ##  ##    ##  ###   ## ##       ##     ## ##    ##
#### #### ##       ##     ## ##        ##          ##     ## ##       ##        ##  ##        ####  ## ##       ##     ## ##
## ### ## ######   ########  ##   #### ######      ##     ## ######    ######   ##  ##   #### ## ## ## ######   ########   ######
##     ## ##       ##   ##   ##    ##  ##          ##     ## ##             ##  ##  ##    ##  ##  #### ##       ##   ##         ##
##     ## ##       ##    ##  ##    ##  ##          ##     ## ##       ##    ##  ##  ##    ##  ##   ### ##       ##    ##  ##    ##
##     ## ######## ##     ##  ######   ########    ########  ########  ######  ####  ######   ##    ## ######## ##     ##  ######


# SOV_merge_designers_dec_cat = {

# 	SOV_debug_merge_designers_FASTER_AND_FREE = {
# 		priority = 999

# 		icon = eng_ally_imperialist_coup

# 		ai_will_do = {
# 			base = 0
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			always = yes
# 		}

# 		visible = {
# 			OR = {
# 				has_completed_focus = SOV_merge_naval_plants
# 				has_completed_focus = SOV_merge_aircraft_plants
# 			}
# 			NOT = {
# 				has_country_flag = SOV_debug_fast_merge_desingers_flag
# 			}
# 			is_debug = yes
# 		}

# 		cost = 0

# 		complete_effect = {
# 			set_country_flag = SOV_debug_fast_merge_desingers_flag
# 			set_variable = { SOV_merge_designers_cost = 0 }
# 			set_variable = { SOV_merge_designers_time = 3 }
# 		}
# 	}

# 	SOV_debug_merge_designers_BACK_TO_REGULAR_STUFF = {
# 		priority = 999

# 		icon = eng_ally_imperialist_coup

# 		ai_will_do = {
# 			base = 0
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			always = yes
# 		}

# 		visible = {
# 			OR = {
# 				has_completed_focus = SOV_merge_naval_plants
# 				has_completed_focus = SOV_merge_aircraft_plants
# 			}
# 			has_country_flag = SOV_debug_fast_merge_desingers_flag
# 			is_debug = yes
# 		}

# 		cost = 0

# 		complete_effect = {
# 			clr_country_flag = SOV_debug_fast_merge_desingers_flag
# 			set_variable = { SOV_merge_designers_cost = 50 }
# 			set_variable = { SOV_merge_designers_time = 90 }
# 		}
# 	}

# 	#####################
# 	### TANK DESIGNER ###
# 	#####################
	

# 	######################
# 	### NAVAL DESIGNER ###
# 	######################

# 	SOV_merge_ship_plant_1_baltic = {
# 		priority = 24

# 		icon = GFX_decision_generic_merge_plant_ship

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 195 #LENINGRAD
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_ship_designer_any_baltic = yes
# 			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_dlc = "Man the Guns" #Coastal Defense Ships
# 			has_completed_focus = SOV_merge_naval_plants
# 			SOV_has_ship_merged_1_baltic = no
# 			SOV_has_active_ship_designer_any_black_sea = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_ship_designer_any_baltic = no
# 				NOT = { has_full_control_of_state = 195 } #LENINGRAD
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 1
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_ship_plant_1_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_ship_designer_1_baltic_effect = yes
# 			}
# 			if = {
# 				limit = {
# 					NOT = { has_tech = coastal_defense_ships }
# 				}
# 				set_technology = { coastal_defense_ships = 1 } 
# 			}
# 		}
# 	}

# 	SOV_merge_ship_plant_2_baltic = {
# 		priority = 23

# 		icon = GFX_decision_generic_merge_plant_ship

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 195 #LENINGRAD
# 			has_completed_focus = SOV_surface_warfare
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_ship_designer_any_baltic = yes
# 			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_naval_plants
# 			SOV_has_ship_merged_2_baltic = no
# 			NOT = { has_completed_focus = SOV_submarine_warfare }
# 			SOV_has_active_ship_designer_any_black_sea = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_ship_designer_any_baltic = no
# 				NOT = { has_full_control_of_state = 195 } #LENINGRAD
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 1
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_ship_plant_2_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_ship_designer_2_baltic_effect = yes
# 			}
# 		}
# 	}

# 	SOV_merge_ship_plant_3_baltic = {
# 		priority = 22

# 		icon = GFX_decision_generic_merge_plant_ship

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 195 #LENINGRAD
# 			has_completed_focus = SOV_submarine_warfare
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_ship_designer_any_baltic = yes
# 			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_naval_plants
# 			SOV_has_ship_merged_3_baltic = no
# 			NOT = { has_completed_focus = SOV_surface_warfare }
# 			SOV_has_active_ship_designer_any_black_sea = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_ship_designer_any_baltic = no
# 				NOT = { has_full_control_of_state = 195 } #LENINGRAD
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 1
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_ship_plant_3_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_ship_designer_3_baltic_effect = yes
# 			}
# 		}
# 	}

# 	SOV_merge_ship_plant_4_baltic = {
# 		priority = 21

# 		icon = GFX_decision_generic_merge_plant_ship

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 195 #LENINGRAD
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_ship_designer_any_baltic = yes
# 			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_naval_plants
# 			SOV_has_ship_merged_4_baltic = no
# 			SOV_has_active_ship_designer_any_black_sea = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_ship_designer_any_baltic = no
# 				NOT = { has_full_control_of_state = 195 } #LENINGRAD
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 1
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_ship_plant_4_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_ship_designer_4_baltic_effect = yes
# 			}
# 		}
# 	}

# 	SOV_merge_ship_plant_1_black_sea = {
# 		priority = 14

# 		icon = GFX_decision_generic_merge_plant_ship

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 197 #MYKOLAIV
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_ship_designer_any_black_sea = yes
# 			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_dlc = "Man the Guns" #Coastal Defense Ships
# 			has_completed_focus = SOV_merge_naval_plants
# 			SOV_has_ship_merged_1_black_sea = no
# 			SOV_has_active_ship_designer_any_baltic = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_ship_designer_any_black_sea = no
# 				NOT = { has_full_control_of_state = 197 } #MYKOLAIV
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 1
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_ship_plant_1_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_ship_designer_1_black_sea_effect = yes
# 			}
# 			if = {
# 				limit = {
# 					NOT = { has_tech = coastal_defense_ships }
# 				}
# 				set_technology = { coastal_defense_ships = 1 } 
# 			}
# 		}
# 	}

# 	SOV_merge_ship_plant_2_black_sea = {
# 		priority = 13

# 		icon = GFX_decision_generic_merge_plant_ship

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 202 #KIEV
# 			has_completed_focus = SOV_surface_warfare
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_ship_designer_any_black_sea = yes
# 			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_naval_plants
# 			SOV_has_ship_merged_2_black_sea = no
# 			NOT = { has_completed_focus = SOV_submarine_warfare }
# 			SOV_has_active_ship_designer_any_baltic = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_ship_designer_any_black_sea = no
# 				NOT = { has_full_control_of_state = 202 } #KIEV
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 1
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_ship_plant_2_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_ship_designer_2_black_sea_effect = yes
# 			}
# 		}
# 	}

# 	SOV_merge_ship_plant_3_black_sea = {
# 		priority = 12

# 		icon = GFX_decision_generic_merge_plant_ship

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 227 #STALINO
# 			has_completed_focus = SOV_submarine_warfare
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_ship_designer_any_black_sea = yes
# 			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_naval_plants
# 			SOV_has_ship_merged_3_black_sea = no
# 			NOT = { has_completed_focus = SOV_surface_warfare }
# 			SOV_has_active_ship_designer_any_baltic = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_ship_designer_any_black_sea = no
# 				NOT = { has_full_control_of_state = 227 } #STALINO
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 1
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_ship_plant_3_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_ship_designer_3_black_sea_effect = yes
# 			}
# 		}
# 	}

# 	SOV_merge_ship_plant_4_black_sea = {
# 		priority = 11

# 		icon = GFX_decision_generic_merge_plant_ship

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 227 #STALINO
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_ship_designer_any_black_sea = yes
# 			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_naval_plants
# 			SOV_has_ship_merged_4_black_sea = no
# 			SOV_has_active_ship_designer_any_baltic = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_ship_designer_any_black_sea = no
# 				NOT = { has_full_control_of_state = 227 } #STALINO
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 1
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_ship_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_ship_plant_4_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_ship_designer_4_black_sea_effect = yes
# 			}
# 		}
# 	}


# 	#########################
# 	### AIRCRAFT DESIGNER ###
# 	#########################
# 	SOV_merge_aircraft_plant_1 = {
# 		priority = 33

# 		icon = GFX_decision_generic_merge_plant_aircraft

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 251 #KUYBYSHEV
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_aircraft_designer_any = yes
# 			NOT = { has_country_flag = SOV_merge_aircraft_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_aircraft_plants
# 			SOV_has_aircraft_merged_1 = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_aircraft_designer_any = no
# 				NOT = { has_full_control_of_state = 251 } #KUYBYSHEV
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 10
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_aircraft_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_aircraft_plant_1_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_aircraft_designer_1_effect = yes
# 			}
# 		}
# 	}

# 	SOV_merge_aircraft_plant_2 = {
# 		priority = 32

# 		icon = GFX_decision_generic_merge_plant_aircraft

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 219 #MOSCOW
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_aircraft_designer_any = yes
# 			NOT = { has_country_flag = SOV_merge_aircraft_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_aircraft_plants
# 			SOV_has_aircraft_merged_2 = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_aircraft_designer_any = no
# 				NOT = { has_full_control_of_state = 219 } #MOSCOW
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 10
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_aircraft_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_aircraft_plant_2_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_aircraft_designer_2_effect = yes
# 			}

# 			add_resource = {
# 				type = aluminium
# 				amount = 100
# 				state = 219
# 			}
# 		}
# 	}

# 	SOV_merge_aircraft_plant_3 = {
# 		priority = 31

# 		icon = GFX_decision_generic_merge_plant_aircraft

# 		ai_will_do = {
# 			base = 0.5
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			has_full_control_of_state = 808 #RIGA
# 			num_of_civilian_factories_available_for_projects > 0
# 			SOV_has_active_aircraft_designer_any = yes
# 			NOT = { has_country_flag = SOV_merge_aircraft_decision_ongoing_flag }
# 		}

# 		visible = {
# 			has_completed_focus = SOV_merge_aircraft_plants
# 			SOV_has_aircraft_merged_3 = no
# 		}

# 		cancel_trigger = {
# 			OR = {
# 				SOV_has_active_aircraft_designer_any = no
# 				NOT = { has_full_control_of_state = 808 } #RIGA
# 			}
# 		}

# 		cancel_effect = {
# 			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag
# 		}

# 		cost = SOV_merge_designers_cost

# 		days_remove = SOV_merge_designers_time

# 		modifier = {
# 			civilian_factory_use = 10
# 		}

# 		complete_effect = {
# 			set_country_flag = SOV_merge_aircraft_decision_ongoing_flag
# 		}

# 		remove_effect = {
# 			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag

# 			custom_effect_tooltip = SOV_merge_aircraft_plant_3_tt
# 			hidden_effect = {
# 				SOV_upgrade_appropriate_aircraft_designer_3_effect = yes
# 			}
# 		}
# 	}


# 	#########################
# 	### MATERIEL DESIGNER ###
# 	#########################
# 	# SOV_merge_materiel_plant_1_artillery = {
# 	# 	priority = 45

# 	# 	icon = GFX_decision_generic_merge_plant_materiel

# 	# 	ai_will_do = {
# 	# 		base = 0.5
# 	# 	}

# 	# 	allowed = { 
# 	# 		original_tag = SOV
# 	# 	}

# 	# 	available = {
# 	# 		has_full_control_of_state = 398 #PERM
# 	# 		num_of_civilian_factories_available_for_projects > 0
# 	# 		SOV_has_active_materiel_designer_grabin = yes
# 	# 		NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
# 	# 	}

# 	# 	visible = {
# 	# 		has_completed_focus = SOV_merge_tank_and_materiel_plants
# 	# 		SOV_has_materiel_merged_1_artillery = no
# 	# 		SOV_has_active_materiel_designer_tula = no
# 	# 		SOV_has_active_materiel_designer_gaz = no
# 	# 	}

# 	# 	cancel_trigger = {
# 	# 		OR = {
# 	# 			SOV_has_active_materiel_designer_grabin = no
# 	# 			NOT = { has_full_control_of_state = 398 } #PERM
# 	# 		}
# 	# 	}

# 	# 	cancel_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	cost = SOV_merge_designers_cost

# 	# 	days_remove = SOV_merge_designers_time

# 	# 	modifier = {
# 	# 		civilian_factory_use = 1
# 	# 	}

# 	# 	complete_effect = {
# 	# 		set_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	remove_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

# 	# 		custom_effect_tooltip = SOV_merge_materiel_plant_1_artillery_tt
# 	# 		hidden_effect = {
# 	# 			SOV_upgrade_appropriate_materiel_designer_1_artillery_effect = yes
# 	# 		}
# 	# 	}
# 	# }

# 	# SOV_merge_materiel_plant_1_infantry = {
# 	# 	priority = 44

# 	# 	icon = GFX_decision_generic_merge_plant_materiel

# 	# 	ai_will_do = {
# 	# 		base = 0.5
# 	# 	}

# 	# 	allowed = { 
# 	# 		original_tag = SOV
# 	# 	}

# 	# 	available = {
# 	# 		has_full_control_of_state = 399 #IZHEVSK
# 	# 		num_of_civilian_factories_available_for_projects > 0
# 	# 		SOV_has_active_materiel_designer_tula = yes
# 	# 		NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
# 	# 	}

# 	# 	visible = {
# 	# 		has_completed_focus = SOV_merge_tank_and_materiel_plants
# 	# 		SOV_has_materiel_merged_1_infantry = no
# 	# 		SOV_has_active_materiel_designer_grabin = no
# 	# 		SOV_has_active_materiel_designer_gaz = no
# 	# 	}

# 	# 	cancel_trigger = {
# 	# 		OR = {
# 	# 			SOV_has_active_materiel_designer_tula = no
# 	# 			NOT = { has_full_control_of_state = 399 } #IZHEVSK
# 	# 		}
# 	# 	}

# 	# 	cancel_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	cost = SOV_merge_designers_cost

# 	# 	days_remove = SOV_merge_designers_time

# 	# 	modifier = {
# 	# 		civilian_factory_use = 1
# 	# 	}

# 	# 	complete_effect = {
# 	# 		set_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	remove_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

# 	# 		custom_effect_tooltip = SOV_merge_materiel_plant_1_infantry_tt
# 	# 		hidden_effect = {
# 	# 			SOV_upgrade_appropriate_materiel_designer_1_infantry_effect = yes
# 	# 		}
# 	# 	}
# 	# }

# 	# SOV_merge_materiel_plant_1_motorized = {
# 	# 	priority = 43

# 	# 	icon = GFX_decision_generic_merge_plant_materiel

# 	# 	ai_will_do = {
# 	# 		base = 0.5
# 	# 	}

# 	# 	allowed = { 
# 	# 		original_tag = SOV
# 	# 	}

# 	# 	available = {
# 	# 		has_full_control_of_state = 252 #GORKY
# 	# 		num_of_civilian_factories_available_for_projects > 0
# 	# 		SOV_has_active_materiel_designer_gaz = yes
# 	# 		NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
# 	# 	}

# 	# 	visible = {
# 	# 		has_completed_focus = SOV_merge_tank_and_materiel_plants
# 	# 		SOV_has_materiel_merged_1_motorized = no
# 	# 		SOV_has_active_materiel_designer_grabin = no
# 	# 		SOV_has_active_materiel_designer_tula = no
# 	# 	}

# 	# 	cancel_trigger = {
# 	# 		OR = {
# 	# 			SOV_has_active_materiel_designer_gaz = no
# 	# 			NOT = { has_full_control_of_state = 252 } #GORKY
# 	# 		}
# 	# 	}

# 	# 	cancel_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	cost = SOV_merge_designers_cost

# 	# 	days_remove = SOV_merge_designers_time

# 	# 	modifier = {
# 	# 		civilian_factory_use = 1
# 	# 	}

# 	# 	complete_effect = {
# 	# 		set_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	remove_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

# 	# 		custom_effect_tooltip = SOV_merge_materiel_plant_1_motorized_tt
# 	# 		hidden_effect = {
# 	# 			SOV_upgrade_appropriate_materiel_designer_1_motorized_effect = yes
# 	# 		}
# 	# 	}
# 	# }

# 	# SOV_merge_materiel_plant_2 = {
# 	# 	priority = 42

# 	# 	icon = GFX_decision_generic_merge_plant_materiel

# 	# 	ai_will_do = {
# 	# 		base = 0.5
# 	# 	}

# 	# 	allowed = { 
# 	# 		original_tag = SOV
# 	# 	}

# 	# 	available = {
# 	# 		has_full_control_of_state = 227 #STALINO
# 	# 		num_of_civilian_factories_available_for_projects > 0
# 	# 		SOV_has_active_materiel_designer_any = yes
# 	# 		NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
# 	# 	}

# 	# 	visible = {
# 	# 		has_completed_focus = SOV_merge_tank_and_materiel_plants
# 	# 		SOV_has_materiel_merged_2 = no
# 	# 	}

# 	# 	cancel_trigger = {
# 	# 		OR = {
# 	# 			SOV_has_active_materiel_designer_any = no 
# 	# 			NOT = { has_full_control_of_state = 227 } #STALINO
# 	# 		}
# 	# 	}

# 	# 	cancel_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	cost = SOV_merge_designers_cost

# 	# 	days_remove = SOV_merge_designers_time

# 	# 	modifier = {
# 	# 		civilian_factory_use = 1
# 	# 	}

# 	# 	complete_effect = {
# 	# 		set_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	remove_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

# 	# 		custom_effect_tooltip = SOV_merge_materiel_plant_2_tt
# 	# 		hidden_effect = {
# 	# 			SOV_upgrade_appropriate_materiel_designer_2_effect = yes
# 	# 		}
# 	# 	}
# 	# }

# 	# SOV_merge_materiel_plant_3 = {
# 	# 	priority = 41

# 	# 	icon = GFX_decision_generic_merge_plant_materiel

# 	# 	ai_will_do = {
# 	# 		base = 0.5
# 	# 	}

# 	# 	allowed = { 
# 	# 		original_tag = SOV
# 	# 	}

# 	# 	available = {
# 	# 		has_full_control_of_state = 582 #MAGNITOGORSK
# 	# 		num_of_civilian_factories_available_for_projects > 0
# 	# 		SOV_has_active_materiel_designer_any = yes
# 	# 		NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
# 	# 	}

# 	# 	visible = {
# 	# 		has_completed_focus = SOV_merge_tank_and_materiel_plants
# 	# 		SOV_has_materiel_merged_3 = no
# 	# 	}

# 	# 	cancel_trigger = {
# 	# 		OR = {
# 	# 			SOV_has_active_materiel_designer_any = no 
# 	# 			NOT = { has_full_control_of_state = 582 } #MAGNITOGORSK
# 	# 		}
# 	# 	}

# 	# 	cancel_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	cost = SOV_merge_designers_cost

# 	# 	days_remove = SOV_merge_designers_time

# 	# 	modifier = {
# 	# 		civilian_factory_use = 1
# 	# 	}

# 	# 	complete_effect = {
# 	# 		set_country_flag = SOV_merge_materiel_decision_ongoing_flag
# 	# 	}

# 	# 	remove_effect = {
# 	# 		clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

# 	# 		custom_effect_tooltip = SOV_merge_materiel_plant_3_tt
# 	# 		hidden_effect = {
# 	# 			SOV_upgrade_appropriate_materiel_designer_3_effect = yes
# 	# 		}
# 	# 	}
# 	# }
# }



   ###     ######     ###    ########  ######## ##     ## ##    ##     #######  ########     ######   ######  #### ######## ##    ##  ######  ########  ######  
  ## ##   ##    ##   ## ##   ##     ## ##       ###   ###  ##  ##     ##     ## ##          ##    ## ##    ##  ##  ##       ###   ## ##    ## ##       ##    ## 
 ##   ##  ##        ##   ##  ##     ## ##       #### ####   ####      ##     ## ##          ##       ##        ##  ##       ####  ## ##       ##       ##       
##     ## ##       ##     ## ##     ## ######   ## ### ##    ##       ##     ## ######       ######  ##        ##  ######   ## ## ## ##       ######    ######  
######### ##       ######### ##     ## ##       ##     ##    ##       ##     ## ##                ## ##        ##  ##       ##  #### ##       ##             ## 
##     ## ##    ## ##     ## ##     ## ##       ##     ##    ##       ##     ## ##          ##    ## ##    ##  ##  ##       ##   ### ##    ## ##       ##    ## 
##     ##  ######  ##     ## ########  ######## ##     ##    ##        #######  ##           ######   ######  #### ######## ##    ##  ######  ########  ######  





##    ## #### ##       ##          ######## ########   #######  ########  ######  ##    ## ##    ##               ##    ##  #######     ##          ###    ########  
##   ##   ##  ##       ##             ##    ##     ## ##     ##    ##    ##    ## ##   ##   ##  ##                ###   ## ##     ##    ##         ## ##   ##     ## 
##  ##    ##  ##       ##             ##    ##     ## ##     ##    ##    ##       ##  ##     ####                 ####  ## ##     ##    ##        ##   ##  ##     ## 
#####     ##  ##       ##             ##    ########  ##     ##    ##     ######  #####       ##       #######    ## ## ## ##     ##    ##       ##     ## ########  
##  ##    ##  ##       ##             ##    ##   ##   ##     ##    ##          ## ##  ##      ##                  ##  #### ##     ##    ##       ######### ##   ##   
##   ##   ##  ##       ##             ##    ##    ##  ##     ##    ##    ##    ## ##   ##     ##                  ##   ### ##     ##    ##       ##     ## ##    ##  
##    ## #### ######## ########       ##    ##     ##  #######     ##     ######  ##    ##    ##                  ##    ##  #######     ######## ##     ## ##     ## 


SOV_kill_trotsky_dec_cat = {
	SOV_raid_trotskys_villa = {
		priority = 2

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				date > 1940.2.1 #Historical 24/05/1940
				NOT = { has_country_flag = SOV_raided_trotskys_villa_flag }
			}
		}

		target_trigger = {
			FROM = {
				owns_state = 277
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = { infantry_equipment > 49 }
			has_equipment = { support_equipment > 49 }
			NOT = { has_country_flag = SOV_attempting_to_kill_trotsky_flag }
		}

		visible = {
			has_completed_focus = SOV_pol_nkvd6
			OR = {
				has_global_flag = trotsky_exile_mexico
				has_global_flag = flag_mexico_invited_trotsky_to_government
			}
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
		}

		cost = 75

		days_remove = 60

		modifier = {
			political_power_factor = -0.1
		}

		complete_effect = {
			set_country_flag = SOV_attempting_to_kill_trotsky_flag
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -50
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -50
				producer = SOV
			}
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_attempting_to_kill_trotsky_flag
				set_country_flag = SOV_raided_trotskys_villa_flag
				random_list = {
					50 = {
						modifier = {
							factor = 2
							FROM = {
								communism > 0.5
							}
						}
						modifier = {
							factor = 5
							FROM = {
								is_in_faction_with = ROOT
							}
						}
						ROOT = { news_event = { id = nsb_news.100 } } #SUCCESS - Kill Trotsky and swap Trotskyite Plot NS
					}
					50 = {
						modifier = {
							factor = 0
							FROM = {
								is_subject_of = ROOT
							}
						}
						ROOT = { news_event = { id = nsb_news.101 } } #FAILURE - Trotsky still alive
					}
				}
			}
			custom_effect_tooltip = SOV_raid_trotskys_villa_tt
		}
	}

	SOV_carefully_planned_assassination = {
		priority = 1

		icon = GFX_decision_generic_assassination

		ai_will_do = {
			base = 0
			modifier = {
				add = 200
				date > 1940.6.1 #Historical 20/08/1940
				has_country_flag = SOV_raided_trotskys_villa_flag
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					owns_state = 277
					owns_state = 110
				}
			}
		}

		target_root_trigger = {
			original_tag = SOV
			has_completed_focus = SOV_pol_nkvd6
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_country_flag = SOV_attempting_to_kill_trotsky_flag }
		}

		visible = {
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
			OR = {
				AND = {
					FROM = {
						controls_state = 277 #MEXICO CITY
					}
					OR = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
				AND = {
					FROM = {
						controls_state = 110 #OSTLANDET (Oslo) -> Trotsky not accepted in Mexico (or Soviets being super fast to kill him, which should be impossible btw)
					}
					has_global_flag = NOR_trotsky_in_norway
					NOT = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
			}
		}

		cost = 100

		fire_only_once = yes

		days_remove = 270

		modifier = {
			political_power_factor = -0.1
		}

		complete_effect = {
			set_country_flag = SOV_attempting_to_kill_trotsky_flag
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_attempting_to_kill_trotsky_flag
				random_list = {
					50 = {
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.25
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.5
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.75
							}
						}
						modifier = {
							factor = 2
							FROM = {
								has_opinion = {
									target = ROOT
									value > 50
								}
							}
						}
						modifier = {
							factor = 2.5
							FROM = {
								is_in_faction_with = ROOT
							}
						}
						modifier = {
							factor = 2
							has_country_flag = SOV_raided_trotskys_villa_flag
						}
						ROOT = { news_event = { id = news.37 } } #SUCCESS - Kill Trotsky and swap Trotskyite Plot NS
					}
					50 = {
						modifier = {
							factor = 0.5
							FROM = {
								is_subject_of = ROOT
							}
						}
						ROOT = { news_event = { id = news.38 } } #FAILURE - Trotsky still alive
					}
				}
			}
			custom_effect_tooltip = SOV_carefully_planned_assassination_tt
		}
	}
}


#### ##    ## ########  ##     ##  ######  ######## ########  ##    ##    ########  ######## ##        #######   ######     ###    ######## ####  #######  ##    ##
 ##  ###   ## ##     ## ##     ## ##    ##    ##    ##     ##  ##  ##     ##     ## ##       ##       ##     ## ##    ##   ## ##      ##     ##  ##     ## ###   ##
 ##  ####  ## ##     ## ##     ## ##          ##    ##     ##   ####      ##     ## ##       ##       ##     ## ##        ##   ##     ##     ##  ##     ## ####  ##
 ##  ## ## ## ##     ## ##     ##  ######     ##    ########     ##       ########  ######   ##       ##     ## ##       ##     ##    ##     ##  ##     ## ## ## ##
 ##  ##  #### ##     ## ##     ##       ##    ##    ##   ##      ##       ##   ##   ##       ##       ##     ## ##       #########    ##     ##  ##     ## ##  ####
 ##  ##   ### ##     ## ##     ## ##    ##    ##    ##    ##     ##       ##    ##  ##       ##       ##     ## ##    ## ##     ##    ##     ##  ##     ## ##   ###
#### ##    ## ########   #######   ######     ##    ##     ##    ##       ##     ## ######## ########  #######   ######  ##     ##    ##    ####  #######  ##    ##


#Category only allowed for SOV
SOV_industry_relocation = {

	SOV_generic_industry_relocation = {
		priority = 10

		icon = generic_construction

		ai_will_do = {
			factor = 0
			modifier = {
				add = 200 # oh shit they are getting close!
				FROM = {
					OR = {
						state = 219 #MOSCOW
						state = 195 #LENINGRAD
						state = 202 #KIEV
						state = 206 #MINSK
						state = 217 #STALINGRAD
					}
					any_neighbor_state = {
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
			}
			modifier = {
				factor = 0
				SOV_save_pp_for_manpower_trouble = yes
			}
		}

		state_target = yes

		#targets = { core_states }

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
				is_core_of = ROOT
				is_fully_controlled_by = ROOT
				is_on_continent = europe
				OR = {
					has_state_category = town
					has_state_category = large_town
					has_state_category = city
					has_state_category = large_city
					has_state_category = megalopolis
					has_state_category = metropolis
				}
				infrastructure > 2
			}
		}

		target_root_trigger = {
			original_tag = SOV
			has_completed_focus = SOV_war_mobilisation
			has_civil_war = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				infrastructure > 2
			}
			has_equipment = { train_equipment > 79 } #20 trains per factory
			has_war_with = GER
		}

		visible = {
			FROM = {
				OR = { #Has at least 4 factories
					arms_factory > 3
					industrial_complex > 3
					AND = {
						arms_factory > 1
						industrial_complex > 1
					}
				}
			}
		}

		cancel_if_not_visible = no

		cost = 25

		days_remove = SOV_industrial_relocation_days

		complete_effect = {  #Attempt to remove 5 CIVS & 5 MILS
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			custom_effect_tooltip = SOV_industry_relocation_complete_effect_tt
			#REMOVE factories
			FROM = {
				hidden_effect = {
					set_temp_variable = { SOV_factories_counter = 0 }

					#Attempt to relocate 50%-50% of mils-civs
					set_temp_variable = { SOV_half_the_factories_to_relocate = SOV.SOV_industrial_relocation_max_factories }
					divide_temp_variable = { SOV_half_the_factories_to_relocate = 2 }
					while_loop_effect = {
						limit = {
							check_variable = { SOV_factories_counter = SOV.SOV_industrial_relocation_max_factories compare = less_than }
						}
						if = { #GO MILS (if possible)
							limit = {
								check_variable = { SOV_factories_counter = SOV_half_the_factories_to_relocate compare = less_than }
							}
							if = {
								limit = {
									arms_factory > 0
								}
								remove_building = {
									type = arms_factory
									level = 1
								}
								if = {
									limit = {
										has_state_flag = SOV_mils_removed_flag
									}
									modify_state_flag = { flag = SOV_mils_removed_flag value = 1 }
								}
								else = {
									set_state_flag = SOV_mils_removed_flag
								}
							}
							else_if = {
								limit = {
									industrial_complex > 0
								}
								remove_building = {
									type = industrial_complex
									level = 1
								}
								if = {
									limit = {
										has_state_flag = SOV_civs_removed_flag
									}
									modify_state_flag = { flag = SOV_civs_removed_flag value = 1 }
								}
								else = {
									set_state_flag = SOV_civs_removed_flag
								}
							}
						}
						else = { #GO CIVS (if possible)
							if = {
								limit = {
									industrial_complex > 0
								}
								remove_building = {
									type = industrial_complex
									level = 1
								}
								if = {
									limit = {
										has_state_flag = SOV_civs_removed_flag
									}
									modify_state_flag = { flag = SOV_civs_removed_flag value = 1 }
								}
								else = {
									set_state_flag = SOV_civs_removed_flag
								}
							}
							else_if = {
								limit = {
									arms_factory > 0
								}
								remove_building = {
									type = arms_factory
									level = 1
								}
								if = {
									limit = {
										has_state_flag = SOV_mils_removed_flag
									}
									modify_state_flag = { flag = SOV_mils_removed_flag value = 1 }
								}
								else = {
									set_state_flag = SOV_mils_removed_flag
								}
							}
						}
						add_to_temp_variable = { SOV_factories_counter = 1 }
					}
				}
			}
		}

		remove_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_remove_effect_tt
			#RELOCATE FACTORIES
			FROM = {
				set_temp_variable = { SOV_factories_counter = 0 }
				#Factories attempt to get relocated in 2 different states
				set_temp_variable = { SOV_half_the_factories_to_relocate = SOV.SOV_industrial_relocation_max_factories }
				divide_temp_variable = { SOV_half_the_factories_to_relocate = 2 }
				while_loop_effect = { #NOTE: Due to the seed not changing during the execution of this effect, the same state will always be chosen, UNLESS it runs out of slots -> That's the reason for this 
					limit = {
						check_variable = { SOV_factories_counter = SOV_half_the_factories_to_relocate compare = less_than }
					}
					SOV_relocate_industry_in_appropriate_state_effect = yes
					add_to_temp_variable = { SOV_factories_counter = 1 }
				}
			}
			custom_effect_tooltip = SOV_relocate_industry_repair_tt
			custom_effect_tooltip = SOV_relocate_industry_lose_control_tt
		}

		# cancel_effect = {
		# 	FROM = {
		# 		set_temp_variable = { SOV_factories_counter = 0 }
		# 		#Factories attempt to get relocated in 2 different states
		# 		set_temp_variable = { SOV_half_the_factories_to_relocate = SOV.SOV_industrial_relocation_max_factories }
		# 		divide_temp_variable = { SOV_half_the_factories_to_relocate = 5 }
		# 		while_loop_effect = { #NOTE: Due to the seed not changing during the execution of this effect, the same state will always be chosen, UNLESS it runs out of slots -> That's the reason for this 
		# 			limit = {
		# 				check_variable = { SOV_factories_counter = SOV_half_the_factories_to_relocate compare = less_than }
		# 			}
		# 			SOV_relocate_industry_in_appropriate_state_effect = yes
		# 			add_to_temp_variable = { SOV_factories_counter = 1 }
		# 		}
		# 	}
		# }
	}

	move_leningrad_aluminium_plant = { #195

		icon = aluminium

		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_full_control_of_state = 195
			has_full_control_of_state = 569
			has_equipment = { train_equipment > 19 } #20 trains per factory
		}

		visible = {
			has_completed_focus = SOV_war_mobilisation
			controls_state = 195
			controls_state = 569
			195 = { has_state_flag = leningrad_aluminium_developed }
			has_civil_war = no
		}

		fire_only_once = yes

		cost = 25
		days_remove = SOV_industrial_relocation_days

		modifier = {

		}

		ai_will_do = {
			factor = 0.5
			modifier = {
				factor = 200 # oh shit they are getting close!
				OR = {
					AND = {
						owns_state = 208
						NOT = { controls_state = 208 }
					}
					AND = {
						owns_state = 209
						NOT = { controls_state = 209 }
					}
					AND = {
						owns_state = 244
						NOT = { controls_state = 244 }
					}
					AND = {
						owns_state = 263
						NOT = { controls_state = 263 }
					}
					AND = {
						owns_state = 191
						NOT = { controls_state = 191 }
					}
					AND = {
						owns_state = 146
						NOT = { controls_state = 146 }
					}
				}
			}
			modifier = {
				factor = 0
				SOV_save_pp_for_manpower_trouble = yes
			}
		}

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_aluminium_negative
					producer = SOV
				}
			}
			195 = {
				add_resource = {
					type = aluminium
					amount = -120
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_aluminium_plant_trains_tt
		}

		remove_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_aluminium
					producer = SOV
				}
			}
			if = {
				limit = {
					controls_state = 569
				}
				569 = {
					add_resource = {
						type = aluminium
						amount = 120
					}
				}
			}
			custom_effect_tooltip = SOV_relocate_industry_from_leningrad_tt
		}
	}
}


   ###    ########  #######  ##     ## ####  ######     ########  ########   #######        ## ########  ######  ######## 
  ## ##      ##    ##     ## ###   ###  ##  ##    ##    ##     ## ##     ## ##     ##       ## ##       ##    ##    ##    
 ##   ##     ##    ##     ## #### ####  ##  ##          ##     ## ##     ## ##     ##       ## ##       ##          ##    
##     ##    ##    ##     ## ## ### ##  ##  ##          ########  ########  ##     ##       ## ######   ##          ##    
#########    ##    ##     ## ##     ##  ##  ##          ##        ##   ##   ##     ## ##    ## ##       ##          ##    
##     ##    ##    ##     ## ##     ##  ##  ##    ##    ##        ##    ##  ##     ## ##    ## ##       ##    ##    ##    
##     ##    ##     #######  ##     ## ####  ######     ##        ##     ##  #######   ######  ########  ######     ##    





 ######   #######  ##     ## ########  ######   #######  ##    ## 
##    ## ##     ## ###   ### ##       ##    ## ##     ## ###   ## 
##       ##     ## #### #### ##       ##       ##     ## ####  ## 
##       ##     ## ## ### ## ######   ##       ##     ## ## ## ## 
##       ##     ## ##     ## ##       ##       ##     ## ##  #### 
##    ## ##     ## ##     ## ##       ##    ## ##     ## ##   ### 
 ######   #######  ##     ## ########  ######   #######  ##    ## 
 




 ######   ########  ########    ###    ########    ########     ###    ######## ########  ####  #######  ######## ####  ######     ##      ##    ###    ########  
##    ##  ##     ## ##         ## ##      ##       ##     ##   ## ##      ##    ##     ##  ##  ##     ##    ##     ##  ##    ##    ##  ##  ##   ## ##   ##     ## 
##        ##     ## ##        ##   ##     ##       ##     ##  ##   ##     ##    ##     ##  ##  ##     ##    ##     ##  ##          ##  ##  ##  ##   ##  ##     ## 
##   #### ########  ######   ##     ##    ##       ########  ##     ##    ##    ########   ##  ##     ##    ##     ##  ##          ##  ##  ## ##     ## ########  
##    ##  ##   ##   ##       #########    ##       ##        #########    ##    ##   ##    ##  ##     ##    ##     ##  ##          ##  ##  ## ######### ##   ##   
##    ##  ##    ##  ##       ##     ##    ##       ##        ##     ##    ##    ##    ##   ##  ##     ##    ##     ##  ##    ##    ##  ##  ## ##     ## ##    ##  
 ######   ##     ## ######## ##     ##    ##       ##        ##     ##    ##    ##     ## ####  #######     ##    ####  ######      ###  ###  ##     ## ##     ## 


SOV_great_patriotic_war = {

	SOV_evacuate_1_industry = {
		icon = generic_production_bonus
		allowed = { original_tag = SOV }
		is_good = yes

		activation = {
			has_country_flag = SOV_great_patriotic_war_start
			NOT = { has_country_flag = SOV_evacuate_1_industry_complete }
			any_owned_state = {
				SOV_is_industrial_relocation_area_1_state = yes
				is_controlled_by = ROOT
				OR = { arms_factory > 0 industrial_complex > 0 }
			}
		}

		visible = {
			has_country_flag = SOV_great_patriotic_war_start
			NOT = { has_country_flag = SOV_evacuate_1_industry_complete }
			any_owned_state = {
				SOV_is_industrial_relocation_area_1_state = yes
				is_controlled_by = ROOT
			}
		}

		available = { always = no }

		days_mission_timeout = 4
		days_remove = 5
		fire_only_once = no

		timeout_effect = {
			
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					SOV_is_industrial_relocation_area_1_state = yes
				}
				
				if = {
					limit = { arms_factory > 0 }
					
					ROOT = { clr_country_flag = SOV_factory_moved_successfully }
					ROOT = {
						random_owned_state = {
							limit = {
								SOV_is_industrial_relocation_destiny_state = yes
								is_controlled_by = ROOT
								free_building_slots = { building = arms_factory size > 0 include_locked = yes }
								NOT = { has_state_flag = SOV_evac_cooldown }
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = { type = arms_factory level = 1 instant_build = yes }
							damage_building = { type = arms_factory damage = 0.8 }
							
							set_state_flag = { flag = SOV_evac_cooldown days = 1 }
							ROOT = { set_country_flag = SOV_factory_moved_successfully }
						}
					}
					
					if = {
						limit = { ROOT = { has_country_flag = SOV_factory_moved_successfully } }
						remove_building = { type = arms_factory level = 1 }
					}
					
					ROOT = { clr_country_flag = SOV_factory_moved_successfully }
				}

				else_if = {
					limit = { industrial_complex > 0 }
					
					ROOT = { clr_country_flag = SOV_factory_moved_successfully }
					ROOT = {
						random_owned_state = {
							limit = {
								SOV_is_industrial_relocation_destiny_state = yes
								is_controlled_by = ROOT
								free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
								NOT = { has_state_flag = SOV_evac_cooldown }
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
							damage_building = { type = industrial_complex damage = 0.8 }
							
							set_state_flag = { flag = SOV_evac_cooldown days = 1 }
							ROOT = { set_country_flag = SOV_factory_moved_successfully }
						}
					}
					
					if = {
						limit = { ROOT = { has_country_flag = SOV_factory_moved_successfully } }
						remove_building = { type = industrial_complex level = 1 }
					}
					ROOT = { clr_country_flag = SOV_factory_moved_successfully }
				}
			}

			if = {
				limit = {
					any_owned_state = {
						SOV_is_industrial_relocation_area_1_state = yes
						is_controlled_by = ROOT
						OR = { arms_factory > 0 industrial_complex > 0 }
					}
				}
				hidden_effect = { activate_mission = SOV_evacuate_1_industry }
			}

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							SOV_is_industrial_relocation_area_1_state = yes
							is_controlled_by = ROOT
							OR = { arms_factory > 0 industrial_complex > 0 }
						}
					}
				}
				add_political_power = 2000 # TODO CHANGE TO GIVE BACK TRAINS
				set_country_flag = SOV_evacuate_1_industry_complete
			}
		}

		cancel_trigger = {
			NOT = {
				any_owned_state = {
					SOV_is_industrial_relocation_area_1_state = yes
					is_controlled_by = ROOT
				}
			}
		}
	}

	SOV_evacuate_2_industry = {
		icon = generic_production_bonus
		allowed = { original_tag = SOV }
		is_good = yes

		activation = {
			has_country_flag = SOV_great_patriotic_war_start
			NOT = { has_country_flag = SOV_evacuate_2_industry_complete }
			any_owned_state = {
				SOV_is_industrial_relocation_area_2_state = yes
				is_controlled_by = ROOT
				OR = { arms_factory > 0 industrial_complex > 0 }
			}
		}

		visible = {
			has_country_flag = SOV_great_patriotic_war_start
			NOT = { has_country_flag = SOV_evacuate_2_industry_complete }
			any_owned_state = {
				SOV_is_industrial_relocation_area_2_state = yes
				is_controlled_by = ROOT
			}
		}

		available = { always = no }

		days_mission_timeout = 9
		days_remove = 10
		fire_only_once = no

		timeout_effect = {
			
			# Iterate through every state in AREA 2
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					SOV_is_industrial_relocation_area_2_state = yes
				}
				
				# --- LOGIC FOR MILITARY FACTORIES ---
				if = {
					limit = { arms_factory > 0 }
					
					# 1. Clear the success flag to ensure a fresh attempt
					ROOT = { clr_country_flag = SOV_factory_moved_successfully }
					
					# 2. Attempt to find a destiny state and build the factory
					ROOT = {
						random_owned_state = {
							limit = {
								SOV_is_industrial_relocation_destiny_state = yes
								is_controlled_by = ROOT
								free_building_slots = { building = arms_factory size > 0 include_locked = yes }
								NOT = { has_state_flag = SOV_evac_cooldown }
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = { type = arms_factory level = 1 instant_build = yes }
							damage_building = { type = arms_factory damage = 0.4 }
							
							set_state_flag = { flag = SOV_evac_cooldown days = 1 }
							
							# 3. If this block ran successfully, set the receipt flag
							ROOT = { set_country_flag = SOV_factory_moved_successfully }
						}
					}
					
					# 4. If the receipt flag exists, delete the factory from the source
					if = {
						limit = { ROOT = { has_country_flag = SOV_factory_moved_successfully } }
						remove_building = { type = arms_factory level = 1 }
					}
					
					# 5. Clean up flag
					ROOT = { clr_country_flag = SOV_factory_moved_successfully }
				}

				# --- LOGIC FOR CIVILIAN FACTORIES ---
				else_if = {
					limit = { industrial_complex > 0 }
					
					ROOT = { clr_country_flag = SOV_factory_moved_successfully }
					ROOT = {
						random_owned_state = {
							limit = {
								SOV_is_industrial_relocation_destiny_state = yes
								is_controlled_by = ROOT
								free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
								NOT = { has_state_flag = SOV_evac_cooldown }
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
							damage_building = { type = industrial_complex damage = 0.4 }
							
							set_state_flag = { flag = SOV_evac_cooldown days = 1 }
							ROOT = { set_country_flag = SOV_factory_moved_successfully }
						}
					}
					
					if = {
						limit = { ROOT = { has_country_flag = SOV_factory_moved_successfully } }
						remove_building = { type = industrial_complex level = 1 }
					}
					ROOT = { clr_country_flag = SOV_factory_moved_successfully }
				}
			}

			# --- RE-TRIGGER LOGIC ---
			# If there are still factories left in Area 2, restart the mission
			if = {
				limit = {
					any_owned_state = {
						SOV_is_industrial_relocation_area_2_state = yes
						is_controlled_by = ROOT
						OR = { arms_factory > 0 industrial_complex > 0 }
					}
				}
				hidden_effect = { activate_mission = SOV_evacuate_2_industry }
			}

			# --- COMPLETION LOGIC ---
			# If no factories are left, finish the mission
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							SOV_is_industrial_relocation_area_2_state = yes
							is_controlled_by = ROOT
							OR = { arms_factory > 0 industrial_complex > 0 }
						}
					}
				}
				add_political_power = 2000 # TODO: Remember to change this to give back trains/CP
				set_country_flag = SOV_evacuate_2_industry_complete
			}
		}

		cancel_trigger = {
			NOT = {
				any_owned_state = {
					SOV_is_industrial_relocation_area_2_state = yes
					is_controlled_by = ROOT
				}
			}
		}
	}

	SOV_evacuate_3_industry = {
        icon = generic_production_bonus
        allowed = { original_tag = SOV }
        is_good = yes

        activation = {
            has_country_flag = SOV_great_patriotic_war_start
            NOT = { has_country_flag = SOV_evacuate_3_industry_complete }
            any_owned_state = {
                SOV_is_industrial_relocation_area_3_state = yes
                is_controlled_by = ROOT
                OR = { arms_factory > 0 industrial_complex > 0 }
            }
        }

        visible = {
            has_country_flag = SOV_great_patriotic_war_start
            NOT = { has_country_flag = SOV_evacuate_3_industry_complete }
            any_owned_state = {
                SOV_is_industrial_relocation_area_3_state = yes
                is_controlled_by = ROOT
            }
        }

        available = { always = no }

        # Slower evacuation for the deep interior states
        days_mission_timeout = 14
        days_remove = 15
        fire_only_once = no

        timeout_effect = {
            
            every_owned_state = {
                limit = {
                    is_controlled_by = ROOT
                    SOV_is_industrial_relocation_area_3_state = yes
                }
                
                # --- MILITARY FACTORIES ---
                if = {
                    limit = { arms_factory > 0 }
                    
                    ROOT = { clr_country_flag = SOV_factory_moved_successfully }
                    ROOT = {
                        random_owned_state = {
                            limit = {
                                SOV_is_industrial_relocation_destiny_state = yes
                                is_controlled_by = ROOT
                                free_building_slots = { building = arms_factory size > 0 include_locked = yes }
                                NOT = { has_state_flag = SOV_evac_cooldown }
                            }
                            add_extra_state_shared_building_slots = 1
                            add_building_construction = { type = arms_factory level = 1 instant_build = yes }
                            damage_building = { type = arms_factory damage = 0.2 }
                            
                            set_state_flag = { flag = SOV_evac_cooldown days = 1 }
                            ROOT = { set_country_flag = SOV_factory_moved_successfully }
                        }
                    }
                    
                    if = {
                        limit = { ROOT = { has_country_flag = SOV_factory_moved_successfully } }
                        remove_building = { type = arms_factory level = 1 }
                    }
                    
                    ROOT = { clr_country_flag = SOV_factory_moved_successfully }
                }

                # --- CIVILIAN FACTORIES ---
                else_if = {
                    limit = { industrial_complex > 0 }
                    
                    ROOT = { clr_country_flag = SOV_factory_moved_successfully }
                    ROOT = {
                        random_owned_state = {
                            limit = {
                                SOV_is_industrial_relocation_destiny_state = yes
                                is_controlled_by = ROOT
                                free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
                                NOT = { has_state_flag = SOV_evac_cooldown }
                            }
                            add_extra_state_shared_building_slots = 1
                            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
                            damage_building = { type = industrial_complex damage = 0.2 }
                            
                            set_state_flag = { flag = SOV_evac_cooldown days = 1 }
                            ROOT = { set_country_flag = SOV_factory_moved_successfully }
                        }
                    }
                    
                    if = {
                        limit = { ROOT = { has_country_flag = SOV_factory_moved_successfully } }
                        remove_building = { type = industrial_complex level = 1 }
                    }
                    ROOT = { clr_country_flag = SOV_factory_moved_successfully }
                }
            }

            # --- LOOP LOGIC ---
            if = {
                limit = {
                    any_owned_state = {
                        SOV_is_industrial_relocation_area_3_state = yes
                        is_controlled_by = ROOT
                        OR = { arms_factory > 0 industrial_complex > 0 }
                    }
                }
                hidden_effect = { activate_mission = SOV_evacuate_3_industry }
            }

            # --- COMPLETION LOGIC ---
            if = {
                limit = {
                    NOT = {
                        any_owned_state = {
                            SOV_is_industrial_relocation_area_3_state = yes
                            is_controlled_by = ROOT
                            OR = { arms_factory > 0 industrial_complex > 0 }
                        }
                    }
                }
                add_political_power = 2000 # TODO Change to give back trains
                set_country_flag = SOV_evacuate_3_industry_complete
            }
        }

        cancel_trigger = {
            NOT = {
                any_owned_state = {
                    SOV_is_industrial_relocation_area_3_state = yes
                    is_controlled_by = ROOT
                }
            }
        }
    }

	SOV_raise_penal_units = {
		priority = 21

		icon = GFX_decision_generic_arrest

		ai_will_do = {
			base = 5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = { flag = SOV_penal_units_raised_flag days > 365 }
			custom_trigger_tooltip = {
				tooltip = SOV_raise_penal_units_days_tt
				has_country_flag = {
					flag = SOV_penal_units_raised_flag
					days > 365
				}
			}
			any_enemy_country = { SOV_is_major_not_original_sov = yes }
		}

		visible = {
			has_completed_focus = SOV_focus_forced_labour
			any_enemy_country = { SOV_is_major_not_original_sov = yes }
		}

		cost = 50

		days_remove = 35

		complete_effect = {
		}

		remove_effect = {
			clr_country_flag = SOV_penal_units_raised_flag
			SOV_spawn_penal_divisions_effect = yes
		}
	}

	SOV_factory_worker_militias = {
		priority = 20

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 15
				FROM = {
					OR = {
						state = 219 #MOSCOW
						state = 195 #LENINGRAD
						state = 217 #STALINGRAD
						state = 137 #SEVASTOPOL
						state = 206 #MINSK
						state = 202 #KIEV
					}
				}
				#ROOT = { manpower_per_military_factory > 15000 } #Don't waste if we need better manpower laws
			}
		}

		state_target = yes

		target_trigger = {
			FROM = {
				is_core_of = ROOT
				OR = {
					industrial_complex > 0
					arms_factory > 0
					dockyard > 0
				}
			}
		}

		target_root_trigger = {
			has_completed_focus = SOV_war_mobilisation
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				NOT = { has_dynamic_modifier = { modifier = SOV_civilian_labor_in_defense_mod } }
			}
		}

		visible = {
			any_enemy_country = { SOV_is_major_not_original_sov = yes }
			NOT = { has_country_flag = SOV_order_227_flag }
			FROM = {
				is_controlled_by = ROOT
				any_neighbor_state = {
					controller = { has_war_with = ROOT }
				}
			}
		}

		ai_hint_pp_cost = 25
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 24
		}
		custom_cost_text = decision_cost_CP_25_pp_25

		days_remove = 90

		cancel_if_not_visible = yes

		cancel_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = SOV_factory_worker_militias_raised }
			}
		}

		complete_effect = {
			hidden_effect = {
				#Cost
				add_command_power = -25
				add_political_power = -25

				FROM = {
					add_dynamic_modifier = {
						modifier = SOV_factory_worker_militias_raised
						scope = SOV
					}
				}
			}
			custom_effect_tooltip = SOV_factory_worker_militias_state_modifier_tt
		}

		remove_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = SOV_factory_worker_militias_raised }
			}
		}
	}

	SOV_civilian_labor_in_defense = {
		priority = 10

		icon = POL_organize_strike_two

		state_target = yes

		target_trigger = {
			FROM = {
				is_core_of = ROOT
				OR = {
					has_state_category = city
					has_state_category = large_city
					has_state_category = megalopolis
					has_state_category = metropolis
				}
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 15
				FROM = {
					OR = {
						state = 219 #MOSCOW
						state = 195 #LENINGRAD
						state = 217 #STALINGRAD
						state = 137 #SEVASTOPOL
						state = 206 #MINSK
						state = 202 #KIEV
					}
				}
				#ROOT = { manpower_per_military_factory > 15000 } #Don't waste if we need better manpower laws
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				NOT = { has_dynamic_modifier = { modifier = SOV_factory_worker_militias_raised } }
			}
		}

		visible = {
			has_completed_focus = SOV_war_mobilisation
			any_enemy_country = { SOV_is_major_not_original_sov = yes }
			NOT = { has_country_flag = SOV_order_227_flag }
			FROM = {
				is_controlled_by = ROOT
				any_neighbor_state = {
					controller = { has_war_with = ROOT }
				}
			}
		}

		ai_hint_pp_cost = 25
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 24
		}
		custom_cost_text = decision_cost_CP_25_pp_25

		days_remove = 90

		cancel_if_not_visible = yes

		cancel_trigger = {
			FROM = {
				OR = {
					NOT = { is_controlled_by = ROOT }
					NOT = {
						any_neighbor_state = {
							controller = { has_war_with = ROOT }
						}
					}
				}
			}
		}

		cancel_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = SOV_civilian_labor_in_defense_mod }
			}
		}

		complete_effect = {
			hidden_effect = {
				#Cost
				add_command_power = -25
				add_political_power = -25

				FROM = {
					add_dynamic_modifier = {
						modifier = SOV_civilian_labor_in_defense_mod
						scope = SOV
					}
				}
			}
			custom_effect_tooltip = SOV_civilian_labor_in_defense_state_modifier_tt
		}

		remove_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = SOV_civilian_labor_in_defense_mod }
			}
		}
	}

	##########################
	###### Move Capital# #####
	##########################

	SOV_move_capital_kazan = {

		icon = generic_nationalism

		allowed = {
			original_tag = SOV
		}
		
		available = {
			219 = {
				is_capital = no
			}
		}

		visible = {
			249 = {
				is_capital = no
			}

		}
		
		complete_effect = {
			set_capital =  { state = 249 }
		}
	}

	SOV_move_capital_chelyabinsh = {

		icon = generic_nationalism

		allowed = {
			original_tag = SOV
		}
		
		available = {
			219 = {
				is_capital = no
			}
		}

		visible = {
			572 = {
				is_capital = no
			}

		}
		
		complete_effect = {
			set_capital =  { state = 572 }
		}
	}

	SOV_move_capital_omsk = {

		icon = generic_nationalism

		allowed = {
			original_tag = SOV
		}
		
		available = {
			219 = {
				is_capital = no
			}
		}

		visible = {
			571 = {
				is_capital = no
			}

		}
		
		complete_effect = {
			set_capital =  { state = 571 }
		}
	}

	SOV_move_capital_baku = {

		icon = generic_nationalism

		allowed = {
			original_tag = SOV
		}
		
		available = {
			219 = {
				is_capital = no
			}
		}

		visible = {
			229 = {
				is_capital = no
			}

		}
		
		complete_effect = {
			set_capital =  { state = 229 }
		}
	}

	SOV_move_capital_vladivostok = {

		icon = generic_nationalism

		allowed = {
			original_tag = SOV
		}
		
		available = {
			219 = {
				is_capital = no
			}
		}

		visible = {
			408 = {
				is_capital = no
			}

		}
		
		complete_effect = {
			set_capital =  { state = 408 }
		}
	}
}

################################################################################
	
	 ##  ##  #   # ### ### ###      ##  ### #   # ### #       #   #  ##  ###  
	#   #  # #   #  #  #    #      #  #  #  #   #  #  #       #   # #  # #  # 
	 #  #  #  # #   #  ##   #      #     #   # #   #  #       # # # #### ###  
	  # #  #  # #   #  #    #      #  #  #   # #   #  #       # # # #  # #  # 
	##   ##    #   ### ###  #       ##  ###   #   ### ###      # #  #  # #  # 
	

################################################################################




########  ######## ########  ##     ##    ###    ##    ## ######## ##    ## ########    ########  ######## ##     ##  #######  ##       ##     ## ######## ####  #######  ##    ## 
##     ## ##       ##     ## ###   ###   ## ##   ###   ## ##       ###   ##    ##       ##     ## ##       ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ###   ## 
##     ## ##       ##     ## #### ####  ##   ##  ####  ## ##       ####  ##    ##       ##     ## ##       ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ####  ## 
########  ######   ########  ## ### ## ##     ## ## ## ## ######   ## ## ##    ##       ########  ######   ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ## ## ## 
##        ##       ##   ##   ##     ## ######### ##  #### ##       ##  ####    ##       ##   ##   ##        ##   ##  ##     ## ##       ##     ##    ##     ##  ##     ## ##  #### 
##        ##       ##    ##  ##     ## ##     ## ##   ### ##       ##   ###    ##       ##    ##  ##         ## ##   ##     ## ##       ##     ##    ##     ##  ##     ## ##   ### 
##        ######## ##     ## ##     ## ##     ## ##    ## ######## ##    ##    ##       ##     ## ########    ###     #######  ########  #######     ##    ####  #######  ##    ## 


# SOV_permanent_revolution_dec_cat = {
# 	SOV_organize_fifth_columnists_in_enemy_neighbor = { #Initially for Enemy European Neighbors -> Then other continents
# 		priority = 10

# 		icon = GFX_decision_generic_nationalism

# 		ai_will_do = {
# 			base = 0.7
# 		}

# 		target_trigger = {
# 			FROM = {
# 				exists = yes
# 				has_war_with = ROOT
# 				NOT = { original_tag = SOV }
# 				any_controlled_state = {
# 					is_in_home_area = yes
# 					any_neighbor_state = {
# 						is_controlled_by = ROOT
# 					}
# 				}
# 			}
# 			SOV_target_capital_is_on_unlocked_continent_fifth_columnists = yes
# 		}

# 		allowed = { 
# 			original_tag = SOV
# 		}

# 		available = {
# 			FROM = {
# 				has_civil_war = no
# 				any_controlled_state = {
# 					is_in_home_area = yes
# 					is_capital = no
# 				}
# 			}
# 			has_equipment = {
# 			    infantry_equipment > 19999
# 			}
# 		}

# 		visible = {
			
# 			FROM = {
# 				exists = yes
# 				NOT = { has_government = communism }
# 			}
# 		}

# 		cost = 150

# 		fire_only_once = yes

# 		days_remove = SOV_permanent_revolution_uprising_days

# 		complete_effect = {
# 			add_equipment_to_stockpile = {
# 			    type = infantry_equipment
# 			    amount = -20000
# 			}
# 			hidden_effect = {
# 				FROM = {
# 					set_country_flag = SOV_permanent_revolution_ignite_uprising_timer_flag
# 					activate_mission = SOV_ignite_uprising_timer_mission
# 				}
# 			}
# 		}

# 		remove_effect = {
# 			SOV_permanent_revolution_spawn_fifth_columnists_effect = yes
# 		}
# 	}

# 	SOV_ignite_revolutionary_uprisings = {
# 		priority = 5

# 		icon = generic_political_rally

# 		target_trigger = {
# 			FROM = {
# 				exists = yes
# 				NOT = { is_in_faction_with = ROOT }
# 				NOT = { tag = ROOT }
# 				NOT = { original_tag = SOV }
# 				has_capitulated = no
# 				NOT = { has_government = communism }
# 			}
# 		}

# 		ai_will_do = {
# 			base = 0
# 			modifier = {
# 				add = 1
# 				FROM = {
# 					communism > 0.4
# 				}
# 			}
# 		}

# 		allowed = {
# 			original_tag = SOV
# 		}

# 		available = {
# 			NOT = { has_war_with = FROM }
# 			FROM = {
# 				NOT = { has_government = communism }
# 			}
# 			FROM = {
# 				communism > 0.1
# 			}
# 		}
		
# 		visible = {
# 			SOV_target_capital_is_on_unlocked_continent_uprisings = yes
# 			country_exists = FROM
# 			NOT = { has_war_with = FROM }
# 			FROM = {
# 				NOT = { is_in_faction_with = ROOT }
# 				has_capitulated = no
# 				NOT = { has_government = communism }
# 				any_controlled_state = {
# 					is_in_home_area = yes
# 					any_neighbor_state = {
# 						is_controlled_by = ROOT
# 					}
# 				}
# 			}
# 		}

# 		cost = 50

# 		fire_only_once = yes

# 		days_remove = 120
		
# 		complete_effect = {
# 			FROM = {
# 				if = { #If country has banned communism, then add the weakened version of the NS
# 					limit = {
# 						has_country_flag = banned_communism_flag
# 					}
# 					add_timed_idea = {
# 						idea = SOV_trotskyist_revolutionary_agitation_weakened
# 						days = 120
# 					}
# 				}
# 				else = {
# 					add_timed_idea = {
# 						idea = SOV_trotskyist_revolutionary_agitation
# 						days = 120
# 					}
# 				}
# 				country_event = { id = NSB_soviet_permanent_revolution.1 hours = 2 }
# 			}
# 			hidden_effect = {
# 				FROM = {
# 					add_ai_strategy = {
# 						type = prepare_for_war
# 						id = ROOT
# 						value = 100
# 					}
# 				}
# 			}
# 		}

# 		remove_effect = {
# 			create_wargoal = {
# 				type = topple_government
# 				target = FROM
# 				expire = 90
# 			}
# 		}
# 	}

# 	SOV_ignite_uprising_timer_mission = {

# 		icon = generic_ignite_civil_war

# 		available = {
# 			hidden_trigger = { always = no }
# 		}

# 		days_mission_timeout = SOV.SOV_permanent_revolution_uprising_days

# 		fire_only_once = yes

# 		activation = {
# 			always = no
# 		}

# 		visible = {
# 			has_country_flag = SOV_permanent_revolution_ignite_uprising_timer_flag
# 		}

# 		cancel_if_not_visible = no

# 		is_good = yes

# 		timeout_effect = {
# 			clr_country_flag = SOV_permanent_revolution_ignite_uprising_timer_flag
# 			custom_effect_tooltip = SOV_ignite_uprising_timer_mission_tt
# 		}
# 	}
# }


SOV_organise_partisans = {
	SOV_generic_partisans = {
		priority = 10

		icon = generic_ignite_civil_war

		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
				is_core_of = ROOT
				NOT = {
					is_controlled_by = ROOT
				}
			}
		}

		target_root_trigger = {
			original_tag = SOV
			has_completed_focus = SOV_partisan_organisation
		}

		allowed = {
			original_tag = SOV
		}

		visible = {
			NOT = { has_country_flag = SOV_partisan_operation_progress }
		}

		cancel_if_not_visible = no

		cost = 0

		days_remove = 90
		
		days_re_enable = 80

		complete_effect = {
			FROM = {
				add_dynamic_modifier = { modifier = SOV_partisan_uprising }
			}
			set_country_flag = SOV_partisan_operation_progress
		}

		remove_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = SOV_partisan_uprising }
			}
			clr_country_flag = SOV_partisan_operation_progress
		}
	}
}

##     ##    ###    ##    ## #### ##       ##          ###    
##     ##   ## ##   ###   ##  ##  ##       ##         ## ##   
##     ##  ##   ##  ####  ##  ##  ##       ##        ##   ##  
##     ## ##     ## ## ## ##  ##  ##       ##       ##     ## 
 ##   ##  ######### ##  ####  ##  ##       ##       ######### 
  ## ##   ##     ## ##   ###  ##  ##       ##       ##     ## 
   ###    ##     ## ##    ## #### ######## ######## ##     ## 


operations = {

	SOV_winter_war = {
		icon = generic_operation

		allowed = {
			always = no
		}

		available = {
			146 = { is_controlled_by_ROOT_or_ally = yes }
			147 = { is_controlled_by_ROOT_or_ally = yes }
			has_war = no 
		}

		days_mission_timeout = 210
		fire_only_once = yes
		is_good = no

		timeout_effect = {
			add_war_support = -0.15
			add_stability = -0.15
			add_timed_idea = {
				idea = SOV_assure_competency
				days = 150
			}
			diplomatic_relation = {
				country = FIN
				relation = non_aggression_pact
			}
			FIN = { set_country_flag = winter_war_finished }
			white_peace = FIN
			set_global_flag = FIN_winter_victory
			set_global_flag = SOV_winter_war_loss
			hidden_effect = {
				MON = {
					remove_ideas = MON_brothers_war
				}
				# if = {
				# 	limit = {
				# 		country_exists = KSR
				# 	}
				# 	KSR = {
				# 		remove_ideas = MON_brothers_war
				# 	}
				# }
			}
		}

		complete_effect = {
			set_global_flag = SOV_winter_war_win
			add_war_support = 0.05
			add_stability = 0.05
			add_doctrine_cost_reduction = {
				name = doc_bonus
				cost_reduction = 0.25
				uses = 2
				category = land_doctrine
			}
		}
	}

	SOV_winter_war_catastrophe_mission = {
		icon = generic_operation

		visible = {
			has_active_mission = SOV_winter_war
		}

		allowed = {
			always = no
		}

		available = {
			has_war_with = FIN
			casualties > 250000
		}

		cancel_trigger = {
        has_war = no
    	}

		days_mission_timeout = 210
		fire_only_once = yes
		is_good = no

		timeout_effect = {
			
		}

		complete_effect = {
			set_country_flag = SOV_winter_war_catastrophe
		}
	}

	SOV_winter_war_victory = {
		icon = generic_operation

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_active_mission = SOV_winter_war
		}

		available = {
			has_war_with = FIN
			OR = {
				FIN = {
					casualties > 85000
				}

				FIN = {
					surrender_progress > 0.25
				}
			}
		}

		cancel_trigger = {
			NOT = { has_war_with = FIN }
		}

		days_remove = 7
		fire_only_once = yes

		remove_effect = {
			set_global_flag = SOV_winter_war_win
			SOV = {
				white_peace = FIN
				transfer_state = 146
				transfer_state = 147
			}
			FIN = { set_country_flag = winter_war_finished }
			diplomatic_relation = {
				country = FIN
				relation = non_aggression_pact
			}
			hidden_effect = {
				MON = {
					remove_ideas = MON_brothers_war
				}
				# if = {
				# 	limit = {
				# 		country_exists = KSR
				# 	}
				# 	KSR = {
				# 		remove_ideas = MON_brothers_war
				# 	}
				# }
			}
		}
	}

	SOV_bessarabia_lessons = {
		icon = generic_operation

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_war_with = ROM
			ROM = { NOT = { has_country_flag = bessarabia_finished  } }
		}

		available = {
			has_war_with = ROM
			casualties > 125000
		}

		fire_only_once = yes

		days_remove = 7

		remove_effect = {
			add_timed_idea = {
				idea = SOV_bessarabia_adapt
				days = 90
			}
		}

	}

	SOV_bessarabia_victory = {
		icon = generic_operation

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_war_with = ROM
			ROM = { NOT = { has_country_flag = bessarabia_finished  } }
		}

		available = {
			has_war_with = ROM
			OR = {
				ROM = {
					casualties > 75000
				}
				ROM = {
					surrender_progress > 0.3
				}
			}
		}

		days_remove = 7
		fire_only_once = yes

		remove_effect = {
			SOV = {
				white_peace = ROM
 				transfer_state = 78
				transfer_state = 80
 				transfer_state = 766
			}
			ROM = { set_country_flag = bessarabia_finished }
			diplomatic_relation = {
				country = SOV
				relation = non_aggression_pact
			}
		}
	}

}

# political_actions = {

# 	demand_tribute_from_new_communist_china = {

# 		icon = generic_civil_support

# 		allowed = {
# 			tag = SOV
# 		}

# 		icon = generic_political_actions

# 		available = {
			
# 		}

# 		ai_will_do = {
# 			base = 0
# 			modifier = {
# 				add = 150
# 					#Has somewhat won against CHI and JAP
# 				count_triggers = {
# 					amount = 10
# 					595 = { is_controlled_by = FROM }
# 					596 = { is_controlled_by = FROM }
# 					597 = { is_controlled_by = FROM }
# 					598 = { is_controlled_by = FROM }
# 					600 = { is_controlled_by = FROM }
# 					601 = { is_controlled_by = FROM }
# 					602 = { is_controlled_by = FROM }
# 					603 = { is_controlled_by = FROM }
# 					605 = { is_controlled_by = FROM }
# 					606 = { is_controlled_by = FROM }
# 					607 = { is_controlled_by = FROM }
# 					608 = { is_controlled_by = FROM }
# 					613 = { is_controlled_by = FROM }
# 					614 = { is_controlled_by = FROM }
# 					620 = { is_controlled_by = FROM }				
# 				}
# 			}

# 		}

# 		cost = 10

# 		visible = {
# 			has_government = communism
# 			FROM = {
# 				has_country_flag = WTT_support_from_soviet
# 				NOT = { has_war_with = ROOT }
# 				NOT = { is_subject_of = ROOT }
# 				NOT = {	has_idea = PRC_soviet_tribute_6 }
# 			}
# 		}

# 		targets = { CHI PRC GXC YUN SHX XSM SIK }
# 		targets_dynamic = yes

# 		target_trigger = {
# 			FROM = { 
# 				tag = event_target:WTT_communist_china
# 				has_country_flag = WTT_support_from_soviet 
# 			}
# 		}

# 		fire_only_once = no

# 		days_re_enable = 180

# 		complete_effect = {
# 			FROM = {
# 				country_event = { id = wtt_warlord_vs_prc.21 }
# 				custom_effect_tooltip = if_they_accept
# 				effect_tooltip = {
# 					PRC_soviet_tribute_level_up = yes	
# 				}
# 			}
# 		}
# 	}

# 	demand_full_integration = {

# 		icon = generic_civil_support

# 		allowed = {
# 			tag = SOV			
# 		}

# 		icon = generic_political_actions

# 		available = {
# 			FROM = { has_soviet_tribute = yes }
# 		}

# 		cost = WTT_communist_china_integration_cost?300

# 		visible = {
# 			has_government = communism
# 			FROM = { has_country_flag = WTT_support_from_soviet }
# 		}

# 		targets = { CHI PRC GXC YUN SHX XSM SIK }
# 		targets_dynamic = yes

# 		target_trigger = {
# 			FROM = { has_country_flag = WTT_support_from_soviet }
# 		}

# 		ai_will_do = {
# 			base = 0
# 			modifier = {
# 				add = 100
# 				#Has won against CHI and JAP
# 				595 = { is_controlled_by = FROM }
# 				596 = { is_controlled_by = FROM }
# 				597 = { is_controlled_by = FROM }
# 				598 = { is_controlled_by = FROM }
# 				600 = { is_controlled_by = FROM }
# 				601 = { is_controlled_by = FROM }
# 				602 = { is_controlled_by = FROM }
# 				603 = { is_controlled_by = FROM }
# 				605 = { is_controlled_by = FROM }
# 				606 = { is_controlled_by = FROM }
# 				607 = { is_controlled_by = FROM }
# 				608 = { is_controlled_by = FROM }
# 				613 = { is_controlled_by = FROM }
# 				614 = { is_controlled_by = FROM }
# 				620 = { is_controlled_by = FROM }
# 			}
# 			modifier = {
# 				add = 50
# 				FROM = {
# 					check_variable = { WTT_communist_china_integration_cost < 200 }
# 				}
# 			}
# 			modifier = {
# 				add = 50
# 				FROM = {
# 					check_variable = { WTT_communist_china_integration_cost < 150 }
# 				}
# 			}
# 			modifier = {
# 				add = 50
# 				FROM = {
# 					check_variable = { WTT_communist_china_integration_cost < 100 }
# 				}
# 			}
# 		}

# 		fire_only_once = yes

# 		complete_effect = {
# 			FROM = { country_event = { id = wtt_warlord_vs_prc.31 } }
# 		}
# 	}	

# 	#SOVIET MISSION TO OCCUPY TURKEY
# 	SOV_set_up_puppet_state_in_turkey = {

# 		icon = generic_civil_support

# 		allowed = {
# 			has_dlc = "Battle for the Bosporus"
# 			tag = SOV
# 		}

# 		available = {
# 			NOT = { army_manpower_in_state = { state = 354 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 353 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 352 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 349 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 350 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 355 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 800 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 344 amount < 28800 } }
# 			NOT = { army_manpower_in_state = { state = 348 amount < 48000 } }
# 			NOT = { army_manpower_in_state = { state = 356 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 346 amount < 9600 } }
# 			NOT = { army_manpower_in_state = { state = 345 amount < 28800 } }
# 			NOT = { army_manpower_in_state = { state = 343 amount < 48000 } }
# 			NOT = { army_manpower_in_state = { state = 347 amount < 48000 } }
# 			NOT = { army_manpower_in_state = { state = 339 amount < 48000 } }
# 			NOT = { army_manpower_in_state = { state = 342 amount < 48000 } }
# 			NOT = { army_manpower_in_state = { state = 343 amount < 48000 } }
# 			NOT = { army_manpower_in_state = { state = 49 amount < 124000 } }
# 		}

# 		target_trigger = {
# 			FROM = {
# 				original_tag = TUR
# 			}
# 		}

# 		cost = 50

# 		fire_only_once = yes

# 		days_remove = 90

# 		visible = {
# 			has_government = communism
# 			has_global_flag = GRE_turkey_surrenders
# 			FROM = {
# 				NOT = { 
# 					is_subject_of = SOV 
# 					is_subject_of = GRE
# 				}
# 			}
# 		}

# 		cancel_if_not_visible = yes

# 		remove_effect = {
# 		}

# 		complete_effect = {
# 			TUR = {
# 				country_event = { id = bftb_greece.34 }
# 			}
# 			hidden_effect = {
# 				clr_global_flag = GRE_turkey_surrenders
# 			}
# 		}

# 		ai_will_do = {
# 			factor = 0
# 		}
# 	}

# }